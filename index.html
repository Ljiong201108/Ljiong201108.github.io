<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=2">
<meta name="theme-color" content="#222">
<meta name="generator" content="Hexo 4.2.1">
  <link rel="apple-touch-icon" sizes="180x180" href="/images/apple-touch-icon-next.png">
  <link rel="icon" type="image/png" sizes="32x32" href="/images/favicon-32x32-next.png">
  <link rel="icon" type="image/png" sizes="16x16" href="/images/favicon-16x16-next.png">
  <link rel="mask-icon" href="/images/logo.svg" color="#222">

<link rel="stylesheet" href="/css/main.css">


<link rel="stylesheet" href="/lib/font-awesome/css/all.min.css">

<script id="hexo-configurations">
    var NexT = window.NexT || {};
    var CONFIG = {"hostname":"yoursite.com","root":"/","scheme":"Gemini","version":"7.8.0","exturl":false,"sidebar":{"position":"left","display":"post","padding":18,"offset":12,"onmobile":false},"copycode":{"enable":false,"show_result":false,"style":null},"back2top":{"enable":true,"sidebar":false,"scrollpercent":false},"bookmark":{"enable":false,"color":"#222","save":"auto"},"fancybox":false,"mediumzoom":false,"lazyload":false,"pangu":false,"comments":{"style":"tabs","active":null,"storage":true,"lazyload":false,"nav":null},"algolia":{"hits":{"per_page":10},"labels":{"input_placeholder":"Search for Posts","hits_empty":"We didn't find any results for the search: ${query}","hits_stats":"${hits} results found in ${time} ms"}},"localsearch":{"enable":false,"trigger":"auto","top_n_per_article":1,"unescape":false,"preload":false},"motion":{"enable":true,"async":false,"transition":{"post_block":"fadeIn","post_header":"slideDownIn","post_body":"slideDownIn","coll_header":"slideLeftIn","sidebar":"slideUpIn"}}};
  </script>

  <meta property="og:type" content="website">
<meta property="og:title" content="Ljiong">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Ljiong">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Jiong Liu">
<meta name="twitter:card" content="summary">

<link rel="canonical" href="http://yoursite.com/">


<script id="page-configurations">
  // https://hexo.io/docs/variables.html
  CONFIG.page = {
    sidebar: "",
    isHome : true,
    isPost : false,
    lang   : 'zh-CN'
  };
</script>

  <title>Ljiong</title>
  






  <noscript>
  <style>
  .use-motion .brand,
  .use-motion .menu-item,
  .sidebar-inner,
  .use-motion .post-block,
  .use-motion .pagination,
  .use-motion .comments,
  .use-motion .post-header,
  .use-motion .post-body,
  .use-motion .collection-header { opacity: initial; }

  .use-motion .site-title,
  .use-motion .site-subtitle {
    opacity: initial;
    top: initial;
  }

  .use-motion .logo-line-before i { left: initial; }
  .use-motion .logo-line-after i { right: initial; }
  </style>
</noscript><!-- hexo-inject:begin --><!-- hexo-inject:end -->

</head>

<body itemscope itemtype="http://schema.org/WebPage">
  <!-- hexo-inject:begin --><!-- hexo-inject:end --><div class="container use-motion">
    <div class="headband"></div>

    <header class="header" itemscope itemtype="http://schema.org/WPHeader">
      <div class="header-inner"><div class="site-brand-container">
  <div class="site-nav-toggle">
    <div class="toggle" aria-label="åˆ‡æ¢å¯¼èˆªæ ">
      <span class="toggle-line toggle-line-first"></span>
      <span class="toggle-line toggle-line-middle"></span>
      <span class="toggle-line toggle-line-last"></span>
    </div>
  </div>

  <div class="site-meta">

    <a href="/" class="brand" rel="start">
      <span class="logo-line-before"><i></i></span>
      <h1 class="site-title">Ljiong</h1>
      <span class="logo-line-after"><i></i></span>
    </a>
      <p class="site-subtitle" itemprop="description">Programm | Life</p>
  </div>

  <div class="site-nav-right">
    <div class="toggle popup-trigger">
    </div>
  </div>
</div>




<nav class="site-nav">
  <ul id="menu" class="main-menu menu">
        <li class="menu-item menu-item-home">

    <a href="/" rel="section"><i class="fa fa-home fa-fw"></i>é¦–é¡µ</a>

  </li>
        <li class="menu-item menu-item-tags">

    <a href="/tags/" rel="section"><i class="fa fa-tags fa-fw"></i>æ ‡ç­¾</a>

  </li>
        <li class="menu-item menu-item-categories">

    <a href="/categories/" rel="section"><i class="fa fa-th fa-fw"></i>åˆ†ç±»</a>

  </li>
        <li class="menu-item menu-item-archives">

    <a href="/archives/" rel="section"><i class="fa fa-archive fa-fw"></i>å½’æ¡£</a>

  </li>
  </ul>
</nav>




</div>
    </header>

    
  <div class="back-to-top">
    <i class="fa fa-arrow-up"></i>
    <span>0%</span>
  </div>


    <main class="main">
      <div class="main-inner">
        <div class="content-wrap">
          

          <div class="content index posts-expand">
            
      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/20/Codeforces-Round-671-Div-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/20/Codeforces-Round-671-Div-2/" class="post-title-link" itemprop="url">Codeforces Round #671 (Div. 2)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-20 13:04:29 / ä¿®æ”¹æ—¶é—´ï¼š13:49:00" itemprop="dateCreated datePublished" datetime="2020-09-20T13:04:29+02:00">2020-09-20</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">é¢˜è§£</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="A-Digit-Game"><a href="#A-Digit-Game" class="headerlink" title="A. Digit Game"></a>A. Digit Game</h4><p>Everyone knows that agents in Valorant decide, who will play as attackers, and who will play as defenders. To do that Raze and Breach decided to play $t$ matches of a digit gameâ€¦ </p>
<p>In each of $t$ matches of the digit game, a positive integer is generated. It consists of $n$ digits. The digits of this integer are numerated from $1$ to $n$ from the highest-order digit to the lowest-order digit. After this integer is announced, the match starts. </p>
<p>Agents play in turns. Raze starts. In one turn an agent can choose any unmarked digit and mark it. Raze can choose digits on odd positions, but can not choose digits on even positions. Breach can choose digits on even positions, but can not choose digits on odd positions. The match ends, when there is only one unmarked digit left. If the single last digit is odd, then Raze wins, else Breach wins. </p>
<p>It can be proved, that before the end of the match (for every initial integer with $n$ digits) each agent has an ability to make a turn, i.e. there is at least one unmarked digit, that stands on a position of required parity. </p>
<p>For each of $t$ matches find out, which agent wins, if both of them want to win and play optimally. </p>
<p><strong>Input</strong></p>
<p>First line of input contains an integer $t$ $(1â‰¤tâ‰¤100)$ â€” the number of matches. </p>
<p>The first line of each match description contains an integer $n$ $(1â‰¤nâ‰¤10^3)$ â€” the number of digits of the generated number. </p>
<p>The second line of each match description contains an $n$-digit positive integer without leading zeros. </p>
<p><strong>Output</strong></p>
<p>For each match print $1$, if Raze wins, and $2$, if Breach wins.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">3</span><br><span class="line">102</span><br><span class="line">4</span><br><span class="line">2069</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1</span><br><span class="line">1</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first match no one can make a turn, the only digit left is $2$, itâ€™s even, so Breach wins.</p>
<p>In the second match the only digit left is $3$, itâ€™s odd, so Raze wins. </p>
<p>In the third match Raze can mark the last digit, after that Breach can only mark $0$. $1$ will be the last digit left, itâ€™s odd, so Raze wins. </p>
<p>In the fourth match no matter how Raze plays, Breach can mark $9$, and in the end there will be digit $0$. Itâ€™s even, so Breach wins. </p>
<h5 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>è´ªå¿ƒï¼ŒRazeä¸ºäº†èµ¢ï¼Œè‚¯å®šä¼šå…ˆæŠŠå¥‡æ•°ä½ä¸Šçš„å¶æ•°å…¨éƒ¨å–å®Œå†å–å¥‡æ•°ï¼ŒBreachæ­£å¥½åè¿‡æ¥ï¼Œè€Œæœ€åå‰©ä¸‹çš„æœ€åä¸€ä½åœ¨è°çš„è½®æ¬¡æ˜¯å¯ä»¥è®¡ç®—å‡ºæ¥çš„ï¼Œæœ€åå†è¿›è¡Œåˆ¤æ–­ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ll n, re=<span class="number">0</span>, ro=<span class="number">0</span>, be=<span class="number">0</span>, bo=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">string</span> str;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;str;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;str.length();i++)&#123;</span><br><span class="line">		ll temp=str[i]-<span class="string">'0'</span>;</span><br><span class="line">		<span class="keyword">if</span>((i &amp; <span class="number">1</span>) == <span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">if</span>((temp &amp; <span class="number">1</span>) == <span class="number">0</span>) re++;</span><br><span class="line">			<span class="keyword">else</span> ro++;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>((temp &amp; <span class="number">1</span>) == <span class="number">0</span>) be++;</span><br><span class="line">			<span class="keyword">else</span> bo++;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">if</span>((n &amp; <span class="number">1</span>) == <span class="number">0</span>)&#123;</span><br><span class="line">		ll numB=n/<span class="number">2</span><span class="number">-1</span>;</span><br><span class="line">		<span class="keyword">if</span>(bo&gt;numB) <span class="built_in">cout</span>&lt;&lt;<span class="string">"1"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"2"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">		ll numR=n/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">if</span>(re&gt;numR) <span class="built_in">cout</span>&lt;&lt;<span class="string">"2"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"1"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="B-Stairs"><a href="#B-Stairs" class="headerlink" title="B. Stairs"></a>B. Stairs</h4><p>Jett is tired after destroying the town and she wants to have a rest. She likes high places, thatâ€™s why for having a rest she wants to get high and she decided to craft staircases.</p>
<p>Staircase is a squared figure that consists of square cells. Each staircase consists of an arbitrary number of stairs. If a staircase has $n$ stairs, then it is made of $n$ columns, the first column is $1$ cell high, the second column is $2$ cells high, â€¦â€¦, the $n$-th column if $n$ cells high. The lowest cells of all stairs must be in the same row.</p>
<p>A staircase with $n$ stairs is called nice, if it may be covered by $n$ <strong>disjoint</strong> squares made of cells. All squares should fully consist of cells of a staircase.</p>
<p><img src="/2020/09/20/Codeforces-Round-671-Div-2/B1.png" alt="This is how a nice covered staircase with 7 stairs looks like:"></p>
<p>Find out the maximal number of <strong>different</strong> nice staircases, that can be built, using no more than $x$ cells, <strong>in total</strong>. No cell can be used more than once. </p>
<p><strong>Input</strong></p>
<p>The first line contains a single integer $t$ $(1â‰¤tâ‰¤1000)$ â€” the number of test cases.</p>
<p>The description of each test case contains a single integer $x$ $(1â‰¤xâ‰¤10^{18})$ â€” the number of cells for building staircases.</p>
<p><strong>Output</strong></p>
<p>For each test case output a single integer  â€” the number of different nice staircases, that can be built, using not more than $x$ cells, in total. </p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1</span><br><span class="line">8</span><br><span class="line">6</span><br><span class="line">1000000000000000000</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">30</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first test case, it is possible to build only one staircase, that consists of $1$ stair. Itâ€™s nice. Thatâ€™s why the answer is $1$.</p>
<p>In the second test case, it is possible to build two different nice staircases: one consists of $1$ stair, and another consists of $3$ stairs. This will cost $7$ cells. In this case, there is one cell left, but it is not possible to use it for building any nice staircases, that have not been built yet. Thatâ€™s why the answer is $2$.</p>
<p>In the third test case, it is possible to build only one of two nice staircases: with $1$ stair or with $3$ stairs. In the first case, there will be $5$ cells left, that may be used only to build a staircase with $2$ stairs. This staircase is not nice, and Jett only builds nice staircases. Thatâ€™s why in this case the answer is $1$. If Jett builds a staircase with $3$ stairs, then there are no more cells left, so the answer is $1$ again.</p>
<h5 id="è§£æ³•-1"><a href="#è§£æ³•-1" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>ç¬¬$n$ä¸ªéœ€è¦$2^k-1$ä¸ªæ ¼å­</p>
<p>å‰©ä¸‹çš„æ— éœ€å¤šè¯´</p>
<p>æ‰“è¡¨No.1</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt; </span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="built_in">vector</span>&lt;ll&gt; <span class="built_in">list</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ll x=<span class="number">1</span>;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;x;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="built_in">list</span>.size();i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(x&lt;<span class="built_in">list</span>[i])&#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">			<span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	</span><br><span class="line">	ll <span class="built_in">pow</span>=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=<span class="number">31</span>;i++)&#123; <span class="comment">//31æ˜¯ä¹‹å‰å·²ç»æ‰“è¿‡ä¸€æ¬¡1-100çš„å‘ç°å¤ªå¤§äº†è¯•å‡ºæ¥çš„</span></span><br><span class="line">		<span class="built_in">pow</span>*=<span class="number">2</span>;</span><br><span class="line">		ll temp;</span><br><span class="line">		<span class="keyword">if</span>(i==<span class="number">1</span>) temp=<span class="built_in">pow</span>*(<span class="built_in">pow</span><span class="number">-1</span>)/<span class="number">2</span>;</span><br><span class="line">		<span class="keyword">else</span> temp=<span class="built_in">pow</span>*(<span class="built_in">pow</span><span class="number">-1</span>)/<span class="number">2</span>+<span class="built_in">list</span>[i<span class="number">-2</span>];</span><br><span class="line">		<span class="built_in">list</span>.push_back(temp);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-Killjoy"><a href="#C-Killjoy" class="headerlink" title="C. Killjoy"></a>C. Killjoy</h4><p>A new agent called Killjoy invented a virus COVID-2069 that infects accounts on Codeforces. Each account has a rating, described by <strong>an integer</strong> (it can possibly be negative or very large).</p>
<p>Killjoyâ€™s account is already infected and has a rating equal to $x$. Its rating is constant. There are $n$ accounts except hers, numbered from $1$ to $n$. The $i$-th accountâ€™s initial rating is $a_i$. Any infected account (initially the only infected account is Killjoyâ€™s) instantly infects any uninfected account if their ratings are equal. This can happen at the beginning (before any rating changes) and after each contest. If an account is infected, it can not be healed.</p>
<p>Contests are regularly held on Codeforces. In each contest, any of these $n$ accounts (including infected ones) can participate. Killjoy canâ€™t participate. After each contest ratings are changed this way: each participantâ€™s rating is changed by an integer, but the sum of all changes must be equal to zero. New ratings can be any integer.</p>
<p>Find out the minimal number of contests needed to infect all accounts. You can choose which accounts will participate in each contest and how the ratings will change.</p>
<p>It can be proven that all accounts can be infected in some finite number of contests.</p>
<p><strong>Input</strong></p>
<p>The first line contains a single integer $t$ $(1â‰¤tâ‰¤100)$ â€” the number of test cases. The next $2t$ lines contain the descriptions of all test cases. </p>
<p>The first line of each test case contains two integers $n$ and $x$ ($2â‰¤nâ‰¤10^3$, $âˆ’4000â‰¤xâ‰¤4000$) â€” the number of accounts on Codeforces and the rating of Killjoyâ€™s account.</p>
<p>The second line of each test case contains $n$ integers $a_1,a_2,â€¦,a_n$ $(âˆ’4000â‰¤aiâ‰¤4000)$ â€” the ratings of other accounts.</p>
<p><strong>Output</strong></p>
<p>For each test case output the minimal number of contests needed to infect all accounts.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">2 69</span><br><span class="line">68 70</span><br><span class="line">6 4</span><br><span class="line">4 4 4 4 4 4</span><br><span class="line">9 38</span><br><span class="line">-21 83 50 -59 -77 15 -71 -78 20</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">0</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first test case itâ€™s possible to make all ratings equal to $69$. First accountâ€™s rating will increase by $1$, and second accountâ€™s rating will decrease by $1$, so the sum of all changes will be equal to zero.</p>
<p>In the second test case all accounts will be instantly infected, because all ratings (including Killjoyâ€™s accountâ€™s rating) are equal to $4$.</p>
<h5 id="è§£æ³•-2"><a href="#è§£æ³•-2" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>æœ€å¤§æ¬¡æ•°ä¸å¯èƒ½è¶…è¿‡2ï¼Œæ‰€ä»¥åªè¦ç‰¹åˆ¤ä»€ä¹ˆæ—¶å€™æ˜¯0ï¼Œä»€ä¹ˆæ—¶å€™æ˜¯1å°±è¡Œ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt; </span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">vector</span>&lt;ll&gt; A;</span><br><span class="line"> 	ll n, x, sum=<span class="number">0</span>, flag1=<span class="number">0</span>, flag2=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;x;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++)&#123;</span><br><span class="line">		ll temp;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;temp;</span><br><span class="line">		<span class="keyword">if</span>(temp!=x) flag1=<span class="number">1</span>;</span><br><span class="line">		<span class="keyword">if</span>(temp==x) flag2++;</span><br><span class="line">		sum+=temp;</span><br><span class="line">		A.push_back(temp);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(flag1==<span class="number">0</span>) <span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(flag2 != <span class="number">0</span>) <span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="keyword">if</span>(sum/n*n==sum &amp;&amp; sum/n == x) <span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="number">2</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/11/Python%E7%BB%83%E4%B9%A0-2020-09-11/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/11/Python%E7%BB%83%E4%B9%A0-2020-09-11/" class="post-title-link" itemprop="url">Pythonç»ƒä¹  2020.09.11</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-11 16:38:30 / ä¿®æ”¹æ—¶é—´ï¼š20:41:09" itemprop="dateCreated datePublished" datetime="2020-09-11T16:38:30+02:00">2020-09-11</time>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="A-né˜¶çŸ©é˜µåŠ æ³•"><a href="#A-né˜¶çŸ©é˜µåŠ æ³•" class="headerlink" title="A. né˜¶çŸ©é˜µåŠ æ³•"></a>A. né˜¶çŸ©é˜µåŠ æ³•</h4><p>ç»™ä¸¤ä¸ªné˜¶çŸ©é˜µï¼Œè®¡ç®—å®ƒä»¬çš„å’Œå¹¶æ‰¾å‡ºå®ƒä»¬å’Œé‡Œé¢å‡ºç°æœ€å¤šçš„æ•°ã€‚å¦‚æœä¸¤ä¸ªæ•°å‡ºç°æ¬¡æ•°éƒ½æ˜¯æœ€å¤šçš„ï¼Œé‚£è¾“å‡ºè¾ƒå°çš„é‚£ä¸ªæ•°ã€‚</p>
<p><strong>è¾“å…¥</strong></p>
<p>ç¬¬1è¡Œï¼šä¸€ä¸ªæ•°nï¼Œè¡¨ç¤ºné˜¶çŸ©é˜µ</p>
<p>ç¬¬2~n*n+1è¡Œï¼šn*nä¸ªæ•°ï¼Œè¡¨ç¤ºä¸€ä¸ªçŸ©é˜µAã€‚è¾“å…¥é¡ºåºä¸º$a_{1,1}â€¦a_{1,n},a_{2,1}â€¦a_{2,n}â€¦a_{n,n}$ã€‚</p>
<p>ç¬¬n*n+2~2*n*n+1è¡Œï¼šn*nä¸ªæ•°ï¼Œè¡¨ç¤ºä¸€ä¸ªçŸ©é˜µBã€‚è¾“å…¥é¡ºåºä¸º$b_{1,1}â€¦b_{1,n},b_{2,1}â€¦b_{2,n}â€¦b_{n,n}$ã€‚</p>
<p>æ‰€æœ‰è¾“å…¥çš„æ•°éƒ½æ˜¯æ­£æ•°</p>
<p><strong>è¾“å‡º</strong></p>
<p>ä¸€ä¸ªåˆ—è¡¨ï¼Œè¡¨ç¤ºçŸ©é˜µçš„å’Œ</p>
<p>ä¸€ä¸ªæ•°ï¼Œä»£è¡¨å‡ºç°æœ€å¤šçš„æ•°</p>
<p><strong>æ¼”ç¤ºæ ·ä¾‹</strong></p>
<p>Tipï¼š>>>å¼€å¤´çš„ä¸ºè¾“å‡º</p>
<p>è¾“å…¥å¯ä»¥è‡ªå®šä¹‰ä¸€äº›æç¤ºè¯ï¼Œæˆ‘æ‡’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">2</span><br><span class="line">1</span><br><span class="line">4</span><br><span class="line">3</span><br><span class="line">&gt;&gt;&gt;3</span><br></pre></td></tr></table></figure>
<h4 id="B-æ°´ä»™èŠ±æ•°"><a href="#B-æ°´ä»™èŠ±æ•°" class="headerlink" title="B. æ°´ä»™èŠ±æ•°"></a>B. æ°´ä»™èŠ±æ•°</h4><p><strong>è¿™é¢˜åªèƒ½ç”¨åˆ—è¡¨æ¨å¯¼å¼åšï¼ï¼ï¼åªèƒ½å†™ä¸€è¡Œï¼ï¼ï¼è¿™æ˜¯è§„å®šğŸ˜</strong></p>
<p>ä¸€ä¸ªä¸‰ä½æ•°ï¼Œä¸ªä½ã€åä½ã€ç™¾ä½çš„ç«‹æ–¹ä¹‹å’Œç­‰äºè¿™ä¸ªæ•°æœ¬èº«çš„æ•°å«åšæ°´ä»™èŠ±æ•°ã€‚</p>
<p>æ¯”å¦‚$153$ï¼š$1^3+5^3+3^3=153$</p>
<p><strong>è¾“å…¥</strong></p>
<p>ä¹ˆçš„</p>
<p><strong>è¾“å‡º</strong></p>
<p>åˆ—è¡¨è¾“å‡ºæ‰€æœ‰æ°´ä»™èŠ±æ•°ã€‚</p>
<h4 id="C-å­—ç¬¦ä¸²å­˜å‚¨"><a href="#C-å­—ç¬¦ä¸²å­˜å‚¨" class="headerlink" title="C. å­—ç¬¦ä¸²å­˜å‚¨"></a>C. å­—ç¬¦ä¸²å­˜å‚¨</h4><p>ä½ éœ€è¦å‚¨å­˜ä¸€äº›å­—ç¬¦ä¸²ï¼Œè®¾è®¡ä¸€ä¸ªpythonç¨‹åºå¹¶å®Œæˆä¸‹é¢çš„å…³é”®è¯æ“ä½œï¼š</p>
<p>ADD_A_ELEMENTï¼šå¾€åˆ—è¡¨é‡Œé¢æŒ‡å®šä½ç½®æ·»åŠ ä¸€ä¸ªå­—ç¬¦ä¸²</p>
<p>ADD_ELEMENTSï¼šå¾€åˆ—è¡¨é‡Œé¢æŒ‡å®šä½ç½®æ·»åŠ ä¸€äº›å­—ç¬¦ä¸²ï¼Œé¡ºåºæ˜¯è¾“å…¥çš„é¡ºåº</p>
<p>DELETE_A_ELEMENTï¼šåˆ é™¤åˆ—è¡¨ä¸­çš„ä¸€ä¸ªæŒ‡å®šä½ç½®çš„å­—ç¬¦ä¸²</p>
<p>DELETE_ELEMENTSï¼šåˆ é™¤åˆ—è¡¨ä¸­æ‰€æœ‰æŒ‡å®šçš„å­—ç¬¦ä¸²</p>
<p>SWAPï¼šäº¤æ¢åˆ—è¡¨é‡Œé¢çš„ä¸¤ä¸ªå­—ç¬¦ä¸²</p>
<p>FIND_ALLï¼šæ‰¾åˆ°æ‰€æœ‰æŒ‡å®šå­—ç¬¦ä¸²çš„ä¸‹æ ‡</p>
<p><strong>è¾“å…¥</strong></p>
<p>ç¬¬1è¡Œï¼šä¸€ä¸ªæ•´æ•°nï¼Œä»£è¡¨æ“ä½œçš„æ•°é‡</p>
<p>åé¢å‡ è¡Œï¼šä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œæ“ä½œçš„åå­—ï¼Œå°±æ˜¯ä¸Šé¢çš„å¤§å†™å­—æ¯ï¼Œåé¢è·Ÿä¸€äº›å­—ç¬¦ä¸²å’Œæ•´æ•°ï¼Œè¯¦ç»†è¯´æ˜å¦‚ä¸‹ï¼š</p>
<p>ADD_A_ELEMENTï¼šå†è¾“å…¥ä¸€ä¸ªæ•´æ•°å’Œä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»£è¡¨æŒ‡å®šä½ç½®å’Œè¦æ’å…¥çš„å­—ç¬¦ä¸²ã€‚</p>
<p>ADD_ELEMENTSï¼šå†è¾“å…¥ä¸¤ä¸ªä¸ªæ•´æ•°å’Œä¸€äº›å­—ç¬¦ä¸²ï¼Œä»£è¡¨è¦æ’å…¥çš„æŒ‡å®šä½ç½®ã€å­—ç¬¦ä¸²çš„æ•°é‡å’Œæ’å…¥çš„å­—ç¬¦ä¸²ä»¬ã€‚</p>
<p>DELETE_A_ELEMENTï¼šå†è¾“å…¥ä¸€ä¸ªæ•°å­—ï¼Œä»£è¡¨æŒ‡å®šä½ç½®åˆ é™¤ã€‚</p>
<p>DELETE_ELEMENTSï¼šå†è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»£è¡¨è¦åˆ é™¤çš„å­—ç¬¦ä¸²ã€‚</p>
<p>SWAPï¼šå†è¾“å…¥ä¸¤ä¸ªæ•´æ•°ï¼Œä»£è¡¨è¦äº¤æ¢å…ƒç´ çš„ä¸‹æ ‡ã€‚</p>
<p>FIND_ALLï¼šå†è¾“å…¥ä¸€ä¸ªå­—ç¬¦ä¸²ï¼Œä»£è¡¨è¦å¯»æ‰¾çš„å­—ç¬¦ä¸²ã€‚</p>
<p><strong>è¾“å‡º</strong></p>
<p>é™¤äº†FIND_ALLï¼Œå…¶ä»–æ“ä½œæ‰§è¡Œå®Œä¹‹åè¾“å‡ºä¸€éåˆ—è¡¨ã€‚</p>
<p>FIND_ALLæ“ä½œæ‰§è¡Œå®Œåè¾“å‡ºæ‰¾åˆ°çš„ä¸‹æ ‡ã€‚</p>
<p><strong>æ¼”ç¤ºæ ·ä¾‹</strong></p>
<p>Tipï¼š>>>å¼€å¤´çš„ä¸ºè¾“å‡º</p>
<p>è¾“å…¥å¯ä»¥è‡ªå®šä¹‰ä¸€äº›æç¤ºè¯ï¼Œæˆ‘æ‡’</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">8</span><br><span class="line">ADD_A_ELEMENT</span><br><span class="line">0</span><br><span class="line">xyf</span><br><span class="line">&gt;&gt;&gt;[&#39;xyf&#39;]</span><br><span class="line">ADD_ELEMENTS</span><br><span class="line">1</span><br><span class="line">6</span><br><span class="line">mq</span><br><span class="line">xsy</span><br><span class="line">xyf</span><br><span class="line">li</span><br><span class="line">lj</span><br><span class="line">xsy</span><br><span class="line">&gt;&gt;&gt;[&#39;xyf&#39;, &#39;mq&#39;, &#39;xsy&#39;, &#39;xyf&#39;, &#39;li&#39;, &#39;lj&#39;, &#39;xsy&#39;]</span><br><span class="line">ADD_ELEMENTS</span><br><span class="line">3</span><br><span class="line">6</span><br><span class="line">xyf</span><br><span class="line">mq</span><br><span class="line">xsy</span><br><span class="line">mq</span><br><span class="line">xsy</span><br><span class="line">xyf</span><br><span class="line">&gt;&gt;&gt;[&#39;xyf&#39;, &#39;mq&#39;, &#39;xsy&#39;, &#39;xyf&#39;, &#39;mq&#39;, &#39;xsy&#39;, &#39;mq&#39;, &#39;xsy&#39;, &#39;xyf&#39;, &#39;xyf&#39;, &#39;li&#39;, &#39;lj&#39;, &#39;xsy&#39;]</span><br><span class="line">DELETE_A_ELEMENT</span><br><span class="line">0</span><br><span class="line">&gt;&gt;&gt;[&#39;mq&#39;, &#39;xsy&#39;, &#39;xyf&#39;, &#39;mq&#39;, &#39;xsy&#39;, &#39;mq&#39;, &#39;xsy&#39;, &#39;xyf&#39;, &#39;xyf&#39;, &#39;li&#39;, &#39;lj&#39;, &#39;xsy&#39;]</span><br><span class="line">DELETE_ELEMENTS</span><br><span class="line">li</span><br><span class="line">&gt;&gt;&gt;[&#39;mq&#39;, &#39;xsy&#39;, &#39;xyf&#39;, &#39;mq&#39;, &#39;xsy&#39;, &#39;mq&#39;, &#39;xsy&#39;, &#39;xyf&#39;, &#39;xyf&#39;, &#39;lj&#39;, &#39;xsy&#39;]</span><br><span class="line">DELETE_ELEMENTS</span><br><span class="line">mq</span><br><span class="line">&gt;&gt;&gt;[&#39;xsy&#39;, &#39;xyf&#39;, &#39;xsy&#39;, &#39;xsy&#39;, &#39;xyf&#39;, &#39;xyf&#39;, &#39;lj&#39;, &#39;xsy&#39;]</span><br><span class="line">SWAP</span><br><span class="line">1</span><br><span class="line">6</span><br><span class="line">&gt;&gt;&gt;[&#39;xsy&#39;, &#39;lj&#39;, &#39;xsy&#39;, &#39;xsy&#39;, &#39;xyf&#39;, &#39;xyf&#39;, &#39;xyf&#39;, &#39;xsy&#39;]</span><br><span class="line">FIND_ALL</span><br><span class="line">xsy</span><br><span class="line">&gt;&gt;&gt;[0, 2, 3, 7]</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/07/Codeforces-Round-668-Div-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/07/Codeforces-Round-668-Div-2/" class="post-title-link" itemprop="url">Codeforces Round #668 (Div. 2)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-07 16:13:55 / ä¿®æ”¹æ—¶é—´ï¼š16:57:04" itemprop="dateCreated datePublished" datetime="2020-09-07T16:13:55+02:00">2020-09-07</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">é¢˜è§£</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="A-Permutation-Forgery"><a href="#A-Permutation-Forgery" class="headerlink" title="A. Permutation Forgery"></a>A. Permutation Forgery</h4><p>A permutation of length $n$ is an array consisting of $n$ distinct integers from $1$ to $n$ in arbitrary order. For example, $[2,3,1,5,4]$ is a permutation, but $[1,2,2]$ is not a permutation ($2$ appears twice in the array) and $[1,3,4]$ is also not a permutation ($n=3$ but there is $4$ in the array).</p>
<p>Let $p$ be any permutation of length $n$. We define the <strong>fingerprint</strong> $F(p)$ of $p$ as the sorted array of sums of adjacent elements in $p$. More formally,</p>
<script type="math/tex; mode=display">
F(p)=sort([p1+p2,p2+p3,â€¦,pnâˆ’1+pn]).F(p)=sort([p1+p2,p2+p3,â€¦,pnâˆ’1+pn])</script><p>For example, if $n=4$ and $p=[1,4,2,3]$, then the fingerprint is given by $F(p)=sort([1+4,4+2,2+3])=sort([5,6,5])=[5,5,6]$.</p>
<p>You are given a permutation $p$ of length $n$. Your task is to find a <strong>different</strong> permutation $pâ€²$ with the same fingerprint. Two permutations $p$ and $pâ€™$ are considered different if there is some index $i$ such that $p_iâ‰ pâ€²_i$.</p>
<p><strong>Input</strong></p>
<p>Each test contains multiple test cases. The first line contains the number of test cases $t$ ($1â‰¤tâ‰¤668$). Description of the test cases follows.</p>
<p>The first line of each test case contains a single integer $n$ ($2â‰¤nâ‰¤100$)  â€” the length of the permutation.</p>
<p>The second line of each test case contains $n$ integers $p_1,â€¦,p_n$ ($1â‰¤p_iâ‰¤n$). It is guaranteed that $p$ is a permutation.</p>
<p><strong>Output</strong></p>
<p>For each test case, output $n$ integers $p_1â€²,â€¦,p_nâ€²$ â€” a permutation such that $pâ€²â‰ p$ and $F(pâ€²)=F(p)$.</p>
<p>We can prove that for every permutation satisfying the input constraints, a solution exists.</p>
<p>If there are multiple solutions, you may output any.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">2</span><br><span class="line">1 2</span><br><span class="line">6</span><br><span class="line">2 1 6 5 4 3</span><br><span class="line">5</span><br><span class="line">2 4 3 1 5</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2 1</span><br><span class="line">1 2 5 6 3 4</span><br><span class="line">3 1 5 2 4</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first test case, $F(p)=sort([1+2])=[3]$.</p>
<p>And $F(pâ€²)=sort([2+1])=[3]$.</p>
<p>In the second test case, $F(p)=sort([2+1,1+6,6+5,5+4,4+3])=sort([3,7,11,9,7])=[3,7,7,9,11]$.</p>
<p>And $F(pâ€²)=sort([1+2,2+5,5+6,6+3,3+4])=sort([3,7,11,9,7])=[3,7,7,9,11]$.</p>
<p>In the third test case, $F(p)=sort([2+4,4+3,3+1,1+5])=sort([6,7,4,6])=[4,6,6,7]$.</p>
<p>And $F(pâ€²)=sort([3+1,1+5,5+2,2+4])=sort([4,6,7,6])=[4,6,6,7]$.</p>
<h5 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>å€’è¿‡æ¥è¾“å‡ºä¸€éã€‚</p>
<p>å¾ˆå¥½è¯æ˜ä¸€å®šæ˜¯æˆç«‹çš„ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> A[<span class="number">110</span>]; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=n;i&gt;=<span class="number">1</span>;i--) <span class="built_in">cout</span>&lt;&lt;A[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="B-Array-Cancellation"><a href="#B-Array-Cancellation" class="headerlink" title="B. Array Cancellation"></a>B. Array Cancellation</h4><p>Youâ€™re given an array $a$ of $n$ integers, such that $a1+a2+â‹¯+an=0$.</p>
<p>In one operation, you can choose two <strong>different</strong> indices $i$ and $j$ ($1â‰¤i,jâ‰¤n$), decrement $a_i$ by one and increment $a_j$ by one. If $i&lt;j$ this operation is free, otherwise it costs one coin.</p>
<p>How many coins do you have to spend in order to make all elements equal to $0$?</p>
<p><strong>Input</strong></p>
<p>Each test contains multiple test cases. The first line contains the number of test cases $t$ ($1â‰¤tâ‰¤5000$). Description of the test cases follows.</p>
<p>The first line of each test case contains an integer $n$ ($1â‰¤nâ‰¤10^5$)  â€” the number of elements.</p>
<p>The next line contains $n$ integers $a_1,â€¦,a_n$ ($âˆ’10^9â‰¤a_iâ‰¤10^9$). It is given that $âˆ‘^n_{i=1}ai=0$.</p>
<p>It is guaranteed that the sum of $n$ over all test cases does not exceed $10^5$.</p>
<p><strong>Output</strong></p>
<p>For each test case, print the minimum number of coins we have to spend in order to make all elements equal to $0$.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">4</span><br><span class="line">-3 5 -3 1</span><br><span class="line">2</span><br><span class="line">1 -1</span><br><span class="line">4</span><br><span class="line">-3 2 -3 4</span><br><span class="line">4</span><br><span class="line">-1 1 1 -1</span><br><span class="line">7</span><br><span class="line">-5 7 -6 -4 17 -13 4</span><br><span class="line">6</span><br><span class="line">-1000000000 -1000000000 -1000000000 1000000000 1000000000 1000000000</span><br><span class="line">1</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">0</span><br><span class="line">4</span><br><span class="line">1</span><br><span class="line">8</span><br><span class="line">3000000000</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>Possible strategy for the first test case:</p>
<ul>
<li>Do $(i=2,j=3)$ three times (free), $a=[âˆ’3,2,0,1]$.</li>
<li>Do $(i=2,j=1)$ two times (pay two coins), $a=[âˆ’1,0,0,1]$.</li>
<li>Do $(i=4,j=1)$ one time (pay one coin), $a=[0,0,0,0]$.</li>
</ul>
<h5 id="è§£æ³•-1"><a href="#è§£æ³•-1" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>å› ä¸ºè¾“å…¥æ˜¯ä»å‰å¾€åè¾“å…¥çš„ï¼Œæ‰€ä»¥å¯ä»¥åœ¨è¾“å…¥çš„æ—¶å€™ç›´æ¥æ“ä½œã€‚</p>
<p>å½“è¾“å…¥ä¸€ä¸ªæ•°æ˜¯æ­£æ•°ï¼Œç›´æ¥æŠŠä»–ä¸¢è¿›æ­£æ•°å †é‡Œï¼Œå› ä¸ºæ¶ˆè€—è¦èŠ±é’±ã€‚</p>
<p>å¦‚æœæ˜¯ä¸€ä¸ªè´Ÿæ•°ï¼Œé‚£å’Œå·²ç»æœ‰çš„æ­£æ•°å †æŠµæ¶ˆï¼Œå‰©ä¸‹çš„åŠ å…¥æ­£æ•°å †æˆ–è€…è´Ÿæ•°å †ã€‚</p>
<p>æœ€åæ­£æ•°çš„ç»å¯¹å€¼å’Œè´Ÿæ•°çš„ç»å¯¹å€¼ç›¸ç­‰ï¼Œä»»æ„è¾“å‡ºä¸€ä¸ªä½œä¸ºèŠ±é’±çš„è´¦å•ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ll n, input=<span class="number">0</span>, pos=<span class="number">0</span>, neg=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;input;</span><br><span class="line">		<span class="keyword">if</span>(input&gt;=<span class="number">0</span>) pos+=input;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">abs</span>(input)&lt;=pos) pos+=input;</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				neg+=(input+pos);</span><br><span class="line">				pos=<span class="number">0</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="built_in">abs</span>(neg)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-Balanced-Bitstring"><a href="#C-Balanced-Bitstring" class="headerlink" title="C. Balanced Bitstring"></a>C. Balanced Bitstring</h4><p>A bitstring is a string consisting only of the characters 0 and 1. A bitstring is called $k$-<strong>balanced</strong> if every substring of size $k$ of this bitstring has an equal amount of 0 and 1 characters ($\frac{k}2$ of each).</p>
<p>You are given an integer $k$ and a string $s$ which is composed only of characters 0, 1, and ?. You need to determine whether you can make a $k$-balanced bitstring by replacing every ? characters in $s$ with either 0 or 1. </p>
<p>A string $a$ is a substring of a string $b$ if $a$ can be obtained from $b$ by deletion of several (possibly, zero or all) characters from the beginning and several (possibly, zero or all) characters from the end.</p>
<p><strong>Input</strong></p>
<p>Each test contains multiple test cases. The first line contains the number of test cases $t$ ($1â‰¤tâ‰¤10^4$). Description of the test cases follows.</p>
<p>The first line of each test case contains two integers $n$ and $k$ ($2â‰¤kâ‰¤nâ‰¤3â‹…10^5$, $k$ is even)  â€” the length of the string and the parameter for a balanced bitstring.</p>
<p>The next line contains the string $s$ ($|s|=n$). It is given that $s$ consists of only 0, 1, and ?.</p>
<p>It is guaranteed that the sum of $n$ over all test cases does not exceed $3â‹…10^5$.</p>
<p><strong>Output</strong></p>
<p>For each test case, print YES if we can replace every ? in $s$ with 0 or 1 such that the resulting bitstring is $k$-balanced, or NO if it is not possible. </p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">9</span><br><span class="line">6 4</span><br><span class="line">100110</span><br><span class="line">3 2</span><br><span class="line">1?1</span><br><span class="line">3 2</span><br><span class="line">1?0</span><br><span class="line">4 4</span><br><span class="line">????</span><br><span class="line">7 4</span><br><span class="line">1?0??1?</span><br><span class="line">10 10</span><br><span class="line">11??11??11</span><br><span class="line">4 2</span><br><span class="line">1??1</span><br><span class="line">4 4</span><br><span class="line">?0?0</span><br><span class="line">6 2</span><br><span class="line">????00</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">YES</span><br><span class="line">NO</span><br><span class="line">YES</span><br><span class="line">YES</span><br><span class="line">NO</span><br><span class="line">NO</span><br><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>For the first test case, the string is already a $4$-balanced bitstring.</p>
<p>For the second test case, the string can be transformed into 101.</p>
<p>For the fourth test case, the string can be transformed into 0110.</p>
<p>For the fifth test case, the string can be transformed into 1100110.</p>
<h5 id="è§£æ³•-2"><a href="#è§£æ³•-2" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>æˆ‘ä»¬å…ˆæ¥åˆ†æä¸€ä¸‹$n=5,k=4$çš„éšæ„çš„ä¸€ä¸ªåºåˆ—ï¼š10011</p>
<p>å¯ä»¥æ‹†åˆ†æˆä¸¤ä¸ªé•¿åº¦ä¸º4çš„å­åºåˆ—ï¼š1001å’Œ0011</p>
<p>ä»–ä»¬é‡å¤çš„çš„éƒ¨åˆ†æ˜¯ä¸­é—´çš„ä¸‰ä¸ªå­—ç¬¦001</p>
<p>001ç”±ä¸¤ä¸ª0å’Œ1ä¸ª1ç»„æˆ</p>
<p>æƒ³è®©å®ƒå˜æˆæ»¡è¶³æ¡ä»¶çš„è¯å¿…é¡»åŠ ä¸€ä¸ª1åœ¨å·¦å³ä¸¤è¾¹</p>
<p>è€Œæ¯ä¸ªç›¸é‚»çš„æ»¡è¶³æ¡ä»¶çš„å­åºåˆ—éƒ½æ˜¯è¿™æ ·</p>
<p>é‚£å¯ä»¥æ¨å‡ºä¸€ä¸ªç»“è®ºï¼š</p>
<p>$t_i=t_j\text{ (if iâ‰¡j(mod k))}$</p>
<p>å†æŸäº›æ—¶å€™è¿›è¡Œä¸€äº›åˆ¤æ–­å°±è¡Œäº†</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	ll n, k, flag=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">string</span> str;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k&gt;&gt;str;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=k;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(str[i]==<span class="string">'?'</span>) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(str[i%k]==<span class="string">'?'</span>) str[i%k]=str[i];</span><br><span class="line">			<span class="keyword">else</span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(str[i%k]!=str[i])&#123;</span><br><span class="line">					<span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">					<span class="keyword">return</span>;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	ll n0=<span class="number">0</span>, n1=<span class="number">0</span>, n8=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;k;i++)&#123;</span><br><span class="line">		<span class="keyword">switch</span>(str[i])&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'0'</span>:&#123;</span><br><span class="line">				n0++;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'1'</span>:&#123;</span><br><span class="line">				n1++;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">case</span> <span class="string">'?'</span>:&#123;</span><br><span class="line">				n8++;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(n0&lt;=k/<span class="number">2</span> &amp;&amp; n1&lt;=k/<span class="number">2</span>) <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/09/03/Codeforces-Round-666-Div-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/09/03/Codeforces-Round-666-Div-2/" class="post-title-link" itemprop="url">Codeforces Round #666 (Div. 2)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-09-03 23:05:57 / ä¿®æ”¹æ—¶é—´ï¼š23:33:57" itemprop="dateCreated datePublished" datetime="2020-09-03T23:05:57+02:00">2020-09-03</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">é¢˜è§£</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h4 id="A-Juggling-Letters"><a href="#A-Juggling-Letters" class="headerlink" title="A. Juggling Letters"></a>A. Juggling Letters</h4><p>You are given $n$ strings $s_1,s_2,â€¦,s_n$ consisting of lowercase Latin letters. </p>
<p>In one operation you can remove a character from a string sisi and insert it to an arbitrary position in a string $s_j$ ($j$ may be equal to $i$). You may perform this operation any number of times. Is it possible to make all $n$ strings equal? </p>
<p><strong>Input</strong></p>
<p>The first line contains $t$ ($1â‰¤tâ‰¤10$): the number of test cases.</p>
<p>The first line of each test case contains a single integer $n$ ($1â‰¤nâ‰¤1000$): the number of strings.</p>
<p>$n$ lines follow, the $i$-th line contains $s_i$ ($1â‰¤|si|â‰¤1000$).</p>
<p>The sum of lengths of all strings in all test cases does not exceed 1000.</p>
<p><strong>Output</strong></p>
<p>If it is possible to make the strings equal, print â€œYESâ€ (without quotes).</p>
<p>Otherwise, print â€œNOâ€ (without quotes).</p>
<p>You can output each character in either lowercase or uppercase.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">2</span><br><span class="line">caa</span><br><span class="line">cbb</span><br><span class="line">3</span><br><span class="line">cba</span><br><span class="line">cba</span><br><span class="line">cbb</span><br><span class="line">4</span><br><span class="line">ccab</span><br><span class="line">cbac</span><br><span class="line">bca</span><br><span class="line">acbcc</span><br><span class="line">4</span><br><span class="line">acb</span><br><span class="line">caf</span><br><span class="line">c</span><br><span class="line">cbafc</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">NO</span><br><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first test case, you can do the following:</p>
<ul>
<li>Remove the third character of the first string and insert it after the second character of the second string, making the two strings â€œcaâ€ and â€œcbabâ€ respectively.</li>
<li>Remove the second character of the second string and insert it after the second character of the first string, making both strings equal to â€œcabâ€.</li>
</ul>
<p>In the second test case, it is impossible to make all $n$ strings equal.</p>
<h5 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>è¿™ä¸ªç§»åŠ¨è§„åˆ™ä¹Ÿå¤ªimbaäº†ï¼Œç›´æ¥ç»Ÿè®¡æ¯ä¸ªå­—ç¬¦å‡ºç°çš„æ¬¡æ•°ï¼Œçœ‹æ˜¯å¦æ˜¯$n$çš„å€æ•°ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IO ios_base::sync_with_stdio(0),cin.tie(0)</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> A[<span class="number">30</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="built_in">memset</span>(A, <span class="number">0</span>, <span class="keyword">sizeof</span>(A));</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">string</span> str;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;str;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;str.length();j++) A[str[j]-<span class="string">'a'</span>]++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">25</span>;i++)</span><br><span class="line">		<span class="keyword">if</span>(A[i]%n!=<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	IO;</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="B-Power-Sequence"><a href="#B-Power-Sequence" class="headerlink" title="B. Power Sequence"></a>B. Power Sequence</h4><p>Letâ€™s call a list of positive integers $a_0,a_1,â€¦,a_{nâˆ’1}$ a <strong>power sequence</strong> if there is a positive integer cc, so that for every $0â‰¤iâ‰¤nâˆ’1$ then $a_i=c^i$.</p>
<p>Given a list of $n$ positive integers $a_0,a_1,â€¦,a_{nâˆ’1}$, you are allowed to:</p>
<ul>
<li>Reorder the list (i.e. pick a permutation $p$ of ${0,1,â€¦,nâˆ’1}$ and change $a_i$ to $a_{p_i}$), then </li>
<li>Do the following operation any number of times: pick an index $i$ and change $a_i$ to $a_{iâˆ’1}$ or $a_{i+1}$ (i.e. increment or decrement $a_i$ by $1$) with a cost of $1$.</li>
</ul>
<p>Find the minimum cost to transform $a_0,a_1,â€¦,a_{nâˆ’1}$ into a power sequence.</p>
<p><strong>Input</strong></p>
<p>The first line contains an integer $n$ ($3â‰¤nâ‰¤10^5$).</p>
<p>The second line contains $n$ integers $a_0,a_1,â€¦,a_{nâˆ’1}$ ($1â‰¤aiâ‰¤10^9$).</p>
<p><strong>Output</strong></p>
<p>Print the minimum cost to transform $a_0,a_1,â€¦,a_{nâˆ’1}$ into a power sequence.</p>
<p><strong>Examples</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1 3 2</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1</span><br></pre></td></tr></table></figure>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1000000000 1000000000 1000000000</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">1999982505</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first example, we first reorder $\{1,3,2\}$ into $\{1,2,3\}$, then increment $a_2$ to $4$ with cost $1$ to get a power sequence $\{1,2,4\}$.</p>
<h4 id="è§£æ³•-1"><a href="#è§£æ³•-1" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h4><p>ç¬¬ä¸€æ­¥å¯ä»¥é‡ç»„åºåˆ—ï¼Œè‚¯å®šæ˜¯ä»å°åˆ°å¤§æ’åˆ—ã€‚</p>
<p>ç¬¬äºŒå¸ƒæšä¸¾$c$ï¼ŒèŒƒå›´æˆ‘å–äº†$10^6$ä»¥å†…ï¼Œç»Ÿè®¡å·®å€¼ã€‚</p>
<p>$10^6$æ˜¯æˆ‘è’™çš„ï¼Œå…·ä½“çš„å–å€¼è¦æ ¹æ®æ•°æ®æ¥å®šã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IO ios_base::sync_with_stdio(0),cin.tie(0)</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"> </span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">1e5</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">ll A[MAXN+<span class="number">10</span>];</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	IO;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;n;i++) <span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">	sort(A, A+n);</span><br><span class="line">	<span class="keyword">int</span> maxc=<span class="number">1e6</span>;</span><br><span class="line">	ll minn=LLONG_MAX;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=maxc;i++)&#123;</span><br><span class="line">		ll k=<span class="number">1</span>, ans=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">			ans+=<span class="built_in">abs</span>(A[j<span class="number">-1</span>]-k);</span><br><span class="line">			k*=i;</span><br><span class="line">			<span class="keyword">if</span>(ans&gt;minn) <span class="keyword">break</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		minn=min(minn, ans);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;minn;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-Multiples-of-Length"><a href="#C-Multiples-of-Length" class="headerlink" title="C. Multiples of Length"></a>C. Multiples of Length</h4><p>You are given an array $a$ of $n$ integers.</p>
<p>You want to make all elements of $a$ equal to zero by doing the following operation <strong>exactly three</strong> times:</p>
<ul>
<li>Select a segment, for each number in this segment we can add a multiple of $len$ to it, where $len$ is the length of this segment (added integers can be different).</li>
</ul>
<p>It can be proven that it is always possible to make all elements of $a$ equal to zero.</p>
<p><strong>Input</strong></p>
<p>The first line contains one integer $n$ ($1â‰¤nâ‰¤100000$): the number of elements of the array.</p>
<p>The second line contains $n$ elements of an array $a$ separated by spaces: $a_1,a_2,â€¦,a_n$($âˆ’10^9â‰¤a_iâ‰¤10^9$).</p>
<p><strong>Output</strong></p>
<p>The output should contain six lines representing three operations.</p>
<p>For each operation, print two lines:</p>
<ul>
<li>The first line contains two integers $l$, $r$ ($1â‰¤lâ‰¤râ‰¤n$): the bounds of the selected segment.</li>
<li>The second line contains $râˆ’l+1$ integers $b_l,b_{l+1},â€¦,b_r$ ($âˆ’10^{18}â‰¤biâ‰¤10^{18}$): the numbers to add to $a_l,a_{l+1},â€¦,a_r$, respectively; $bi$ should be divisible by $râˆ’l+1$.</li>
</ul>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1 3 2 4</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">1 1 </span><br><span class="line">-1</span><br><span class="line">3 4</span><br><span class="line">4 2</span><br><span class="line">2 4</span><br><span class="line">-3 -6 -6</span><br></pre></td></tr></table></figure>
<h5 id="è§£æ³•-2"><a href="#è§£æ³•-2" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>é¢˜ç›®ä¸­æ˜ç¡®å†™å‡ºäº†3æ­¥å¿…å®šå¯ä»¥åšåˆ°ï¼Œé‚£è‚¯å®šæœ‰ä¸€äº›å¥¥ç§˜åœ¨é‡Œé¢ã€‚</p>
<p>ç¬¬ä¸€æ­¥ï¼šæŠŠç¬¬ä¸€ä¸ªæ•°å‡åˆ°0ã€‚</p>
<p>ç¬¬äºŒæ­¥ï¼šå°†ç¬¬$2-n$ä¸ªæ•°åŠ $n$åŠ åˆ°$n-1$çš„å€æ•°ã€‚è¿™æ˜¯ä¸€å®šå¯ä»¥åšåˆ°çš„ï¼Œè¯æ˜å¦‚ä¸‹ï¼š</p>
<p>å¯¹äºç¬¬ä¸€ä¸ªæ•°ï¼Œä¸€ç›´åŠ n*0ï¼Œä¹Ÿå°±æ˜¯0ï¼Œ0æ˜¯ä»»ä½•æ•°çš„å€æ•°ã€‚</p>
<p>å¯¹äºç¬¬$2-n$ä¸ªæ•°ï¼Œä¸€ç›´åŠ $n$çš„è¿‡ç¨‹ä¸­ï¼Œå®ƒå¯¹$n-1$å–æ¨¡çš„å€¼ä¼šä¸€ç›´å¢åŠ 1ï¼Œæ‰€ä»¥ä¸€å®šå¯ä»¥ä¸€ç›´åŠ åˆ°æ¨¡ä¸º0ã€‚</p>
<p>ç¬¬ä¸‰æ­¥ï¼šå°†ç¬¬$2-n$ä¸ªæ•°å…¨éƒ¨å‡åˆ°0ã€‚</p>
<p>å®Œæˆ</p>
<p>Tip: nä¸º1æ—¶è¦ç‰¹åˆ¤</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">define</span> IO ios_base::sync_with_stdio(0),cin.tie(0)</span></span><br><span class="line"><span class="keyword">typedef</span> <span class="keyword">long</span> <span class="keyword">long</span> ll;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">1e5</span>;</span><br><span class="line"><span class="keyword">int</span> n;</span><br><span class="line">ll A[MAXN+<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="comment">//IO;</span></span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">	<span class="keyword">if</span>(n==<span class="number">1</span>)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;-A[<span class="number">1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;A[<span class="number">1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;-A[<span class="number">1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span> <span class="number">0</span>; </span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;-A[<span class="number">1</span>]&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;n&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		ll ans=<span class="number">0</span>;</span><br><span class="line">		<span class="keyword">if</span>(A[i]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">			<span class="keyword">while</span>(A[i]&lt;<span class="number">0</span>)&#123;</span><br><span class="line">				A[i]+=n;</span><br><span class="line">				ans+=n;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">if</span>(A[i]!=<span class="number">0</span>) &#123;</span><br><span class="line">				ans+=(n<span class="number">-1</span>-A[i])*n;</span><br><span class="line">				A[i]+=(n<span class="number">-1</span>-A[i])*n;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			<span class="keyword">if</span>(A[i]%(n<span class="number">-1</span>)!=<span class="number">0</span>)&#123;</span><br><span class="line">				ans+=((n<span class="number">-1</span>)-(A[i]%(n<span class="number">-1</span>)))*n;</span><br><span class="line">				A[i]+=((n<span class="number">-1</span>)-(A[i]%(n<span class="number">-1</span>)))*n;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="number">2</span>&lt;&lt;<span class="string">" "</span>&lt;&lt;n&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;-A[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/25/Codeforces-Round-665-Div-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/25/Codeforces-Round-665-Div-2/" class="post-title-link" itemprop="url">Codeforces Round #665 (Div. 2)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-25 10:29:03 / ä¿®æ”¹æ—¶é—´ï¼š11:49:27" itemprop="dateCreated datePublished" datetime="2020-08-25T10:29:03+02:00">2020-08-25</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">é¢˜è§£</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <h3 id="A-Distance-and-Axis"><a href="#A-Distance-and-Axis" class="headerlink" title="A. Distance and Axis"></a>A. Distance and Axis</h3><p>We have a point $A$ with coordinate $x=n$ on $OX$-axis. Weâ€™d like to find an <em>integer point</em> $B$ (also on $OX$-axis), such that the <em>absolute difference</em> between the distance from $O$ to $B$ and the distance from $A$ to $B$ is equal to $k$.</p>
<p><img src="/2020/08/25/Codeforces-Round-665-Div-2/A1.png" alt="The description of the first test case."></p>
<p>Since sometimes itâ€™s impossible to find such point $B$, we can, in one step, increase or decrease the coordinate of $A$ by $1$. What is the minimum number of steps we should do to make such point $B$ exist?</p>
<p><strong>Input</strong></p>
<p>The first line contains one integer $t$ ($1â‰¤tâ‰¤6000$) â€” the number of test cases.</p>
<p>The only line of each test case contains two integers $n$ and $k$ ($0â‰¤n,kâ‰¤10^6$) â€” the initial position of point $A$ and desirable absolute difference.</p>
<p><strong>Output</strong></p>
<p>For each test case, print the minimum number of steps to make point $B$ exist. </p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">4 0</span><br><span class="line">5 8</span><br><span class="line">0 1000000</span><br><span class="line">0 0</span><br><span class="line">1 0</span><br><span class="line">1000000 1000000</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">0</span><br><span class="line">3</span><br><span class="line">1000000</span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first test case (picture above), if we set the coordinate of $B$ as $2$ then the absolute difference will be equal to $|(2âˆ’0)âˆ’(4âˆ’2)|=0$ and we donâ€™t have to move $A$. So the answer is $0$.</p>
<p>In the second test case, we can increase the coordinate of $A$ by $3$ and set the coordinate of $B$ as $0$ or $8$. The absolute difference will be equal to $|8âˆ’0|=8$, so the answer is $3$.</p>
<p><img src="/2020/08/25/Codeforces-Round-665-Div-2/A2.png" alt></p>
<h4 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h4><p>å¦‚æœ$kâ‰¥n$ï¼Œé‚£ä¸ç”¨å¤šè¯´äº†ï¼Œç›´æ¥æ‹‰æ»¡ï¼Œè¾“å‡º$k-n$</p>
<p>å¦‚æœ$k&lt;n$ï¼Œä¾é¢˜æ„å¾—ï¼Œæˆ‘ä»¬å¯ä»¥æ¨å‡ºä¸€ä¸ªå¼å­ï¼š$\lvert {\lvert \vec{OB} \rvert-\lvert\vec{AB}\rvert} \rvert=k$ </p>
<p>å¸¦å…¥å˜é‡ï¼š$\lvert b-\lvert a-b \rvert \rvert=k$</p>
<p>ç„¶åå°±æ˜¯ä¸‡æ¶çš„æ‹†ç»å¯¹å€¼äº†</p>
<p>æˆ‘é»˜è®¤$\Vert\vec{OB}\Vert$æ¯”$\Vert\vec{AB}\Vert$é•¿</p>
<script type="math/tex; mode=display">
\begin{cases}
a=k &(aâ‰¤b) \\
b=\frac{a+k}{2} &(a>b)
\end{cases}</script><p>ä¹Ÿå°±æ˜¯è¯´$n==k$æ—¶æ’æˆç«‹ï¼Œç›´æ¥è¾“å‡º$0$</p>
<p>$a+k$ä¸ºå¶æ•°æ—¶è¾“å‡º0ï¼Œä¸ºå¥‡æ•°æ—¶è¾“å‡º1ï¼Œä¸ºäº†$b$ä¸ºæ•´æ•°</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> n, k;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;k;</span><br><span class="line">	<span class="keyword">if</span>(n==k)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(n&gt;k)&#123;</span><br><span class="line">		<span class="keyword">if</span>((n+k)&amp;<span class="number">1</span>==<span class="number">1</span>) <span class="built_in">cout</span>&lt;&lt;<span class="number">1</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		<span class="keyword">return</span>; </span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="built_in">abs</span>(k-n)&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve(); </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="B-Ternary-Sequence"><a href="#B-Ternary-Sequence" class="headerlink" title="B. Ternary Sequence"></a>B. Ternary Sequence</h3><p>You are given two sequences $a_1,a_2,â€¦,a_n$ and $b_1,b_2,â€¦,b_n$. Each element of both sequences is either $0$, $1$ or $2$. The number of elements $0$, $1$, $2$ in the sequence $a$ is $x_1$, $y_1$, $z_1$ respectively, and the number of elements $0$, $1$, $2$ in the sequence $b$ is $x_2$, $y_2$, $z_2$ respectively.</p>
<p>You can rearrange the elements in both sequences $a$ and $b$ however you like. After that, letâ€™s define a sequence $c$ as follows:</p>
<script type="math/tex; mode=display">
c_i=
\begin{cases}
a_ib_i &(\text{if $a_i>b_i$}) \\
0 &(\text{if $a_i=b_i$}) \\
-a_ib_i &(\text{if $a_i<b_i$}) \\
\end{cases}</script><p>Youâ€™d like to make $\sum_{i=1}^{n}c_i$ (the sum of all elements of the sequence $c$) as large as possible. What is the maximum possible sum?</p>
<p><strong>Input</strong></p>
<p>The first line contains one integer $t$ ($1â‰¤tâ‰¤10^4$) â€” the number of test cases.</p>
<p>Each test case consists of two lines. The first line of each test case contains three integers $x_1$, $y_1$, $z_1$ ($0â‰¤x_1,y_1,z_1â‰¤10^8$) â€” the number of $0$-s, $1$-s and $2$-s in the sequence $a$.</p>
<p>The second line of each test case also contains three integers $x2$, $y2$, $z2$ ($0â‰¤x_2,y_2,z_2â‰¤10^8$ $;$ $x_1+y_1+z_1=x_2+y_2+z_2&gt;0$) â€” the number of $0$-s, $1$-s and $2$-s in the sequence $b$.</p>
<p><strong>Output</strong></p>
<p>For each test case, print the maximum possible sum of the sequence $c$.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">2 3 2</span><br><span class="line">3 3 1</span><br><span class="line">4 0 1</span><br><span class="line">2 3 0</span><br><span class="line">0 0 1</span><br><span class="line">0 0 1</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">2</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first sample, one of the optimal solutions is:</p>
<p>$a=\{2,0,1,1,0,2,1\}$</p>
<p>$b=\{1,0,1,0,2,1,0\}$</p>
<p>$c=\{2,0,0,0,0,2,0\}$</p>
<p>In the second sample, one of the optimal solutions is:</p>
<p>$a=\{0,2,0,0,0\}$</p>
<p>$b=\{1,1,0,1,0\}$</p>
<p>$c=\{0,2,0,0,0\}$</p>
<p>In the third sample, the only possible solution is:</p>
<p>$a=\{2\}$</p>
<p>$b=\{2\}$</p>
<p>$c=\{0\}$</p>
<h4 id="è§£æ³•-1"><a href="#è§£æ³•-1" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h4><p>åœ¨æ‰€æœ‰ç»„åˆé‡Œé¢åªæœ‰$z_1y_2$çš„ç»“æœæ˜¯$2$ï¼Œ$y_1z_2$çš„ç»“æœæ˜¯$-2$</p>
<p>æ‰€ä»¥è´ªå¿ƒä¸€ä¸‹ï¼Œè®©æ‰€æœ‰çš„$z_1$å»å’Œ$y_2$ç»„åˆï¼Œ$z_2$ä¸å»å’Œ$y_1$ç»„åˆï¼Œè€Œæ˜¯$x_1$å’Œ$z_1$ç»„åˆ</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> x1, x2, y1, y2, z1, z2, ans=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;x1&gt;&gt;y1&gt;&gt;z1&gt;&gt;x2&gt;&gt;y2&gt;&gt;z2;</span><br><span class="line">	<span class="keyword">int</span> temp=min(z1, y2);</span><br><span class="line">	z1-=temp;</span><br><span class="line">	y2-=temp;</span><br><span class="line">	ans+=temp*<span class="number">2</span>;</span><br><span class="line">	</span><br><span class="line">	temp=min(x1, z2);</span><br><span class="line">	x1-=temp;</span><br><span class="line">	z2-=temp;</span><br><span class="line">	</span><br><span class="line">	temp=min(z1, z2);</span><br><span class="line">	z1-=temp;</span><br><span class="line">	z2-=temp;</span><br><span class="line">	</span><br><span class="line">	ans-=min(z2, y1)*<span class="number">2</span>;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve(); </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="C-Mere-Array"><a href="#C-Mere-Array" class="headerlink" title="C. Mere Array"></a>C. Mere Array</h3><p>You are given an array $a_1,a_2,â€¦,a_n$ where all $a_i$ are integers and greater than $0$.</p>
<p>In one operation, you can choose two different indices $i$ and $j$ ($1â‰¤i,jâ‰¤n$). If $gcd(ai,aj)$ is equal to the minimum element of the <strong>whole array</strong> $a$, you can swap $ai$ and $a_j$. $gcd(x,y)$ denotes the <a href="https://en.wikipedia.org/wiki/Greatest_common_divisor" target="_blank" rel="noopener">greatest common divisor (GCD)</a> of integers $x$ and $y$.</p>
<p>Now youâ€™d like to make $a$ non-decreasing using the operation any number of times (possibly zero). Determine if you can do this.</p>
<p>An array $a$ is non-decreasing if and only if $a1â‰¤a2â‰¤â€¦â‰¤an$.</p>
<p><strong>Input</strong></p>
<p>The first line contains one integer $t$ ($1â‰¤tâ‰¤10^4$) â€” the number of test cases.</p>
<p>The first line of each test case contains one integer $n$ ($1â‰¤nâ‰¤10^5$) â€” the length of array $a$.</p>
<p>The second line of each test case contains $n$ positive integers $a_1,a_2,â€¦a_n$ ($1â‰¤a_iâ‰¤10^9$) â€” the array itself.</p>
<p>It is guaranteed that the sum of $n$ over all test cases doesnâ€™t exceed $10^5$.</p>
<p><strong>Output</strong></p>
<p>For each test case, output â€œYESâ€ if it is possible to make the array $a$ non-decreasing using the described operation, or â€œNOâ€ if it is impossible to do so.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">1</span><br><span class="line">8</span><br><span class="line">6</span><br><span class="line">4 3 6 6 2 9</span><br><span class="line">4</span><br><span class="line">4 5 6 7</span><br><span class="line">5</span><br><span class="line">7 5 2 2 4</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">YES</span><br><span class="line">YES</span><br><span class="line">NO</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first and third sample, the array is already non-decreasing.</p>
<p>In the second sample, we can swap $a_1$ and $a_3$ first, and swap $a_1$ and $a_5$ second to make the array non-decreasing.</p>
<p>In the forth sample, we ca$n$ot the array non-decreasing using the operation.</p>
<h4 id="è§£æ³•-2"><a href="#è§£æ³•-2" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h4><p>æœ¬æ¥è¿˜æƒ³æ¨¡æ‹Ÿæ’åºæ¥ç€ã€‚ã€‚ã€‚</p>
<p>ä¾é¢˜æ„å¾—ï¼Œæ‰€æœ‰æ»¡è¶³æ¡ä»¶çš„æ•°éƒ½æ˜¯$a_n$é‡Œé¢æœ€å°æ•°çš„å€æ•°ï¼Œæ‰€ä»¥è¿™ä¸€ä¸²æ•°å­—æ˜¯å¯ä»¥<strong>è‡ªç”±æ’åº</strong>çš„ã€‚</p>
<p>æˆ‘åªè¦æŠŠè¿™ä¸€ä¸²æ•°å­—åˆ†ç¦»å‡ºæ¥ï¼Œæ’å¥½åºå†ä¾æ¬¡å¡å›å»ï¼Œæ£€æŸ¥$a_n$æ˜¯å¦è¿˜æ˜¯éé™çš„å°±è¡Œã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> <span class="keyword">const</span> MAXN=<span class="number">1e9</span>;</span><br><span class="line"><span class="keyword">int</span> n, A[<span class="number">100010</span>]; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">int</span> mi$n$=INT_MAX;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">		mi$n$=min(mi$n$, A[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pos, num;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(A[i] % mi$n$==<span class="number">0</span>)&#123;</span><br><span class="line">			pos.push_back(i);</span><br><span class="line">			num.push_back(A[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	sort(num.begin(), num.end());</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;num.size();i++)&#123;</span><br><span class="line">		A[pos[i]]=num[i];</span><br><span class="line">	&#125;</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(A[i]&gt;A[i+<span class="number">1</span>])&#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">			<span class="keyword">return</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve(); </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="D-Maximum-Distributed-Tree"><a href="#D-Maximum-Distributed-Tree" class="headerlink" title="D. Maximum Distributed Tree"></a>D. Maximum Distributed Tree</h3><p>You are given a tree that consists of $n$ nodes. You should label each of its $n-1$ edges with an integer in such way that satisfies the following conditions:</p>
<ul>
<li>each integer must be greater than $0$;</li>
<li>the product of all $n-1$ numbers should be equal to $k$; </li>
<li>the number of $1$-s among all $n-1$ integers must be minimum possible.</li>
</ul>
<p>Letâ€™s define $f(u,v)$ as the sum of the numbers on the simple path from node $u$ to node $v$. Also, let $\sum_{i=1}^{nâˆ’1}\sum_{j=i+1}^nf(i,j)$ be a <em>distribution index</em> of the tree.</p>
<p>Find the maximum possible distribution index you can get. Since answer can be too large, print it modulo $10^9+7$.</p>
<p>In this problem, since the number $k$ can be large, the result of the prime factorization of $k$ is given instead.</p>
<p><strong>Input</strong></p>
<p>The first line contains one integer $t$ ($1â‰¤tâ‰¤100$) â€” the number of test cases.</p>
<p>The first line of each test case contains a single integer $n$ ($2â‰¤nâ‰¤10^5$) â€” the number of nodes in the tree.</p>
<p>Each of the next $n-1$ lines describes an edge: the $i$-th line contains two integers $u_i$ and $v_i$ ($1â‰¤u_i,v_iâ‰¤n$; $u_iâ‰ v_i$) â€” indices of vertices connected by the $i$-th edge.</p>
<p>Next line contains a single integer $m$ (1â‰¤mâ‰¤6â‹…1041â‰¤mâ‰¤6â‹…104) â€” the number of prime factors of $k$.</p>
<p>Next line contains $m$ prime numbers $p_1,p_2,â€¦,p_m$ ($2â‰¤p_i&lt;6â‹…10^4$) such that $k=p_1â‹…p_2â‹…â€¦â‹…p_m$.</p>
<p>It is guaranteed that the sum of $n$ over all test cases doesnâ€™t exceed $10^5$, the sum of $m$ over all test cases doesnâ€™t exceed $6â‹…10^4$, and the given edges for each test cases form a tree.</p>
<p><strong>Output</strong></p>
<p>Print the maximum distribution index you can get. Since answer can be too large, print it modulo $10^9+7$.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">4</span><br><span class="line">1 2</span><br><span class="line">2 3</span><br><span class="line">3 4</span><br><span class="line">2</span><br><span class="line">2 2</span><br><span class="line">4</span><br><span class="line">3 4</span><br><span class="line">1 3</span><br><span class="line">3 2</span><br><span class="line">2</span><br><span class="line">3 2</span><br><span class="line">7</span><br><span class="line">6 1</span><br><span class="line">2 3</span><br><span class="line">4 6</span><br><span class="line">7 3</span><br><span class="line">5 1</span><br><span class="line">3 6</span><br><span class="line">4</span><br><span class="line">7 5 13 3</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">17</span><br><span class="line">18</span><br><span class="line">286</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first test case, one of the optimal ways is on the following image:</p>
<p><img src="/2020/08/25/Codeforces-Round-665-Div-2/D1.png" alt></p>
<p>In this case, $f(1,2)=1$, $f(1,3)=3$, $f(1,4)=5$, $f(2,3)=2$, $f(2,4)=4$, $f(3,4)=2$, so the sum of these $6$ numbers is $17$.</p>
<p>In the second test case, one of the optimal ways is on the following image:</p>
<p><img src="/2020/08/25/Codeforces-Round-665-Div-2/D2.png" alt></p>
<p>In this case, $f(1,2)=3$, $f(1,3)=1$, $f(1,4)=4$, $f(2,3)=2$, $f(2,4)=5$, $f(3,4)=3$, so the sum of these $6$ numbers is $18$.</p>
<h4 id="è§£æ³•-3"><a href="#è§£æ³•-3" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h4><p>è®¡ç®—å‡ºæ¯æ¡è¾¹ç»è¿‡çš„æ¬¡æ•°ï¼Œç„¶åè¶Šå¤§çš„è¾¹ä¹˜ä»¥è¶Šå¤§çš„ç´ æ•°</p>
<p>ç´ æ•°è¦æå‰å¤„ç†ï¼šå¦‚æœä¸å¤Ÿè¦è¡¥1ï¼Œå¦‚æœè¿‡å¤šè¦æŠŠæœ€å¤§çš„å‡ ä¸ªç´ æ•°ä¹˜èµ·æ¥å˜æˆä¸€ä¸ªè¶…çº§å¤§çš„æ•°</p>
<p>è®¡ç®—æ¯æ¡è¾¹ç»è¿‡çš„æ¬¡æ•°ï¼šä¸€å¼€å§‹æˆ‘æ¨¡æ‹Ÿæ¯ä¸ªç‚¹çš„éå†æ¥è®¡ç®—ï¼Œä¼šè¶…æ—¶</p>
<p>åæ¥å‚è€ƒäº†ä¸‹å¤§ä½¬çš„ä»£ç å‘ç°ä¸€ç§ç®€å•çš„æ–¹å¼ï¼š</p>
<p>å‡è®¾æœ‰ä¸€æ¡$u\rightarrow v$çš„è¾¹ï¼Œå‡è®¾è¿™æ¡è¾¹æ–­äº†ï¼Œåˆ†æˆäº†ä¸¤ä¸ªå¤§å—$U$å’Œ$V$ï¼Œ$U$é‡Œé¢çš„æ¯ä¸€ä¸ªç‚¹å’Œ$V$é‡Œé¢çš„æ¯ä¸€ä¸ªç‚¹å¿…ç»è¿‡è¿™æ¡æ–­æ‰çš„è¾¹ä¸€æ¬¡ï¼Œæ‰€ä»¥è¿™æ¡è¾¹ç»è¿‡çš„æ¬¡æ•°å°±æ˜¯$\vert U\vertÂ·\vert V\vert$ï¼Œä¹Ÿå¯ä»¥å†™ä½œ$({n-\vert V\vert})Â·\vert V\vert$ã€‚è¿™é‡Œçš„$\vert U\vert$å’Œ$\vert V\vert$ä»£è¡¨è¿™ä¸¤å—åŒºåŸŸé‡Œçš„ç‚¹çš„æ•°é‡ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;climits&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;queue&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>; </span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">edge</span>&#123;</span></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> to;</span><br><span class="line">	</span><br><span class="line">	edge(<span class="keyword">int</span> t, <span class="keyword">int</span> v)&#123;</span><br><span class="line">		<span class="keyword">this</span>-&gt;to=t;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">bool</span> <span class="title">cmp</span><span class="params">(<span class="keyword">int</span> a, <span class="keyword">int</span> b)</span></span>&#123;</span><br><span class="line">	<span class="keyword">return</span> a&gt;b;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">1e5</span>;</span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MOD=<span class="number">1e9</span>+<span class="number">7</span>; </span><br><span class="line"><span class="keyword">long</span> <span class="keyword">long</span> n, m;</span><br><span class="line"><span class="built_in">vector</span>&lt;edge&gt; E[MAXN+<span class="number">10</span>];</span><br><span class="line">priority_queue&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;, less&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; &gt; Q;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">long</span> <span class="keyword">long</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> last)</span></span>&#123;</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">1</span>;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;E[x].size();i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(E[x][i].to==last) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> temp=dfs(E[x][i].to, x);</span><br><span class="line">		Q.push(temp*(n-temp));</span><br><span class="line">		ans+=temp;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">clear</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) E[i].clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> a, b;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">		E[a].push_back(edge(b, <span class="number">0</span>));</span><br><span class="line">		E[b].push_back(edge(a, <span class="number">0</span>));</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;m;</span><br><span class="line">	priority_queue&lt;<span class="keyword">long</span> <span class="keyword">long</span>, <span class="built_in">vector</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt;, less&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; &gt; prime;</span><br><span class="line">	<span class="built_in">deque</span>&lt;<span class="keyword">long</span> <span class="keyword">long</span>&gt; P;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=m;i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> a;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;a;</span><br><span class="line">		prime.push(a);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(!prime.empty())&#123;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> t=prime.top();</span><br><span class="line">		P.push_back(t);</span><br><span class="line">		prime.pop();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">while</span>(P.size()&gt;(n<span class="number">-1</span>))&#123;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> a=P.front();</span><br><span class="line">		P.pop_front();</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> b=P.front();</span><br><span class="line">		P.pop_front();</span><br><span class="line">		P.push_front(a*b%MOD);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	dfs(<span class="number">1</span>, <span class="number">0</span>);</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">while</span>(!Q.empty())&#123;</span><br><span class="line">		<span class="keyword">long</span> <span class="keyword">long</span> tq=Q.top();</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(!P.empty()) &#123;</span><br><span class="line">			ans+=((tq*P.front())%MOD);</span><br><span class="line">			P.pop_front();</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="keyword">else</span> ans+=(tq%MOD);	</span><br><span class="line">		</span><br><span class="line">		ans%=MOD;</span><br><span class="line">		Q.pop();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">int</span> t;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/14/Codeforces-Round-663-Div-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/14/Codeforces-Round-663-Div-2/" class="post-title-link" itemprop="url">Codeforces Round #663 (Div. 2)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-14 20:12:39 / ä¿®æ”¹æ—¶é—´ï¼š22:40:58" itemprop="dateCreated datePublished" datetime="2020-08-14T20:12:39+02:00">2020-08-14</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">é¢˜è§£</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å¯¹äºCodeforces Round #660(Div. 2) çš„è§£é¢˜æ€è·¯å’Œä¸€äº›æƒ³æ³•</p>
<h4 id="A-Suborrays"><a href="#A-Suborrays" class="headerlink" title="A. Suborrays"></a>A. Suborrays</h4><p>A permutation of length $n$ is an array consisting of $n$ distinct integers from $1$ to $n$ in arbitrary order. For example, $[2,3,1,5,4]$ is a permutation, but $[1,2,2]$ is not a permutation ($2$ appears twice in the array) and $[1,3,4]$ is also not a permutation ($n=3$ but there is $4$ in the array). </p>
<p>For a positive integer $n$, we call a permutation $p$ of length $n$ <strong>good</strong> if the following condition holds for every pair $i$ and $j$ ($1â‰¤iâ‰¤jâ‰¤n$) â€”</p>
<ul>
<li>$(pi OR pi+1 OR â€¦ OR pjâˆ’1 OR pj)â‰¥jâˆ’i+1$, where $OR$ denotes the <a href="https://en.wikipedia.org/wiki/Bitwise_operation#OR" target="_blank" rel="noopener">bitwise OR operation.</a></li>
</ul>
<p>In other words, a permutation $p$ is <strong>good</strong> if for every subarray of $p$, the OROR of all elements in it is not less than the number of elements in that subarray. </p>
<p>Given a positive integer $n$, output any <strong>good</strong> permutation of length $n$. We can show that for the given constraints such a permutation always exists. </p>
<p><strong>Input</strong></p>
<p>Each test contains multiple test cases. The first line contains the number of test cases $t$ ($1â‰¤tâ‰¤100$). Description of the test cases follows.</p>
<p>The first and only line of every test case contains a single integer $n$ ($1â‰¤nâ‰¤100$).</p>
<p><strong>Output</strong></p>
<p>For every test, output any <strong>good</strong> permutation of length $n$ on a separate line. </p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1</span><br><span class="line">3</span><br><span class="line">7</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">3 1 2</span><br><span class="line">4 3 5 2 7 1 6</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>For $n=3$, $[3,1,2]$ is a good permutation. Some of the subarrays are listed below.</p>
<ul>
<li>$3 OR 1=3â‰¥2$ $(i=1,j=2)$</li>
<li>$3 OR 1 OR 2=3â‰¥3$ $(i=1,j=3)$</li>
<li>$1 OR 2=3â‰¥2$ $(i=2,j=3)$</li>
<li>$1â‰¥1$ $(i=2,j=2)$</li>
</ul>
<p>Similarly, you can verify that $[4,3,5,2,7,1,6]$ is also good.</p>
<h5 id="è§£æ³•"><a href="#è§£æ³•" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>ç»å…¸ç¬¬ä¸€é¢˜0.0</p>
<p>è°æƒ³ç€å»æ¨¡æ‹Ÿå°±æ‰è¿›å‘é‡Œé¢å»äº†- . -</p>
<p>æ ¹æ® $OR$ çš„è¿ç®—è§„å¾‹ï¼Œå¦‚æœ$a&gt;b$, é‚£ä¹ˆ$a$ $OR$ $b$ $â‰¥$ $a$ã€‚</p>
<p>é¢˜æ„è¦æ±‚ä»»æ„$k$ä¸ªæ•°$OR$å‡ºæ¥çš„å€¼è¦æ¯”$k$å°$(0â‰¤kâ‰¤n)$ã€‚</p>
<p>é‚£ä¹ˆ$[1,2,3,â€¦,n]$æ­£å¥½æ»¡è¶³ï¼Œç›´æ¥è¾“å‡ºå°±å¥½ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> t, n;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++)&#123;</span><br><span class="line">		solve();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="B-Fix-You"><a href="#B-Fix-You" class="headerlink" title="B. Fix You"></a>B. Fix You</h4><p>Consider a conveyor belt represented using a grid consisting of $n$ rows and mm columns. The cell in the $i$-th row from the top and the $j$-th column from the left is labelled $(i,j)$. </p>
<p>Every cell, except $(n,m)$, has a direction R (Right) or D (Down) assigned to it. If the cell $(i,j)$ is assigned direction R, any luggage kept on that will move to the cell $(i,j+1)$. Similarly, if the cell $(i,j)$ is assigned direction D, any luggage kept on that will move to the cell $(i+1,j)$. If at any moment, the luggage moves out of the grid, it is considered to be lost.</p>
<p>There is a counter at the cell $(n,m)$ from where all luggage is picked. A conveyor belt is called <strong>functional</strong> if and only if any luggage reaches the counter regardless of which cell it is placed in initially. More formally, for every cell $(i,j)$, any luggage placed in this cell should eventually end up in the cell $(n,m)$. </p>
<p>This may not hold initially; you are, however, allowed to <strong>change</strong> the directions of some cells to make the conveyor belt functional. Please determine the minimum amount of cells you have to change.</p>
<p>Please note that it is always possible to make any conveyor belt functional by changing the directions of some set of cells.</p>
<p><strong>Input</strong></p>
<p>Each test contains multiple test cases. The first line contains the number of test cases $t$ ($1â‰¤tâ‰¤10$). Description of the test cases follows.</p>
<p>The first line of each test case contains two integers n,mn,m ($1â‰¤nâ‰¤100$, $1â‰¤mâ‰¤100$)  â€” the number of rows and columns, respectively.</p>
<p>The following $n$ lines each contain mm characters. The $j$-th character in the $i$-th line, ai,jai,j is the initial direction of the cell $(i,j)$. Please note that $a_{n,m}=C$.</p>
<p><strong>Output</strong></p>
<p>For each case, output in a new line the minimum number of cells that you have to change to make the conveyor belt functional.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">4</span><br><span class="line">3 3</span><br><span class="line">RRD</span><br><span class="line">DDR</span><br><span class="line">RRC</span><br><span class="line">1 4</span><br><span class="line">DDDC</span><br><span class="line">6 9</span><br><span class="line">RDDDDDRRR</span><br><span class="line">RRDDRRDDD</span><br><span class="line">RRDRDRRDR</span><br><span class="line">DDDDRDDRR</span><br><span class="line">DRRDRDDDR</span><br><span class="line">DDRDRRDDC</span><br><span class="line">1 1</span><br><span class="line">C</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">1</span><br><span class="line">3</span><br><span class="line">9</span><br><span class="line">0</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first case, just changing the direction of $(2,3)$ to D is enough.</p>
<p>You can verify that the resulting belt is functional. For example, if we place any luggage at $(2,2)$, it first moves to $(3,2)$ and then to $(3,3)$.</p>
<p>In the second case, we have no option but to change the first $3$ cells from D to R making the grid equal to RRRC.</p>
<h5 id="è§£æ³•-1"><a href="#è§£æ³•-1" class="headerlink" title="è§£æ³•"></a>è§£æ³•</h5><p>è´ªå¿ƒ</p>
<p>æŠŠæœ€å³è¾¹çš„ä¸€åˆ—å˜æˆå…¨éƒ½å¾€ä¸‹çš„ï¼Œæœ€ä¸‹é¢çš„ä¸€è¡Œå˜æˆå…¨éƒ½å¾€å³çš„ï¼Œä¸­é—´ä»€ä¹ˆè·¯çº¿å®Œå…¨ä¸ç”¨å»ç®¡ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> t, n, m;</span><br><span class="line"><span class="keyword">char</span> G[<span class="number">110</span>][<span class="number">110</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;G[i][j];</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">string</span> str;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;str;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=m;j++)&#123;</span><br><span class="line">			G[i][j]=str[j<span class="number">-1</span>];</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="comment">//print();</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(G[i][m]==<span class="string">'R'</span>) ans++;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;m;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(G[n][i]==<span class="string">'D'</span>) ans++;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++)&#123;</span><br><span class="line">		solve();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-Cyclic-Permutations"><a href="#C-Cyclic-Permutations" class="headerlink" title="C. Cyclic Permutations"></a>C. Cyclic Permutations</h4><p>A permutation of length $n$ is an array consisting of $n$ distinct integers from $1$ to $n$ in arbitrary order. For example, $[2,3,1,5,4]$ is a permutation, but $[1,2,2]$ is not a permutation ($2$ appears twice in the array) and $[1,3,4]$ is also not a permutation ($n=3$ but there is $4$ in the array).</p>
<p>Consider a permutation pp of length $n$, we build a graph of size $n$ using it as follows:</p>
<ul>
<li>For every $1â‰¤iâ‰¤n$, find the <strong>largest</strong> $j$ such that $1â‰¤j<i$ $and$ $p_j>p_i$, and add an undirected edge between node $i$ and node $j$</i$></li>
<li>For every 1â‰¤iâ‰¤n1â‰¤iâ‰¤n, find the <strong>smallest</strong> $j$ such that $i<jâ‰¤n$ $and$ $p_j>p_i$, and add an undirected edge between node $i$ and node $j$</jâ‰¤n$></li>
</ul>
<p>In cases where no such $j$ exists, we make no edges. Also, note that we make edges between the corresponding indices, not the values at those indices.</p>
<p>For clarity, consider as an example $n=4$, and $p=[3,1,4,2]$; here, the edges of the graph are $(1,3),(2,1),(2,3),(4,3)$.</p>
<p>A permutation pp is <strong>cyclic</strong> if the graph built using pp has at least one simple cycle.</p>
<p>Given $n$, find the number of cyclic permutations of length $n$. Since the number may be very large, output it modulo $10^9+7$.</p>
<p>Please refer to the Notes section for the formal definition of a simple cycle</p>
<p><strong>Input</strong></p>
<p>The first and only line contains a single integer $n$ (3â‰¤nâ‰¤1063â‰¤nâ‰¤106).</p>
<p><strong>Output</strong></p>
<p>Output a single integer $0â‰¤x&lt;10^9+7$, the number of cyclic permutations of length $n$ modulo $10^9+7$.</p>
<p><strong>Examples</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">4</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">16</span><br></pre></td></tr></table></figure>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">583291</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">135712853</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>There are $16$ cyclic permutations for $n=4$. $[4,2,1,3]$ is one such permutation, having a cycle of length four: $4â†’3â†’2â†’1â†’4$.</p>
<p>Nodes $v_1$, $v_2$, â€¦â€¦, $v_k$ form a simple cycle if the following conditions hold:</p>
<ul>
<li>$kâ‰¥3$.</li>
<li>$viâ‰ vj$ for any pair of indices $i$ and $j$. ($1â‰¤i&lt;jâ‰¤k$)</li>
<li>$v_i$ and $v_i+1$ share an edge for all $i$ ($1â‰¤i&lt;k$), and $v_1$ and $v_k$ share an edge.  </li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/06/Codeforces-Round-661-Div-3/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/06/Codeforces-Round-661-Div-3/" class="post-title-link" itemprop="url">Codeforces Round #661 (Div. 3)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-06 20:00:58" itemprop="dateCreated datePublished" datetime="2020-08-06T20:00:58+02:00">2020-08-06</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-08-20 23:22:07" itemprop="dateModified" datetime="2020-08-20T23:22:07+02:00">2020-08-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">é¢˜è§£</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Div. 3éš¾åº¦å‰ä¸‰é¢˜è¿˜è¡Œï¼Œç¬¬å››é¢˜å¼€å§‹ä»€ä¹ˆé¬¼å•ŠQAQ</p>
<p>å¥½ä¹…æ²¡å†™é¢˜ç›®äº†å†™çš„å¥½æ…¢ï¼Œä¿©å°æ—¶å†™ä¸‰é¢˜åŠï¼Œå­¦é•¿50åˆ†é’Ÿå†™äº†ä¸‰é¢˜åŠ </p>
<p>0.0</p>
<p>keep training~</p>
<h4 id="A-Remove-Smallest"><a href="#A-Remove-Smallest" class="headerlink" title="A. Remove Smallest"></a>A. Remove Smallest</h4><p>You are given the array $a$ consisting of $n$ positive (greater than zero) integers.</p>
<p>In one move, you can choose two indices $i$ and $j$ ($iâ‰ j$) such that the absolute difference between $a_i$ and $a_j$ is no more than one ($|a_iâˆ’a_j|â‰¤1$) and remove the smallest of these two elements. If two elements are equal, you can remove any of them (but exactly one).</p>
<p>Your task is to find if it is possible to obtain the array consisting of <strong>only one element</strong> using several (possibly, zero) such moves or not.</p>
<p>You have to answer $t$ independent test cases. </p>
<p><strong>Input</strong></p>
<p>The first line of the input contains one integer $t$ ($1â‰¤tâ‰¤1000$) â€” the number of test cases.  Then $t$ test cases follow. </p>
<p>The first line of the test case contains one integer $n$ ($1â‰¤nâ‰¤50$) â€” the length of $a$. The second line of the test case contains $n$ integers $a1,a2,â€¦,an$ ($1â‰¤aiâ‰¤100$), where $a_i$ is the $i$-th element of $a$.</p>
<p><strong>Output</strong></p>
<p>For each test case, print the answer: â€œYESâ€ if it is possible to obtain the array consisting of <strong>only one element</strong> using several (possibly, zero) moves described in the problem statement, or â€œNOâ€ otherwise.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">3</span><br><span class="line">1 2 2</span><br><span class="line">4</span><br><span class="line">5 5 5 5</span><br><span class="line">3</span><br><span class="line">1 2 4</span><br><span class="line">4</span><br><span class="line">1 3 4 4</span><br><span class="line">1</span><br><span class="line">100</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">YES</span><br><span class="line">NO</span><br><span class="line">NO</span><br><span class="line">YES</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first test case of the example, we can perform the following sequence of moves:</p>
<ul>
<li>choose $i=1$ and $j=3$ and remove $a_i$ (so $a$ becomes [2;2]);</li>
<li>choose $i=1$ and $j=2$ and remove $a_j$ (so $a$ becomes [2]).</li>
</ul>
<p>In the second test case of the example, we can choose any possible $i$ and $j$ any move and it doesnâ€™t matter which element we remove. </p>
<p>In the third test case of the example, there is no way to get rid of $2$ and $4$.</p>
<h5 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>ä»å°åˆ°å¤§æ’åºï¼Œç›¸é‚»ä¸¤ä¸ªæ•°å¦‚æœæ»¡è¶³æ¡ä»¶ï¼Œnâ€”ã€‚æœ€ån=1è¯´æ˜å°±åªå‰©ä¸€ä¸ªã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> t, n, A[<span class="number">55</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;  <span class="comment">//æ‰“å°ï¼Œåªæ˜¯ä¸ºäº†æ£€æŸ¥</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;A[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">int</span> cnt=n; </span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	sort(A+<span class="number">1</span>, A+n+<span class="number">1</span>); <span class="comment">//æ’åº</span></span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">abs</span>(A[i]-A[i+<span class="number">1</span>])&lt;=<span class="number">1</span>) cnt--; <span class="comment">//æ»¡è¶³æ¡ä»¶ï¼Œè®¡æ•°å™¨cnt--</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(cnt!=<span class="number">1</span>) <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;  <span class="comment">//è¾“å‡º</span></span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="B-Gifts-Fixing"><a href="#B-Gifts-Fixing" class="headerlink" title="B. Gifts Fixing"></a>B. Gifts Fixing</h4><p>You have $n$ gifts and you want to give all of them to children. Of course, you donâ€™t want to offend anyone, so all gifts should be equal between each other. The $i$-th gift consists of $a_i$ candies and $b_i$ oranges.</p>
<p>During one move, you can choose some gift $1â‰¤iâ‰¤n$ and do one of the following operations:</p>
<ul>
<li>eat exactly <strong>one candy</strong> from this gift (decrease $a_i$ by one); </li>
<li>eat exactly <strong>one orange</strong> from this gift (decrease $b_i$ by one); </li>
<li>eat exactly <strong>one candy</strong> and exactly <strong>one orange</strong> from this gift (decrease both $a_i$ and $b_i$ by one). </li>
</ul>
<p>Of course, you can not eat a candy or orange if itâ€™s not present in the gift (so neither $a_i$ nor $b_i$ can become less than zero). </p>
<p>As said above, all gifts should be equal. This means that after some sequence of moves the following two conditions should be satisfied: $a_1=a_2=â‹¯=a_n$ and $b_1=b_2=â‹¯=b_n$ (and $a_i$ equals $b_i$ is <strong>not necessary</strong>).</p>
<p>Your task is to find the <strong>minimum</strong> number of moves required to equalize all the given gifts.</p>
<p>You have to answer $t$ independent test cases.</p>
<p><strong>Input</strong></p>
<p>The first line of the input contains one integer $t$ ($1â‰¤tâ‰¤1000$) â€” the number of test cases. Then $t$ test cases follow.</p>
<p>The first line of the test case contains one integer $n$ ($1â‰¤nâ‰¤50$) â€” the number of gifts. The second line of the test case contains $n$ integers $a_1,a_2,â€¦,a_n$ ($1â‰¤a_iâ‰¤10^9$), where $a_i$ is the number of candies in the $i$-th gift. The third line of the test case contains $n$ integers $b_1,b_2,â€¦,b_n$ ($1â‰¤b_iâ‰¤10^9$), where $b_i$ is the number of oranges in the $i$-th gift.</p>
<p><strong>Output</strong></p>
<p>For each test case, print one integer: the <strong>minimum</strong> number of moves required to equalize all the given gifts.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">3</span><br><span class="line">3 5 6</span><br><span class="line">3 2 3</span><br><span class="line">5</span><br><span class="line">1 2 3 4 5</span><br><span class="line">5 4 3 2 1</span><br><span class="line">3</span><br><span class="line">1 1 1</span><br><span class="line">2 2 2</span><br><span class="line">6</span><br><span class="line">1 1000000000 1000000000 1000000000 1000000000 1000000000</span><br><span class="line">1 1 1 1 1 1</span><br><span class="line">3</span><br><span class="line">10 12 8</span><br><span class="line">7 5 4</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">6</span><br><span class="line">16</span><br><span class="line">0</span><br><span class="line">4999999995</span><br><span class="line">7</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first test case of the example, we can perform the following sequence of moves:</p>
<ul>
<li>choose the first gift and eat one orange from it, so $a=[3,5,6]$ and $b=[2,2,3]$;</li>
<li>choose the second gift and eat one candy from it, so $a=[3,4,6]$ and $b=[2,2,3]$;</li>
<li>choose the second gift and eat one candy from it, so $a=[3,3,6]$ and $b=[2,2,3]$;</li>
<li>choose the third gift and eat one candy and one orange from it, so $a=[3,3,5]$ and $b=[2,2,2]$;</li>
<li>choose the third gift and eat one candy from it, so $a=[3,3,4]$ and $b=[2,2,2]$;</li>
<li>choose the third gift and eat one candy from it, so $a=[3,3,3]$ and $b=[2,2,2]$.</li>
</ul>
<h5 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>çº¯æ¨¡æ‹Ÿï¼Œæ²¡å•¥å¥½è¯´çš„</p>
<p>QAQ</p>
<p>å”¯ä¸€ä¸€é“ä¸€éè¿‡çš„é¢˜ç›®</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> t, n, A[<span class="number">55</span>], B[<span class="number">55</span>], cnt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;  <span class="comment">//æ‰“å°ï¼Œåªæ˜¯ä¸ºäº†æ£€æŸ¥</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;A[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;B[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">int</span> aMin=<span class="number">1</span>&lt;&lt;<span class="number">30</span>, bMin=<span class="number">1</span>&lt;&lt;<span class="number">30</span>;  <span class="comment">//æœ€å°å€¼åˆå§‹å€¼ä¸ºintçš„æœ€å¤§å€¼</span></span><br><span class="line">	<span class="keyword">long</span> <span class="keyword">long</span> ans=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">		aMin=min(aMin, A[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;B[i];</span><br><span class="line">		bMin=min(bMin, B[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(A[i]&gt;aMin &amp;&amp; B[i]&gt;bMin)&#123;</span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> temp=min(A[i]-aMin, B[i]-bMin);  <span class="comment">//å¿…é¡»ç”¨long longï¼Œä¸ç„¶è£…ä¸ä¸‹</span></span><br><span class="line">			A[i]-=temp;</span><br><span class="line">			B[i]-=temp;</span><br><span class="line">			</span><br><span class="line">			ans+=temp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(A[i]&gt;aMin)&#123;</span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> temp=A[i]-aMin;</span><br><span class="line">			A[i]-=temp;</span><br><span class="line">			ans+=temp;</span><br><span class="line">		&#125;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(B[i]&gt;bMin)&#123;</span><br><span class="line">			<span class="keyword">long</span> <span class="keyword">long</span> temp=B[i]-bMin;</span><br><span class="line">			B[i]-=temp;</span><br><span class="line">			ans+=temp;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-Boats-Competition"><a href="#C-Boats-Competition" class="headerlink" title="C. Boats Competition"></a>C. Boats Competition</h4><p>There are $n$ people who want to participate in a boat competition. The weight of the $i$-th participant is $w_i$. Only teams consisting of <strong>two</strong> people can participate in this competition. As an organizer, you think that itâ€™s fair to allow only teams with <strong>the same total weight</strong>. </p>
<p>So, if there are $k$ teams $(a_1,b_1)$, $(a_2,b_2)$, â€¦â€¦, $(a_k,b_k)$, where $a_i$ is the weight of the first participant of the $i$-th team and $bi$ is the weight of the second participant of the $i$-th team, then the condition $a_1+b_1=a_2+b_2=â‹¯=a_k+b_k=s$, where $s$ is the total weight of <strong>each</strong> team, should be satisfied.</p>
<p>Your task is to choose such $s$ that the number of teams people can create is the <strong>maximum</strong> possible. Note that each participant can be in <strong>no more than one</strong> team. </p>
<p>You have to answer $t$ independent test cases. </p>
<p><strong>Input</strong></p>
<p>The first line of the input contains one integer $t$ ($1â‰¤tâ‰¤1000$) â€” the number of test cases. Then $t$ test cases follow. </p>
<p>The first line of the test case contains one integer $n$ ($1â‰¤nâ‰¤50$) â€” the number of participants. The second line of the test case contains $n$ integers $w1,w2,â€¦,wn$ ($1â‰¤wiâ‰¤n$), where $w_i$ is the weight of the $i$-th participant.</p>
<p><strong>Output</strong></p>
<p>For each test case, print one integer $k$: the <strong>maximum</strong> number of teams people can compose with the total weight $s$, if you choose $s$ optimally. </p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">5</span><br><span class="line">5</span><br><span class="line">1 2 3 4 5</span><br><span class="line">8</span><br><span class="line">6 6 6 6 6 6 8 8</span><br><span class="line">8</span><br><span class="line">1 2 2 1 2 1 1 2</span><br><span class="line">3</span><br><span class="line">1 3 3</span><br><span class="line">6</span><br><span class="line">1 1 3 4 2 2</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">1</span><br><span class="line">2</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first test case of the example, we can reach the optimal answer for $s=6$. Then the first boat is used by participants $1$ and $5$ and the second boat is used by participants $2$ and $4$ (indices are the same as weights).</p>
<p>In the second test case of the example, we can reach the optimal answer for $s=12$. Then first $6$ participants can form $3$ pairs.</p>
<p>In the third test case of the example, we can reach the optimal answer for $s=3$. The answer is $4$ because we have $4$ participants with weight $1$ and $4$ participants with weight $2$.</p>
<p>In the fourth test case of the example, we can reach the optimal answer for $s=4$ or $s=6$.</p>
<p>In the fifth test case of the example, we can reach the optimal answer for $s=3$. Note that participant with weight $3$ canâ€™t use the boat because there is no suitable pair for him in the list.</p>
<h5 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>æš´åŠ›æšä¸¾</p>
<p>æŠŠæ‰€æœ‰çš„å’Œæ•°å¯¹åº”çš„ç»„æ•°è®¡ç®—å‡ºæ¥ï¼Œæ±‚æœ€å¤§å€¼å°±è§£å†³äº†</p>
<p><del>tmd</del>æˆ‘åœ¨æ±‚æœ€å¤§å€¼çš„æ—¶å€™å‡ºäº†é—®é¢˜æ²¡æ£€æŸ¥å‡ºæ¥å¡äº†åŠå°æ—¶</p>
<p>ç»†èŠ‚ç»†èŠ‚ç»†èŠ‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cmath&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;map&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;algorithm&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> t, n, A[<span class="number">55</span>], vis[<span class="number">55</span>];</span><br><span class="line"><span class="built_in">map</span>&lt;<span class="keyword">int</span>, <span class="keyword">int</span>&gt; V;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;A[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">search</span><span class="params">(<span class="keyword">int</span> s)</span></span>&#123;</span><br><span class="line">	<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">	<span class="keyword">int</span> ans=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(vis[i]==<span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(vis[j]==<span class="number">1</span>) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span>(vis[i]==<span class="number">1</span>) <span class="keyword">break</span>;</span><br><span class="line">			</span><br><span class="line">			<span class="keyword">if</span>(A[i]+A[j]==s)&#123;</span><br><span class="line">				vis[i]=<span class="number">1</span>;</span><br><span class="line">				vis[j]=<span class="number">1</span>;</span><br><span class="line">				ans++;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> ans;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">int</span> ans=<span class="number">-1</span>;  <span class="comment">//æ²¡æœåˆ°ansè¦è¾“å‡º0 </span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=i+<span class="number">1</span>;j&lt;=n;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(V[A[i]+A[j]]==<span class="number">0</span>)&#123;</span><br><span class="line">				V[A[i]+A[j]]=search(A[i]+A[j]);</span><br><span class="line">				ans=max(ans, V[A[i]+A[j]]);</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">if</span>(ans&gt;<span class="number">0</span>) <span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="number">0</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	V.clear();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++) solve();</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/05/Codeforces-Round-660-Div-2/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/05/Codeforces-Round-660-Div-2/" class="post-title-link" itemprop="url">Codeforces Round #660(Div. 2)</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-05 00:52:55" itemprop="dateCreated datePublished" datetime="2020-08-05T00:52:55+02:00">2020-08-05</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-08-20 23:22:00" itemprop="dateModified" datetime="2020-08-20T23:22:00+02:00">2020-08-20</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E9%A2%98%E8%A7%A3/" itemprop="url" rel="index"><span itemprop="name">é¢˜è§£</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>å¯¹äºCodeforces Round #660(Div. 2) çš„è§£é¢˜æ€è·¯å’Œä¸€äº›æƒ³æ³•</p>
<p>æ—¶éš”nå¤šå¹´å†æ¥åšæ¯”èµ›é¢˜ç›®QAQ</p>
<p>æ„Ÿè§‰åˆå¼±äº†å¥½å¤š</p>
<h4 id="A-Captain-Flint-and-Crew-Recruitment"><a href="#A-Captain-Flint-and-Crew-Recruitment" class="headerlink" title="A. Captain Flint and Crew Recruitment"></a>A. Captain Flint and Crew Recruitment</h4><p><em>Despite his bad reputation, Captain Flint is a friendly person (at least, friendly to animals). Now Captain Flint is searching worthy sailors to join his new crew (solely for peaceful purposes). A sailor is considered as worthy if he can solve Flintâ€™s task.</em></p>
<p>Recently, out of blue Captain Flint has been interested in math and even defined a new class of integers. Letâ€™s define a positive integer $x$ as <strong>nearly prime</strong> if it can be represented as $pâ‹…q$, where $1&lt;p&lt;q$ and $p$ and $q$ are prime numbers. For example, integers $6$ and $10$ are nearly primes (since $2â‹…3=6$ and $2â‹…5=10$), but integers $1$, $3$, $4$, $16$, $17$ or $44$ are not.</p>
<p>Captain Flint guessed an integer $n$ and asked you: can you represent it as <em>the sum of 44 <strong>different positive</strong> integers</em> where <strong>at least $3$</strong> of them should be <em>nearly prime</em>.</p>
<p>Uncle Bogdan easily solved the task and joined the crew. Can you do the same?</p>
<p>Input</p>
<p>The first line contains a single integer $t$ $(1â‰¤tâ‰¤1000)$ â€” the number of test cases.</p>
<p>Next $t$ lines contain test cases â€” one per line. The first and only line of each test case contains the single integer $n$ $(1â‰¤nâ‰¤2â‹…10^5)$ â€” the number Flint guessed.</p>
<p>Output</p>
<p>For each test case print:</p>
<ul>
<li>YES and $4$ <strong>different</strong> positive integers such that at least $3$ of them are nearly prime and their sum is equal to $n$ (if there are multiple answers print any of them);</li>
<li>NO if there is no way to represent $n$ as <em>the sum of $4$ <strong>different positive</strong> integers</em> where at least $3$ of them are nearly prime.</li>
</ul>
<p>You can print each character of YES or NO in any case.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">7</span><br><span class="line">7</span><br><span class="line">23</span><br><span class="line">31</span><br><span class="line">36</span><br><span class="line">44</span><br><span class="line">100</span><br><span class="line">258</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">NO</span><br><span class="line">NO</span><br><span class="line">YES</span><br><span class="line">14 10 6 1</span><br><span class="line">YES</span><br><span class="line">5 6 10 15</span><br><span class="line">YES</span><br><span class="line">6 7 10 21</span><br><span class="line">YES</span><br><span class="line">2 10 33 55</span><br><span class="line">YES</span><br><span class="line">10 21 221 6</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the first and second test cases, it can be proven that there are no four different positive integers such that at least three of them are nearly prime.</p>
<p>In the third test case, $n=31=2â‹…7+2â‹…5+2â‹…3+1$: integers $14$, $10$, $6$ are nearly prime.</p>
<p>In the fourth test case, $n=36=5+2â‹…3+2â‹…5+3â‹…5$: integers $6$, $10$, $15$ are nearly prime.</p>
<p>In the fifth test case, $n=44=2â‹…3+7+2â‹…5+3â‹…7$: integers $6$, $10$, $21$ are nearly prime.</p>
<p>In the sixth test case, $n=100=2+2â‹…5+3â‹…11+5â‹…11$: integers $10$, $33$, $55$ are nearly prime.</p>
<p>In the seventh test case, $n=258=2â‹…5+3â‹…7+13â‹…17+2â‹…3$: integers $10$, $21$, $221$, $6$ are nearly prime.</p>
<h5 id="æ€è·¯"><a href="#æ€è·¯" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>ç¬¬ä¸€ååº”ï¼šçº¿æ€§ç­›+ç»Ÿè®¡ï¼Œæœ€åè¾“å‡ºç­”æ¡ˆ</p>
<p>ç„¶è€Œå¹¶æ²¡æœ‰é‚£ä¹ˆå¤æ‚ï¼šæœ€å°çš„ä¸‰ä¸ªnearly primeåˆ†åˆ«æ˜¯6ï¼Œ10ï¼Œ14ï¼Œä¹Ÿå°±æ˜¯è¯´å®ƒä»¬çš„å’Œ30ä»¥å†…æ˜¯æ²¡æœ‰ä»»ä½•æ•°ç¬¦åˆæ¡ä»¶çš„ã€‚å¯¹äº&gt;=31çš„æ•°nï¼Œå°±ç”¨6+10+14+kï¼Œk=n-6-10-14ï¼Œå¦‚æœæœ‰é‡å¤å°±æŠŠ14æ¢æˆ15ã€‚</p>
<p><del>æˆ‘tmdå†™äº†80å¤šè¡Œçº¿æ€§ç­›ã€‚ã€‚ã€‚</del></p>
<p>å°±å½“æ˜¯å¤ä¹ çº¿æ€§ç­›äº†ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">200000</span>;</span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> t, vis[MAXN+<span class="number">10</span>], cnt0, prime[MAXN+<span class="number">10</span>], collect[MAXN+<span class="number">10</span>], cnt1, flag, <span class="built_in">list</span>[MAXN+<span class="number">10</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;  <span class="comment">//ä¸‰å±‚å¾ªç¯åˆ†åˆ«æ˜¯å‰ä¸‰ä¸ªnearly-primeï¼Œæœ€ååˆ¤æ–­ç¬¬å››ä¸ªæ•°</span></span><br><span class="line">	<span class="keyword">int</span> startPos=<span class="number">0</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=startPos;i&lt;cnt1;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(flag==<span class="number">1</span>) <span class="keyword">return</span>;  <span class="comment">//å„ç§ä¼˜åŒ–ï¼Œä¸‹é¢åŒç†</span></span><br><span class="line">		<span class="keyword">if</span>(<span class="built_in">list</span>[i]&gt;=x) <span class="keyword">return</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=startPos+<span class="number">1</span>;j&lt;cnt1;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(flag==<span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">			<span class="keyword">if</span>(<span class="built_in">list</span>[i]+<span class="built_in">list</span>[j]&gt;=x) <span class="keyword">return</span>;</span><br><span class="line">			<span class="keyword">for</span>(<span class="keyword">int</span> k=startPos+<span class="number">2</span>;k&lt;cnt1;k++)&#123;</span><br><span class="line">				<span class="keyword">if</span>(<span class="built_in">list</span>[i]+<span class="built_in">list</span>[j]+<span class="built_in">list</span>[k]&gt;=x) <span class="keyword">return</span>;</span><br><span class="line">				<span class="keyword">if</span>(flag==<span class="number">1</span>) <span class="keyword">return</span>;</span><br><span class="line">				</span><br><span class="line">				<span class="keyword">if</span>(i==j || j==k || k==i) <span class="keyword">continue</span>;</span><br><span class="line">                </span><br><span class="line">				<span class="keyword">if</span>(x-<span class="built_in">list</span>[i]-<span class="built_in">list</span>[j]-<span class="built_in">list</span>[k]&gt;<span class="number">0</span>)&#123;</span><br><span class="line">					<span class="keyword">int</span> ans=x-<span class="built_in">list</span>[i]-<span class="built_in">list</span>[j]-<span class="built_in">list</span>[k];  <span class="comment">//ç¬¬4ä¸ªæ•°</span></span><br><span class="line">					<span class="keyword">if</span>(ans!=<span class="built_in">list</span>[i] &amp;&amp; ans!=<span class="built_in">list</span>[j] &amp;&amp; ans!=<span class="built_in">list</span>[k]) &#123; <span class="comment">//åˆ¤é‡</span></span><br><span class="line">						<span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">						<span class="built_in">cout</span>&lt;&lt;<span class="built_in">list</span>[i]&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="built_in">list</span>[j]&lt;&lt;<span class="string">" "</span>&lt;&lt;<span class="built_in">list</span>[k]&lt;&lt;<span class="string">" "</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">						flag=<span class="number">1</span>;</span><br><span class="line">					&#125;</span><br><span class="line">				&#125;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">    <span class="comment">//--------å¼€ç­›---------</span></span><br><span class="line">	vis[<span class="number">0</span>]=<span class="number">1</span>;</span><br><span class="line">	vis[<span class="number">1</span>]=<span class="number">1</span>;</span><br><span class="line">	cnt0=<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">2</span>;i&lt;=MAXN;i++)</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="keyword">if</span>(!vis[i])</span><br><span class="line">            prime[++cnt0]=i;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=cnt0;j++)</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="keyword">if</span>(i*prime[j]&gt;MAXN) <span class="keyword">break</span>;</span><br><span class="line">            vis[i*prime[j]]=<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">if</span>(i % prime[j] == <span class="number">0</span>) <span class="keyword">break</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">	<span class="comment">//---------ç»Ÿè®¡nearly-prime---------</span></span><br><span class="line">	cnt1=<span class="number">-1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=cnt0;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(prime[i]!=<span class="number">2</span> &amp;&amp; prime[i]%<span class="number">2</span>==<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;=cnt0;j++)&#123;</span><br><span class="line">			<span class="keyword">if</span>(prime[j]!=<span class="number">2</span> &amp;&amp; prime[j]%<span class="number">2</span>==<span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">if</span>(i==j) <span class="keyword">continue</span>;</span><br><span class="line">			<span class="keyword">int</span> ans=prime[i]*prime[j];</span><br><span class="line">			<span class="keyword">if</span>(ans&gt;MAXN) <span class="keyword">break</span>;</span><br><span class="line">			collect[ans]=<span class="number">1</span>;</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=MAXN;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(collect[i]==<span class="number">1</span>) <span class="built_in">list</span>[++cnt1]=i;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//ç»Ÿè®¡ç­”æ¡ˆ</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> temp;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;temp;</span><br><span class="line">		solve(temp);</span><br><span class="line">		<span class="keyword">if</span>(flag==<span class="number">0</span>) <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		flag=<span class="number">0</span>;</span><br><span class="line">	&#125; </span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="B-Captain-Flint-and-a-Long-Voyage"><a href="#B-Captain-Flint-and-a-Long-Voyage" class="headerlink" title="B. Captain Flint and a Long Voyage"></a>B. Captain Flint and a Long Voyage</h4><p><em>Captain Flint and his crew keep heading to a savage shore of Byteland for several months already, drinking rum and telling stories. In such moments uncle Bogdan often remembers his nephew Denis. Today, he has told a story about how Denis helped him to come up with an interesting problem and asked the crew to solve it.</em></p>
<p>In the beginning, uncle Bogdan wrote on a board a positive integer $x$ consisting of $n$ digits. After that, he wiped out $x$ and wrote integer $k$ instead, which was the concatenation of binary representations of digits $x$ consists of (without leading zeroes). For example, let $x=729$, then $k=111101001$ (since $7=111$, $2=10$, $9=1001$).</p>
<p>After some time, uncle Bogdan understood that he doesnâ€™t know what to do with $k$ and asked Denis to help. Denis decided to wipe last $n$ digits of $k$ and named the new number as $r$.</p>
<p>As a result, Denis proposed to find such integer $x$ of length $n$ that $r$ (as number) is maximum possible. If there are multiple valid $x$ then Denis is interested in the minimum one.</p>
<p>All crew members, including captain Flint himself, easily solved the task. All, except cabin boy Kostya, who was too drunk to think straight. But what about you?</p>
<p>Note: in this task, we compare integers ($x$ or $k$) as numbers (despite what representations they are written in), so $729&lt;1999$ or $111&lt;1000$.</p>
<p><strong>Input</strong></p>
<p>The first line contains a single integer $t$ ($1â‰¤tâ‰¤1000$) â€” the number of test cases.</p>
<p>Next $t$ lines contain test cases â€” one per test case. The one and only line of each test case contains the single integer $n$ ($1â‰¤nâ‰¤10^5$) â€” the length of the integer $x$ you need to find.</p>
<p>Itâ€™s guaranteed that the sum of $n$ from all test cases doesnâ€™t exceed $2â‹…10^5$.</p>
<p><strong>Output</strong></p>
<p>For each test case, print the minimum integer $x$ of length $n$ such that obtained by Denis number $r$ is maximum possible.</p>
<p><strong>Example</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">1</span><br><span class="line">3</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">8</span><br><span class="line">998</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>In the second test case (with $n=3$), if uncle Bogdan had $x=998$ then $k=100110011000$. Denis (by wiping last $n=3$ digits) will obtain $r=100110011$.</p>
<p>It can be proved that the 100110011100110011 is the maximum possible $r$ Denis can obtain and 998998 is the minimum $x$ to obtain it.</p>
<h5 id="æ€è·¯-1"><a href="#æ€è·¯-1" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>å› ä¸ºæ¯”è¾ƒæ˜¯æŒ‰ç…§æ•°å­—çš„æ–¹å¼æ¯”è¾ƒï¼Œæ‰€ä»¥ä½æ•°å¤šçš„æ•°ä¸€å®šå¤§ï¼Œæ‰€ä»¥è¦æœ€å¤§åªèƒ½ç”¨$9=1001$å’Œ$8=1000$æ¥å ä½ã€‚ç„¶åå°¾éƒ¨è¦è¢«æŠ¹æ‰çš„ä½ç½®ç”¨8æ¥ä½¿ç›¸åŒç­”æ¡ˆä¸­æœ€å°çš„æ•°ã€‚ä½æ•°æ˜¯4çš„å€æ•°çš„æ—¶å€™è¦ç‰¹åˆ¤ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> n, t;</span><br><span class="line"><span class="built_in">string</span> ans=<span class="string">""</span>;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">1</span>;j&lt;=t;j++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">		<span class="keyword">switch</span>(n%<span class="number">4</span>)&#123;</span><br><span class="line">			<span class="keyword">case</span> <span class="number">0</span>:&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n-n/<span class="number">4</span>;i++) ans+=<span class="string">'9'</span>;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n/<span class="number">4</span>;i++) ans+=<span class="string">'8'</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">			<span class="keyword">default</span>:&#123;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n-n/<span class="number">4</span><span class="number">-1</span>;i++) ans+=<span class="string">'9'</span>;</span><br><span class="line">				<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n/<span class="number">4</span>+<span class="number">1</span>;i++) ans+=<span class="string">'8'</span>;</span><br><span class="line">				<span class="keyword">break</span>;</span><br><span class="line">			&#125;</span><br><span class="line">		&#125;</span><br><span class="line">			</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">		ans.clear();</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="C-Uncle-Bogdan-and-Country-Happiness"><a href="#C-Uncle-Bogdan-and-Country-Happiness" class="headerlink" title="C. Uncle Bogdan and Country Happiness"></a>C. Uncle Bogdan and Country Happiness</h4><p><em>Uncle Bogdan is in captain Flintâ€™s crew for a long time and sometimes gets nostalgic for his homeland. Today he told you how his country introduced a happiness index.</em></p>
<p>There are $n$ cities and $nâˆ’1$ undirected roads connecting pairs of cities. Citizens of any city can reach any other city traveling by these roads. Cities are numbered from 11 to $n$ and the city 11 is a capital. In other words, the country has a tree structure.</p>
<p>There are $m$ citizens living in the country. A $p_i$ people live in the $i$-th city but all of them are working in the capital. At evening all citizens return to their home cities using the shortest paths.</p>
<p>Every person has its own mood: somebody leaves his workplace in good mood but somebody are already in bad mood. Moreover any person can ruin his mood on the way to the hometown. <strong>If person is in bad mood he wonâ€™t improve it</strong>.</p>
<p>Happiness detectors are installed in each city to monitor the happiness of <strong>each</strong> person who visits the city. The detector in the $i$-th city calculates a happiness index $h_i$ as the number of people in good mood minus the number of people in bad mood. Letâ€™s say for the simplicity that <em>mood of a person doesnâ€™t change inside the city</em>.</p>
<p>Happiness detector is still in development, so there is a probability of a mistake in judging a personâ€™s happiness. One late evening, when all citizens successfully returned home, the government asked uncle Bogdan (the best programmer of the country) to check the correctness of the collected happiness indexes.</p>
<p>Uncle Bogdan successfully solved the problem. Can you do the same?</p>
<p>More formally, <em>You need to check: â€œIs it possible that, after all people return home, for each city $i$ the happiness index will be equal exactly to $h_i$â€.</em></p>
<p><strong>Input</strong></p>
<p>The first line contains a single integer $t$ (1â‰¤tâ‰¤100001â‰¤tâ‰¤10000) â€” the number of test cases.</p>
<p>The first line of each test case contains two integers $n$ and $m$ ($1â‰¤nâ‰¤10^5$; $0â‰¤mâ‰¤10^9$) â€” the number of cities and citizens.</p>
<p>The second line of each test case contains $n$ integers p1,p2,â€¦,pnp1,p2,â€¦,pn ($0â‰¤piâ‰¤m$; $p_1+p_2+â€¦+p_n=m$), where $p_i$ is the number of people living in the $i$-th city.</p>
<p>The third line contains $n$ integers $h_1,h_2,â€¦,h_n$ ($âˆ’10^9â‰¤h_iâ‰¤10^9$), where $h_i$ is the calculated happiness index of the $i$-th city.</p>
<p>Next $nâˆ’1$ lines contain description of the roads, one per line. Each line contains two integers $x_i$ and $y_i$ ($1â‰¤x_i,y_iâ‰¤n$; $x_iâ‰ y_i$), where xixi and yiyi are cities connected by the $i$-th road.</p>
<p>Itâ€™s guaranteed that the sum of $n$ from all test cases doesnâ€™t exceed $2â‹…10^5$.</p>
<p><strong>Output</strong></p>
<p>For each test case, print YES, if the collected data is correct, or NO â€” otherwise. You can print characters in YES or NO in any case.</p>
<p><strong>Examples</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">7 4</span><br><span class="line">1 0 1 1 0 1 0</span><br><span class="line">4 0 0 -1 0 -1 0</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br><span class="line">1 4</span><br><span class="line">3 5</span><br><span class="line">3 6</span><br><span class="line">3 7</span><br><span class="line">5 11</span><br><span class="line">1 2 5 2 1</span><br><span class="line">-11 -2 -6 -2 -1</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br><span class="line">1 4</span><br><span class="line">3 5</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">YES</span><br><span class="line">YES</span><br></pre></td></tr></table></figure>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">4 4</span><br><span class="line">1 1 1 1</span><br><span class="line">4 1 -3 -1</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br><span class="line">1 4</span><br><span class="line">3 13</span><br><span class="line">3 3 7</span><br><span class="line">13 1 4</span><br><span class="line">1 2</span><br><span class="line">1 3</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NO</span><br><span class="line">NO</span><br></pre></td></tr></table></figure>
<p><strong>Note</strong></p>
<p>more see: <a href="https://codeforces.com/contest/1388/problem/C" target="_blank" rel="noopener">https://codeforces.com/contest/1388/problem/C</a></p>
<h5 id="æ€è·¯-2"><a href="#æ€è·¯-2" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>ä»æ ¹èŠ‚ç‚¹å¼€å§‹éå†ï¼Œè®¡ç®—å­èŠ‚ç‚¹çš„happyå’Œbadäººæ•°æ˜¯å¦ç¬¦åˆæ¡ä»¶ï¼Œå¦‚æœä¸ç¬¦åˆæ¡ä»¶ç›´æ¥é€€å‡ºã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstring&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">int</span> t, n, m, flag;</span><br><span class="line"><span class="keyword">int</span> P[<span class="number">100010</span>], H[<span class="number">100010</span>], vis[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">struct</span> <span class="title">city</span>&#123;</span></span><br><span class="line">	<span class="keyword">int</span> citz, citzAll;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pathTo;</span><br><span class="line">&#125;C[<span class="number">100010</span>];</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">init</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;  <span class="comment">//åˆå§‹åŒ–å›¾ï¼Œä¿è¯ä»æ ¹èŠ‚ç‚¹åˆ°å¶å­èŠ‚ç‚¹æ˜¯å•å‘çš„</span></span><br><span class="line">	C[x].citzAll=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tempV;</span><br><span class="line">	</span><br><span class="line">	vis[x]=<span class="number">1</span>;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;C[x].pathTo.size();i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(vis[C[x].pathTo[i]]==<span class="number">0</span>)&#123;</span><br><span class="line">			tempV.push_back(C[x].pathTo[i]);</span><br><span class="line">			C[x].citzAll+=init(C[x].pathTo[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125; </span><br><span class="line">	C[x].citzAll+=C[x].citz;</span><br><span class="line">	C[x].pathTo=tempV;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> C[x].citzAll;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;  <span class="comment">//è¾“å‡ºæ‰“å°ï¼Œåªæ˜¯ä¸ºäº†è®©æ£€æŸ¥</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"--&gt;"</span>&lt;&lt;C[i].pathTo.size()&lt;&lt;<span class="string">"|| "</span>&lt;&lt;C[i].citzAll&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;C[i].pathTo.size();j++)&#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;C[i].pathTo[j]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125; </span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x, <span class="keyword">int</span> happy)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(flag!=<span class="number">0</span>) &#123;  <span class="comment">//å¦‚æœæœ‰ä¸€ä¸ªåœ°æ–¹ä¸ç¬¦åˆç›´æ¥é€€å‡º</span></span><br><span class="line">		<span class="keyword">return</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">if</span>(C[x].pathTo.size()==<span class="number">0</span>) <span class="keyword">return</span>;  <span class="comment">//å¦‚æœæ²¡æœ‰èƒ½ç»§ç»­èµ°çš„å­èŠ‚ç‚¹å°±è¿”å›</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">int</span> hNum=happy, bNum=C[x].citzAll-happy; <span class="comment">//æ ¹èŠ‚ç‚¹çš„happyå’Œbadäººæ•°</span></span><br><span class="line">	<span class="keyword">int</span> bReq=<span class="number">0</span>, hReq=<span class="number">0</span>;</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; tempH;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;C[x].pathTo.size();i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> b=<span class="number">0</span>, h=<span class="number">0</span>;</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//wrongï¼Œé™¤ä¸å°½</span></span><br><span class="line">		<span class="keyword">if</span>((C[C[x].pathTo[i]].citzAll+H[C[x].pathTo[i]]) % <span class="number">2</span> !=<span class="number">0</span>) flag=<span class="number">1</span>; </span><br><span class="line">		</span><br><span class="line">		h=(C[C[x].pathTo[i]].citzAll+H[C[x].pathTo[i]])/<span class="number">2</span>;</span><br><span class="line">		b=(C[C[x].pathTo[i]].citzAll-H[C[x].pathTo[i]])/<span class="number">2</span>;</span><br><span class="line">		</span><br><span class="line">		<span class="keyword">if</span>(h&lt;<span class="number">0</span> || b&lt;<span class="number">0</span>) flag=<span class="number">2</span>; <span class="comment">//wrongï¼Œå‡ºç°è´Ÿæ•°</span></span><br><span class="line">		tempH.push_back(h);</span><br><span class="line">		</span><br><span class="line">		bReq+=b;</span><br><span class="line">		hReq+=h;</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//åˆ¤æ–­ï¼šæ€»æ•°ä¸èƒ½å˜ï¼Œhappyäººæ•°ä¸èƒ½å¢åŠ </span></span><br><span class="line">	<span class="keyword">if</span>((hNum+bNum-C[x].citz)==(hReq+bReq) &amp;&amp; hReq&lt;=hNum)&#123;  </span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;C[x].pathTo.size();i++)&#123;</span><br><span class="line">			dfs(C[x].pathTo[i], tempH[i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;<span class="keyword">else</span> flag=<span class="number">3</span>;</span><br><span class="line">&#125; </span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">solve</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n&gt;&gt;m;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">cin</span>&gt;&gt;C[i].citz;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) <span class="built_in">cin</span>&gt;&gt;H[i];</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++) C[i].pathTo.clear();</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n<span class="number">-1</span>;i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> a=<span class="number">0</span>, b=<span class="number">0</span>;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;a&gt;&gt;b;</span><br><span class="line">		C[a].pathTo.push_back(b);</span><br><span class="line">		C[b].pathTo.push_back(a);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	init(<span class="number">1</span>);  <span class="comment">//ä»æ ¹èŠ‚ç‚¹å¼€å§‹åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment">//å¯¹æ ¹èŠ‚ç‚¹è¿›è¡Œåˆ¤æ–­</span></span><br><span class="line">	<span class="keyword">if</span>((C[<span class="number">1</span>].citzAll+H[<span class="number">1</span>]) % <span class="number">2</span> !=<span class="number">0</span>) flag=<span class="number">1</span>;  </span><br><span class="line">	<span class="keyword">int</span> h=(C[<span class="number">1</span>].citzAll+H[<span class="number">1</span>])/<span class="number">2</span>, b=(C[<span class="number">1</span>].citzAll-H[<span class="number">1</span>])/<span class="number">2</span>;</span><br><span class="line">	<span class="keyword">if</span>(h&lt;<span class="number">0</span> || b&lt;<span class="number">0</span>) flag=<span class="number">2</span>;</span><br><span class="line">	dfs(<span class="number">1</span>, h);<span class="comment">//å¼€å§‹éå†</span></span><br><span class="line">    </span><br><span class="line">	<span class="keyword">if</span>(flag==<span class="number">0</span>) <span class="built_in">cout</span>&lt;&lt;<span class="string">"YES"</span>&lt;&lt;<span class="built_in">endl</span>;<span class="comment">//å¦‚æœæ²¡é—®é¢˜è¾“å‡ºâ€œYESâ€</span></span><br><span class="line">	<span class="keyword">else</span> <span class="built_in">cout</span>&lt;&lt;<span class="string">"NO"</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	</span><br><span class="line">    <span class="comment">//é‡ç½®</span></span><br><span class="line">	flag=<span class="number">0</span>; </span><br><span class="line">	<span class="built_in">memset</span>(vis, <span class="number">0</span>, <span class="keyword">sizeof</span>(vis));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;t;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=t;i++)&#123;</span><br><span class="line">		solve();</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="D-Captain-Flint-and-Treasureï¼ˆå­˜åœ¨é—®é¢˜ï¼‰"><a href="#D-Captain-Flint-and-Treasureï¼ˆå­˜åœ¨é—®é¢˜ï¼‰" class="headerlink" title="D. Captain Flint and Treasureï¼ˆå­˜åœ¨é—®é¢˜ï¼‰"></a>D. Captain Flint and Treasureï¼ˆå­˜åœ¨é—®é¢˜ï¼‰</h4><p><em>Captain Fint is involved in another treasure hunt, but have found only one strange problem. The problem may be connected to the treasureâ€™s location or may not. Thatâ€™s why captain Flint decided to leave the solving the problem to his crew and offered an absurdly high reward: one day off. The problem itself sounds like thisâ€¦</em></p>
<p>There are two arrays $a$ and $b$ of length $n$. Initially, an ansans is equal to $0$ and the following operation is defined:</p>
<ol>
<li>Choose position $i$ ($1â‰¤iâ‰¤n$);</li>
<li>Add $a_i$ to $ans$;</li>
<li>If $b_iâ‰ âˆ’1$ then add $a_i$ to $a_{b_i}$.</li>
</ol>
<p>What is the maximum ansans you can get by performing the operation on each $i$ (1â‰¤iâ‰¤n1â‰¤iâ‰¤n) <em>exactly once</em>?</p>
<p>Uncle Bogdan is eager to get the reward, so he is asking your help to find the optimal order of positions to perform the operation on them.</p>
<p>Input</p>
<p>The first line contains the integer $n$ ($1â‰¤nâ‰¤2â‹…10^5$) â€” the length of arrays $a$ and $b$.</p>
<p>The second line contains $n$ integers $a_1,a_2,â€¦,a_n$ ($âˆ’10^6â‰¤a_iâ‰¤10^6$).</p>
<p>The third line contains $n$ integers $b_1,b_2,â€¦,b_n$ ($1â‰¤biâ‰¤n$ or $b_i=âˆ’1$).</p>
<p><strong>Additional constraint: itâ€™s guaranteed that for any $i$ ($1â‰¤iâ‰¤n$) the sequence $b_i,b_{b_i},b_{b{b_i}},â€¦$ is not cyclic, in other words it will always end with $âˆ’1$.</strong></p>
<p><strong>Output</strong></p>
<p>In the first line, print the maximum $ans$ you can get.</p>
<p>In the second line, print the order of operations: $n$ different integers $p_1,p_2,â€¦,p_n$ ($1â‰¤piâ‰¤n$). The $p_i$ is the position which should be chosen at the $i$-th step. If there are multiple orders, print any of them.</p>
<p><strong>Examples</strong></p>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">3</span><br><span class="line">1 2 3</span><br><span class="line">2 3 -1</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">10</span><br><span class="line">1 2 3</span><br></pre></td></tr></table></figure>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">2</span><br><span class="line">-1 100</span><br><span class="line">2 -1</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">99</span><br><span class="line">2 1</span><br></pre></td></tr></table></figure>
<p>input</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">10</span><br><span class="line">-10 -1 2 2 5 -2 -3 -4 2 -6</span><br><span class="line">-1 -1 2 2 -1 5 5 7 7 9</span><br></pre></td></tr></table></figure>
<p>output</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">-9</span><br><span class="line">3 5 6 1 9 4 10 7 8 2</span><br></pre></td></tr></table></figure>
<h5 id="æ€è·¯-3"><a href="#æ€è·¯-3" class="headerlink" title="æ€è·¯"></a>æ€è·¯</h5><p>æˆ‘ç”¨æ‹“æ‰‘æ’åºæ¥éå†æ‰€æœ‰èŠ‚ç‚¹ã€‚</p>
<p>æ‹¿æœ€åä¸€ä¸ªæµ‹è¯•æ ·ä¾‹æ¥è¯´ï¼Œå»ºå¥½å›¾åº”è¯¥æ˜¯ä¸€ä¸ªDAG</p>
<p><img src="/2020/08/05/Codeforces-Round-660-Div-2/1.png" alt></p>
<p>ä¸€ä¸ªè´Ÿæ•°çš„èŠ‚ç‚¹æŒ‡å‘çš„èŠ‚ç‚¹ä¸€å®šè¦åœ¨è¿™ä¸ªèŠ‚ç‚¹ä¹‹åæ›´æ–°ï¼Œæ¯”å¦‚10å·èŠ‚ç‚¹å¿…é¡»åœ¨9å·èŠ‚ç‚¹ä¹‹åæ›´æ–°ã€‚éœ€è¦ç­‰å¾…æ›´æ–°çš„èŠ‚ç‚¹æœ€åæ›´æ–°ä¹Ÿæ²¡é—®é¢˜ã€‚</p>
<p>æ¯æ¬¡éå†ä»å‡ºåº¦ä¸ºé›¶çš„ç‚¹å¼€å§‹dfsï¼Œè¿™æ ·è®¡ç®—çš„æ—¶å€™å°±æ˜¯ä»åº•éƒ¨ä¾æ¬¡è¿”å›ã€‚</p>
<figure class="highlight cpp"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;cstdio&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;iostream&gt;</span></span></span><br><span class="line"><span class="meta">#<span class="meta-keyword">include</span><span class="meta-string">&lt;vector&gt;</span></span></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> <span class="built_in">std</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="keyword">int</span> MAXN=<span class="number">200010</span>;</span><br><span class="line"><span class="keyword">int</span> n, A[MAXN], B[MAXN], outd[MAXN], ans;</span><br><span class="line"><span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; pathTo[MAXN], <span class="built_in">list</span>, tempV;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">dfs</span><span class="params">(<span class="keyword">int</span> x)</span></span>&#123;</span><br><span class="line">	<span class="keyword">if</span>(pathTo[x].size()==<span class="number">0</span>) <span class="keyword">return</span>; <span class="comment">//æ²¡æœ‰å­èŠ‚ç‚¹ï¼Œè¿”å›</span></span><br><span class="line">	</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;pathTo[x].size();i++)&#123;</span><br><span class="line">		dfs(pathTo[x][i]);  <span class="comment">//å…ˆæ›´æ–°å­èŠ‚ç‚¹</span></span><br><span class="line">		<span class="keyword">int</span> son=A[pathTo[x][i]];</span><br><span class="line">		<span class="keyword">if</span>(son&lt;<span class="number">0</span>)&#123;</span><br><span class="line">			tempV.push_back(pathTo[x][i]); <span class="comment">//æ˜¯ä¸ªè´Ÿæ•°ï¼Œè¦ç­‰å¾…å…¶ä»–èŠ‚ç‚¹æ›´æ–°ï¼Œæœ€åå†åŠ  </span></span><br><span class="line">		&#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			A[x]+=son;</span><br><span class="line">			ans+=son;</span><br><span class="line">			<span class="built_in">list</span>.push_back(pathTo[x][i]);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">void</span> <span class="title">print</span><span class="params">()</span></span>&#123;  <span class="comment">//æ‰“å°å›¾ï¼Œåªæ˜¯ä¸ºäº†æ£€æŸ¥</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;i&lt;&lt;<span class="string">"--&gt;"</span>;</span><br><span class="line">		<span class="keyword">for</span>(<span class="keyword">int</span> j=<span class="number">0</span>;j&lt;pathTo[i].size();j++)&#123;</span><br><span class="line">			<span class="built_in">cout</span>&lt;&lt;pathTo[i][j]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">		&#125;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="built_in">endl</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">int</span> <span class="title">main</span><span class="params">()</span></span>&#123;</span><br><span class="line">	<span class="built_in">cin</span>&gt;&gt;n;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;A[i];</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">int</span> temp;</span><br><span class="line">		<span class="built_in">cin</span>&gt;&gt;temp;</span><br><span class="line">		<span class="keyword">if</span>(temp==<span class="number">-1</span>) <span class="keyword">continue</span>;</span><br><span class="line">		pathTo[temp].push_back(i);</span><br><span class="line">		outd[i]++;<span class="comment">//ç»Ÿè®¡å‡ºåº¦</span></span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">vector</span>&lt;<span class="keyword">int</span>&gt; start;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">1</span>;i&lt;=n;i++)&#123;</span><br><span class="line">		<span class="keyword">if</span>(outd[i]==<span class="number">0</span>) &#123;  <span class="comment">//ç»Ÿè®¡èµ·ç‚¹</span></span><br><span class="line">			start.push_back(i);</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line"></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;start.size();i++)&#123;  <span class="comment">//ç¬¬ä¸€è½®æ›´æ–°</span></span><br><span class="line">		dfs(start[i]);</span><br><span class="line">		ans+=A[start[i]];</span><br><span class="line">		<span class="built_in">list</span>.push_back(start[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;tempV.size();i++)&#123;  <span class="comment">//æ›´æ–°è¦ç­‰å¾…çš„èŠ‚ç‚¹</span></span><br><span class="line">		ans+=A[tempV[i]];</span><br><span class="line">		<span class="built_in">list</span>.push_back(tempV[i]);</span><br><span class="line">	&#125;</span><br><span class="line">	</span><br><span class="line">	<span class="built_in">cout</span>&lt;&lt;ans&lt;&lt;<span class="built_in">endl</span>;  <span class="comment">//è¾“å‡º</span></span><br><span class="line">	<span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;<span class="built_in">list</span>.size();i++)&#123;</span><br><span class="line">		<span class="built_in">cout</span>&lt;&lt;<span class="built_in">list</span>[i]&lt;&lt;<span class="string">" "</span>;</span><br><span class="line">	&#125;</span><br><span class="line">	<span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/05/%E5%A6%82%E4%BD%95%E5%9C%A8hexo%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%AD%E4%BD%BF%E7%94%A8mathjax/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/05/%E5%A6%82%E4%BD%95%E5%9C%A8hexo%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%AD%E4%BD%BF%E7%94%A8mathjax/" class="post-title-link" itemprop="url">å¦‚ä½•åœ¨hexoæ¡†æ¶çš„åšå®¢ä¸­ä½¿ç”¨mathjax</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>
              

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-05 00:11:33 / ä¿®æ”¹æ—¶é—´ï¼š00:41:54" itemprop="dateCreated datePublished" datetime="2020-08-05T00:11:33+02:00">2020-08-05</time>
            </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/%E6%95%99%E7%A8%8B/" itemprop="url" rel="index"><span itemprop="name">æ•™ç¨‹</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p>Hexoæ¡†æ¶åŸç”Ÿçš„æ¸²æŸ“å¼•æ“Markedä¸æ”¯æŒMathjaxçš„æ¸²æŸ“ï¼Œä½†æ˜¯è¿™åˆæ€ä¹ˆæŒ¡å¾—ä½ä¸‡èƒ½çš„Informatikerå‘¢ï¼Ÿ</p>
          <!--noindex-->
            <div class="post-button">
              <a class="btn" href="/2020/08/05/%E5%A6%82%E4%BD%95%E5%9C%A8hexo%E6%A1%86%E6%9E%B6%E7%9A%84%E5%8D%9A%E5%AE%A2%E4%B8%AD%E4%BD%BF%E7%94%A8mathjax/#more" rel="contents">
                é˜…è¯»å…¨æ–‡ &raquo;
              </a>
            </div>
          <!--/noindex-->
        
      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  

      
  
  
  <article itemscope itemtype="http://schema.org/Article" class="post-block" lang="zh-CN">
    <link itemprop="mainEntityOfPage" href="http://yoursite.com/2020/08/04/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%A4%9A%E7%BA%BF%E7%A8%8B/">

    <span hidden itemprop="author" itemscope itemtype="http://schema.org/Person">
      <meta itemprop="image" content="/images/avatar.gif">
      <meta itemprop="name" content="Jiong Liu">
      <meta itemprop="description" content="">
    </span>

    <span hidden itemprop="publisher" itemscope itemtype="http://schema.org/Organization">
      <meta itemprop="name" content="Ljiong">
    </span>
      <header class="post-header">
        <h2 class="post-title" itemprop="name headline">
          
            <a href="/2020/08/04/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%A4%9A%E7%BA%BF%E7%A8%8B/" class="post-title-link" itemprop="url">Javaå­¦ä¹ ç¬”è®°-å¤šçº¿ç¨‹</a>
        </h2>

        <div class="post-meta">
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-calendar"></i>
              </span>
              <span class="post-meta-item-text">å‘è¡¨äº</span>

              <time title="åˆ›å»ºæ—¶é—´ï¼š2020-08-04 23:20:39" itemprop="dateCreated datePublished" datetime="2020-08-04T23:20:39+02:00">2020-08-04</time>
            </span>
              <span class="post-meta-item">
                <span class="post-meta-item-icon">
                  <i class="far fa-calendar-check"></i>
                </span>
                <span class="post-meta-item-text">æ›´æ–°äº</span>
                <time title="ä¿®æ”¹æ—¶é—´ï¼š2020-09-19 23:38:58" itemprop="dateModified" datetime="2020-09-19T23:38:58+02:00">2020-09-19</time>
              </span>
            <span class="post-meta-item">
              <span class="post-meta-item-icon">
                <i class="far fa-folder"></i>
              </span>
              <span class="post-meta-item-text">åˆ†ç±»äº</span>
                <span itemprop="about" itemscope itemtype="http://schema.org/Thing">
                  <a href="/categories/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0/" itemprop="url" rel="index"><span itemprop="name">Javaå­¦ä¹ ç¬”è®°</span></a>
                </span>
            </span>

          

        </div>
      </header>

    
    
    
    <div class="post-body" itemprop="articleBody">

      
          <p><strong>Tippï¼šä»£ç ä¸­çš„æ³¨é‡Šä¸€å®šè¦çœ‹</strong></p>
<h3 id="åŸºæœ¬æ¦‚å¿µï¼šç¨‹åº-è¿›ç¨‹-çº¿ç¨‹"><a href="#åŸºæœ¬æ¦‚å¿µï¼šç¨‹åº-è¿›ç¨‹-çº¿ç¨‹" class="headerlink" title="åŸºæœ¬æ¦‚å¿µï¼šç¨‹åº è¿›ç¨‹ çº¿ç¨‹"></a>åŸºæœ¬æ¦‚å¿µï¼šç¨‹åº è¿›ç¨‹ çº¿ç¨‹</h3><h4 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h4><ul>
<li><strong>ç¨‹åºï¼ˆprogramï¼‰</strong>æ˜¯ä¸ºå®Œæˆç‰¹å®šä»»åŠ¡ã€ç”¨æŸç§è¯­è¨€ç¼–å†™ çš„ä¸€ ç»„æŒ‡ä»¤çš„é›†åˆ ã€‚å³æŒ‡<strong>ä¸€æ®µé™æ€çš„ä»£ç </strong>ï¼Œé™æ€å¯¹è±¡ã€‚</li>
<li><strong>è¿›ç¨‹ï¼ˆprocessï¼‰</strong>æ˜¯ç¨‹åºçš„ä¸€æ¬¡æ‰§è¡Œè¿‡ç¨‹ï¼Œæˆ–æ˜¯<strong>æ­£åœ¨è¿è¡Œçš„ä¸€ä¸ªç¨‹åº</strong>ã€‚æ˜¯ä¸€ä¸ªåŠ¨æ€çš„è¿‡ç¨‹ï¼šæœ‰å®ƒè‡ªèº«çš„äº§ç”Ÿã€å­˜åœ¨å’Œæ¶ˆäº¡çš„è¿‡ç¨‹ã€‚â€”â€”ç”Ÿå‘½å‘¨æœŸ</li>
<li><ul>
<li>å¦‚è¿è¡Œä¸­çš„QQï¼Œè¿è¡Œä¸­çš„MP3æ’­æ”¾å™¨</li>
<li>ç¨‹åºæ˜¯é™æ€çš„ï¼Œè¿›ç¨‹æ˜¯åŠ¨æ€çš„</li>
<li><strong>è¿›ç¨‹ä½œä¸ºèµ„æºåˆ†é…çš„å•ä½</strong>ï¼Œç³»ç»Ÿåœ¨è¿è¡Œæ—¶ä¼šä¸ºæ¯ä¸ªè¿›ç¨‹åˆ†é…ä¸åŒçš„å†…å­˜åŒºåŸŸ</li>
</ul>
</li>
<li><strong>çº¿ç¨‹ï¼ˆthreadï¼‰</strong>è¿›ç¨‹å¯è¿›ä¸€æ­¥ç»†åŒ–ä¸ºçº¿ç¨‹ï¼Œæ˜¯ä¸€ä¸ª<strong>ç¨‹åºå†…éƒ¨çš„æ‰§è¡Œè·¯å¾„</strong>ã€‚</li>
<li><ul>
<li>è‹¥ä¸€ä¸ªè¿›ç¨‹åŒä¸€æ—¶é—´<strong>å¹¶è¡Œ</strong>æ‰§è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå°±æ˜¯æ”¯æŒå¤šçº¿ç¨‹çš„</li>
<li><strong>çº¿ç¨‹ä½œä¸ºè°ƒåº¦å’Œæ‰§è¡Œçš„å•ä½ï¼Œæ¯ä¸€ä¸ªçº¿ç¨‹æ‹¥æœ‰ç‹¬ç«‹çš„è¿è¡Œæ ˆå’Œç¨‹åºè®¡æ•°å™¨ï¼ˆpcï¼‰</strong>ï¼Œçº¿ç¨‹åˆ‡æ¢çš„å¼€é”€å°</li>
<li>ä¸€ä¸ªè¿›ç¨‹çš„å¤šä¸ªçº¿ç¨‹å…±äº«ç›¸åŒçš„å†…å­˜å•å…ƒ/å†…å­˜åœ°å€ç©ºé—´â€”&gt;å®ƒä»¬ä»åŒä¸€å †ä¸­åˆ†é…å¯¹è±¡ï¼Œå¯ä»¥è®¿é—®ç›¸åŒçš„å˜é‡å’Œå¯¹è±¡ã€‚è¿™å°±ä½¿å¾—çº¿ç¨‹é—´é€šä¿¡æ›´ç®€ä¾¿ã€é«˜æ•ˆã€‚ä½†å¤šä¸ªçº¿ç¨‹æ“ä½œå…±äº«çš„ç³»ç»Ÿèµ„æºå¯èƒ½å°±ä¼šå¸¦æ¥<strong>å®‰å…¨éšæ‚£</strong></li>
</ul>
</li>
</ul>
<h4 id="çº¿ç¨‹ä¸è¿›ç¨‹çš„å…³ç³»"><a href="#çº¿ç¨‹ä¸è¿›ç¨‹çš„å…³ç³»" class="headerlink" title="çº¿ç¨‹ä¸è¿›ç¨‹çš„å…³ç³»"></a>çº¿ç¨‹ä¸è¿›ç¨‹çš„å…³ç³»</h4><p><img src="/2020/08/04/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%A4%9A%E7%BA%BF%E7%A8%8B/è¿›ç¨‹ä¸çº¿ç¨‹.png" alt="è¿›ç¨‹ä¸çº¿ç¨‹çš„å…³ç³»"></p>
<h4 id="å•æ ¸CPUå’Œå¤šæ ¸CPUçš„ç†è§£"><a href="#å•æ ¸CPUå’Œå¤šæ ¸CPUçš„ç†è§£" class="headerlink" title="å•æ ¸CPUå’Œå¤šæ ¸CPUçš„ç†è§£"></a>å•æ ¸CPUå’Œå¤šæ ¸CPUçš„ç†è§£</h4><ul>
<li>å•æ ¸CPUï¼Œå…¶å®æ˜¯ä¸€ç§å‡çš„å¤šçº¿ç¨‹ï¼Œå› ä¸ºåœ¨ä¸€ä¸ªæ—¶é—´å•å…ƒå†…ï¼Œä¹Ÿåªèƒ½æ‰§è¡Œä¸€ä¸ªçº¿ç¨‹çš„ä»»åŠ¡ã€‚ä½†æ˜¯CPUçš„æ—¶é—´å•å…ƒç‰¹åˆ«çŸ­ï¼Œå› æ­¤æ„Ÿå—ä¸å‡ºæ¥ã€‚</li>
<li>å¤šæ ¸æ‰èƒ½æ›´å¥½å‘æŒ¥å¤šçº¿ç¨‹çš„æ•ˆç‡ã€‚</li>
<li>ä¸€ä¸ªJavaçš„åº”ç”¨ç¨‹åºjava.exeï¼Œå…¶å®è‡³å°‘æœ‰3ä¸ªçº¿ç¨‹ï¼šmain()ä¸»çº¿ç¨‹ï¼Œgc()åƒåœ¾å›æ”¶çº¿ç¨‹ï¼Œå¼‚å¸¸å¤„ç†çº¿ç¨‹ã€‚å¦‚æœå‘ç”Ÿå¼‚å¸¸å›å½±å“åˆ°main()ä¸»çº¿ç¨‹ã€‚</li>
</ul>
<h4 id="å¹¶è¡Œä¸å¹¶å‘"><a href="#å¹¶è¡Œä¸å¹¶å‘" class="headerlink" title="å¹¶è¡Œä¸å¹¶å‘"></a>å¹¶è¡Œä¸å¹¶å‘</h4><ul>
<li>å¹¶è¡Œï¼šå¤šä¸ªCPUåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚</li>
<li>å¹¶å‘ï¼šä¸€ä¸ªCPUï¼ˆé‡‡ç”¨æ—¶é—´ç‰‡ï¼‰åŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚</li>
</ul>
<h4 id="ä½•æ—¶éœ€è¦å¤šçº¿ç¨‹"><a href="#ä½•æ—¶éœ€è¦å¤šçº¿ç¨‹" class="headerlink" title="ä½•æ—¶éœ€è¦å¤šçº¿ç¨‹"></a>ä½•æ—¶éœ€è¦å¤šçº¿ç¨‹</h4><ul>
<li>ç¨‹åºéœ€è¦åŒæ—¶æ‰§è¡Œä¸¤ä¸ªæˆ–è€…å¤šä¸ªä»»åŠ¡ã€‚</li>
<li>ç¨‹åºéœ€è¦å®ç°ä¸€äº›éœ€è¦ç­‰å¾…çš„ä»»åŠ¡ï¼Œå¦‚ç”¨æˆ·è¾“å…¥ã€æ–‡ä»¶è¯»å†™æ“ä½œã€ç½‘ç»œæ“ä½œã€æœç´¢ç­‰ã€‚</li>
<li>éœ€è¦ä¸€äº›åå°è¿è¡Œçš„ç¨‹åºã€‚</li>
</ul>
<h3 id="çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨ï¼ˆé‡ç‚¹ï¼‰"><a href="#çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨ï¼ˆé‡ç‚¹ï¼‰" class="headerlink" title="çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨ï¼ˆé‡ç‚¹ï¼‰"></a>çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨ï¼ˆé‡ç‚¹ï¼‰</h3><p>Javaè¯­è¨€çš„JVMå…è®¸ç¨‹åºè¿è¡Œå¤šä¸ªçº¿ç¨‹ï¼Œå®ƒé€šè¿‡java.lang.Threadç±»æ¥å®ç°ã€‚</p>
<p>Threadç±»çš„ç‰¹æ€§ï¼š</p>
<ul>
<li>æ¯ä¸ªçº¿ç¨‹éƒ½æ˜¯é€šè¿‡æŸä¸ªç‰¹å®šThreadå¯¹è±¡çš„run()æ–¹æ³•æ¥å®Œæˆæ“ä½œçš„ï¼Œç»å¸¸æŠŠurn()æ–¹æ³•çš„ä¸»é¢˜ç§°ä¸º<strong>çº¿ç¨‹ä½“</strong>ã€‚</li>
<li>é€šè¿‡è¯¥Threadå¯¹è±¡çš„start()æ–¹æ³•æ¥å¯åŠ¨è¿™ä¸ªçº¿ç¨‹ï¼Œè€Œéç›´æ¥è°ƒç”¨run()ã€‚</li>
</ul>
<h4 id="å¤šçº¿ç¨‹çš„åˆ›å»ºæ–¹å¼"><a href="#å¤šçº¿ç¨‹çš„åˆ›å»ºæ–¹å¼" class="headerlink" title="å¤šçº¿ç¨‹çš„åˆ›å»ºæ–¹å¼"></a>å¤šçº¿ç¨‹çš„åˆ›å»ºæ–¹å¼</h4><h5 id="æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»"><a href="#æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»" class="headerlink" title="æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»"></a>æ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»</h5><p>1ã€åˆ›å»ºä¸€ä¸ªç»§æ‰¿Threadç±»çš„å­ç±»</p>
<p>2ã€é‡å†™Threadç±»çš„run()æ–¹æ³•</p>
<p>3ã€åˆ›å»ºThreadç±»çš„å­ç±»çš„å¯¹è±¡</p>
<p>4ã€é€šè¿‡æ­¤å¯¹è±¡è°ƒç”¨start()</p>
<p>ä¸‹é¢é€šè¿‡ä¸€ä¸ªä¾‹å­æ¥æ¼”ç¤ºæ–¹å¼ä¸€ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ThreadTest;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤šçº¿ç¨‹åˆ›å»ºæ–¹å¼ä¸€ï¼šç»§æ‰¿Threadç±»</span></span><br><span class="line"><span class="comment"> * 1. åˆ›å»ºä¸€ä¸ªç»§æ‰¿äºThreadç±»çš„å­ç±»</span></span><br><span class="line"><span class="comment"> * 2. é‡å†™run()æ–¹æ³• --&gt;å°†æ­¤çº¿ç¨‹æ‰§è¡Œçš„æ“ä½œå£°æ˜åœ¨run()ä¸­</span></span><br><span class="line"><span class="comment"> * 3. åˆ›å»ºå­ç±»çš„å¯¹è±¡</span></span><br><span class="line"><span class="comment"> * 4. é€šè¿‡æ­¤å¯¹è±¡è°ƒç”¨start()</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ä¾‹å­ï¼šéå†100ä»¥å†…æ‰€æœ‰çš„å¶æ•°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadCreate1</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//3.åˆ›å»ºå­ç±»çš„å¯¹è±¡</span></span><br><span class="line">        MyThread myThread1 = <span class="keyword">new</span> MyThread();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//4.é€šè¿‡æ­¤å¯¹è±¡è°ƒç”¨start()</span></span><br><span class="line">        <span class="comment">//ä½œç”¨</span></span><br><span class="line">        <span class="comment">//1.å¯åŠ¨å½“å‰çº¿ç¨‹</span></span><br><span class="line">        <span class="comment">//2.JVMè°ƒç”¨run()æ–¹æ³•</span></span><br><span class="line">        myThread1.start();</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//é—®é¢˜ä¸€ï¼šä¸èƒ½é€šè¿‡è°ƒç”¨run()æ–¹æ³•å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">        <span class="comment">//myThread.run();</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//é—®é¢˜äºŒï¼šå†å¯åŠ¨ä¸€ä¸ªçº¿ç¨‹ï¼Œéå†100ä»¥å†…å¶æ•°ä¸å¯ä»¥è®©å·²ç»start()çš„çº¿ç¨‹å»æ‰§è¡Œã€‚</span></span><br><span class="line">        <span class="comment">//myThread.start();</span></span><br><span class="line">        <span class="comment">//æ­£ç¡®æ–¹å¼</span></span><br><span class="line">        MyThread myThread2 = <span class="keyword">new</span> MyThread();</span><br><span class="line">        myThread2.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä»¥ä¸‹å¾ªç¯ä»ç„¶åœ¨mainçº¿ç¨‹ä¸­è¿è¡Œ</span></span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//if(i % 2 == 1) System.out.println("main-&gt;"+i);</span></span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>) System.out.println(Thread.currentThread().getName()+<span class="string">" : "</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1. åˆ›å»ºä¸€ä¸ªç»§æ‰¿äºThreadç±»çš„å­ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line">    <span class="comment">//2. é‡å†™run()æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//if(i % 2 == 0) System.out.println("myThread-&gt;"+i);</span></span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span>) System.out.println(Thread.currentThread().getName()+<span class="string">" : "</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br></pre></td><td class="code"><pre><span class="line">Thread-3 : 0</span><br><span class="line">main : 0</span><br><span class="line">Thread-3 : 2</span><br><span class="line">Thread-4 : 0</span><br><span class="line">Thread-3 : 4</span><br><span class="line">main : 2</span><br><span class="line">Thread-4 : 2</span><br><span class="line">main : 4</span><br><span class="line">Thread-3 : 6</span><br><span class="line">Thread-4 : 4</span><br><span class="line">Thread-3 : 8</span><br><span class="line">main : 6</span><br><span class="line">Thread-3 : 10</span><br><span class="line">main : 8</span><br><span class="line">Thread-4 : 6</span><br><span class="line">Thread-3 : 12</span><br><span class="line">main : 10</span><br><span class="line">Thread-3 : 14</span><br><span class="line">Thread-4 : 8</span><br><span class="line">Thread-3 : 16</span><br><span class="line">main : 12</span><br><span class="line">Thread-3 : 18</span><br><span class="line">Thread-4 : 10</span><br><span class="line">Thread-3 : 20</span><br><span class="line">main : 14</span><br><span class="line">Thread-4 : 12</span><br><span class="line">Thread-3 : 22</span><br><span class="line">main : 16</span><br><span class="line">Thread-3 : 24</span><br><span class="line">Thread-4 : 14</span><br><span class="line">Thread-3 : 26</span><br><span class="line">Thread-3 : 28</span><br><span class="line">Thread-4 : 16</span><br><span class="line">Thread-3 : 30</span><br><span class="line">main : 18</span><br><span class="line">Thread-4 : 18</span><br><span class="line">Thread-3 : 32</span><br><span class="line">main : 20</span><br><span class="line">Thread-3 : 34</span><br><span class="line">main : 22</span><br><span class="line">Thread-4 : 20</span><br><span class="line">Thread-3 : 36</span><br><span class="line">main : 24</span><br><span class="line">Thread-4 : 22</span><br><span class="line">Thread-3 : 38</span><br><span class="line">main : 26</span><br><span class="line">Thread-4 : 24</span><br><span class="line">Thread-3 : 40</span><br><span class="line">main : 28</span><br><span class="line">Thread-4 : 26</span><br><span class="line">main : 30</span><br><span class="line">Thread-4 : 28</span><br><span class="line">main : 32</span><br><span class="line">Thread-3 : 42</span><br><span class="line">Thread-4 : 30</span><br><span class="line">main : 34</span><br><span class="line">Thread-3 : 44</span><br><span class="line">main : 36</span><br><span class="line">Thread-4 : 32</span><br><span class="line">Thread-3 : 46</span><br><span class="line">Thread-4 : 34</span><br><span class="line">main : 38</span><br><span class="line">Thread-3 : 48</span><br><span class="line">main : 40</span><br><span class="line">Thread-4 : 36</span><br><span class="line">Thread-3 : 50</span><br><span class="line">main : 42</span><br><span class="line">Thread-4 : 38</span><br><span class="line">Thread-3 : 52</span><br><span class="line">main : 44</span><br><span class="line">Thread-4 : 40</span><br><span class="line">main : 46</span><br><span class="line">Thread-4 : 42</span><br><span class="line">Thread-3 : 54</span><br><span class="line">Thread-4 : 44</span><br><span class="line">main : 48</span><br><span class="line">Thread-4 : 46</span><br><span class="line">main : 50</span><br><span class="line">Thread-4 : 48</span><br><span class="line">main : 52</span><br><span class="line">Thread-3 : 56</span><br><span class="line">Thread-4 : 50</span><br><span class="line">main : 54</span><br><span class="line">Thread-3 : 58</span><br><span class="line">main : 56</span><br><span class="line">Thread-4 : 52</span><br><span class="line">main : 58</span><br><span class="line">Thread-4 : 54</span><br><span class="line">main : 60</span><br><span class="line">Thread-3 : 60</span><br><span class="line">main : 62</span><br><span class="line">Thread-4 : 56</span><br><span class="line">Thread-3 : 62</span><br><span class="line">main : 64</span><br><span class="line">Thread-3 : 64</span><br><span class="line">main : 66</span><br><span class="line">Thread-4 : 58</span><br><span class="line">main : 68</span><br><span class="line">Thread-3 : 66</span><br><span class="line">Thread-4 : 60</span><br><span class="line">Thread-3 : 68</span><br><span class="line">main : 70</span><br><span class="line">Thread-4 : 62</span><br><span class="line">main : 72</span><br><span class="line">Thread-3 : 70</span><br><span class="line">main : 74</span><br><span class="line">Thread-4 : 64</span><br><span class="line">Thread-3 : 72</span><br><span class="line">main : 76</span><br><span class="line">Thread-3 : 74</span><br><span class="line">Thread-4 : 66</span><br><span class="line">main : 78</span><br><span class="line">Thread-3 : 76</span><br><span class="line">Thread-4 : 68</span><br><span class="line">Thread-3 : 78</span><br><span class="line">main : 80</span><br><span class="line">Thread-4 : 70</span><br><span class="line">main : 82</span><br><span class="line">Thread-3 : 80</span><br><span class="line">main : 84</span><br><span class="line">Thread-4 : 72</span><br><span class="line">main : 86</span><br><span class="line">Thread-3 : 82</span><br><span class="line">main : 88</span><br><span class="line">Thread-3 : 84</span><br><span class="line">main : 90</span><br><span class="line">Thread-4 : 74</span><br><span class="line">main : 92</span><br><span class="line">Thread-4 : 76</span><br><span class="line">main : 94</span><br><span class="line">Thread-4 : 78</span><br><span class="line">Thread-3 : 86</span><br><span class="line">main : 96</span><br><span class="line">Thread-3 : 88</span><br><span class="line">Thread-4 : 80</span><br><span class="line">Thread-3 : 90</span><br><span class="line">Thread-4 : 82</span><br><span class="line">Thread-3 : 92</span><br><span class="line">Thread-4 : 84</span><br><span class="line">Thread-3 : 94</span><br><span class="line">Thread-4 : 86</span><br><span class="line">main : 98</span><br><span class="line">Thread-3 : 96</span><br><span class="line">Thread-4 : 88</span><br><span class="line">Thread-3 : 98</span><br><span class="line">main : 100</span><br><span class="line">Thread-3 : 100</span><br><span class="line">Thread-4 : 90</span><br><span class="line">Thread-4 : 92</span><br><span class="line">Thread-4 : 94</span><br><span class="line">Thread-4 : 96</span><br><span class="line">Thread-4 : 98</span><br><span class="line">Thread-4 : 100</span><br></pre></td></tr></table></figure>
<p>å¯è§ä¸»çº¿ç¨‹å’Œä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿æ‰§è¡Œï¼Œå¤šçº¿ç¨‹åˆ›å»ºæˆåŠŸã€‚</p>
<p><strong>å…¶ä½™ä¸€äº›æ³¨æ„äº‹é¡¹æŸ¥çœ‹æ³¨é‡Šï¼Œä»¥åä¸å†èµ˜è¿°ã€‚</strong></p>
<h5 id="æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£"><a href="#æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£" class="headerlink" title="æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£"></a>æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£</h5><ol>
<li>åˆ›å»ºä¸€ä¸ªå®ç°Runnableæ¥å£çš„ç±»</li>
<li>å®ç°ç±»å»å®ç°Runnableçš„æŠ½è±¡æ–¹æ³•ï¼šrun()</li>
<li>åˆ›å»ºå®ç°ç±»çš„å¯¹è±¡</li>
<li>å°†æ­¤å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’åˆ°Threadç±»çš„æ„é€ å™¨ä¸­ï¼Œåˆ›å»ºThreadç±»å¯¹è±¡</li>
<li>é€šè¿‡Threadç±»å¯¹è±¡è°ƒç”¨start()</li>
</ol>
<p>æ¼”ç¤ºä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ThreadTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadCreate2</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//3.åˆ›å»ºå®ç°ç±»çš„å¯¹è±¡</span></span><br><span class="line">        MyThread5 m=<span class="keyword">new</span> MyThread5();</span><br><span class="line">        <span class="comment">//4.å°†æ­¤å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’åˆ°Threadç±»çš„æ„é€ å™¨ä¸­ï¼Œåˆ›å»ºThreadç±»å¯¹è±¡</span></span><br><span class="line">        Thread thread = <span class="keyword">new</span> Thread(m);</span><br><span class="line">        <span class="comment">//5.é€šè¿‡Threadç±»å¯¹è±¡è°ƒç”¨start()</span></span><br><span class="line">        <span class="comment">//ä½œç”¨</span></span><br><span class="line">        <span class="comment">//1.å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">        <span class="comment">//2.è°ƒç”¨å½“å‰çº¿ç¨‹çš„run()--&gt;è°ƒç”¨äº†Runnableç±»å‹çš„targetçš„run()</span></span><br><span class="line">        thread.start();</span><br><span class="line">        </span><br><span class="line">        Thread thread2 = <span class="keyword">new</span> Thread(m);</span><br><span class="line">        <span class="comment">//è¢«å…è®¸ï¼Œå› ä¸ºæ–°å»ºäº†ä¸€ä¸ªçº¿ç¨‹ï¼Œåªæ˜¯å…±ç”¨äº†ä¸€ä»½èµ„æº</span></span><br><span class="line">        thread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.åˆ›å»ºä¸€ä¸ªå®ç°Runnableæ¥å£çš„ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread5</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//2.å®ç°ç±»å»å®ç°Runnableçš„æŠ½è±¡æ–¹æ³•ï¼šrun()</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">2</span> == <span class="number">0</span> ) System.out.println(i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h5 id="ä¸¤ç§çº¿ç¨‹åˆ›å»ºæ–¹å¼çš„æ¯”è¾ƒçš„ç»“è®º"><a href="#ä¸¤ç§çº¿ç¨‹åˆ›å»ºæ–¹å¼çš„æ¯”è¾ƒçš„ç»“è®º" class="headerlink" title="ä¸¤ç§çº¿ç¨‹åˆ›å»ºæ–¹å¼çš„æ¯”è¾ƒçš„ç»“è®º"></a>ä¸¤ç§çº¿ç¨‹åˆ›å»ºæ–¹å¼çš„æ¯”è¾ƒçš„ç»“è®º</h5><p>å¼€å‘ä¸­ï¼šä¼˜å…ˆé€‰æ‹©å®ç°Runnableæ¥å£çš„æ–¹å¼</p>
<p>åŸå› ï¼š</p>
<ol>
<li>å®ç°æ–¹å¼æ²¡æœ‰ç±»çš„å•ç»§æ‰¿çš„å±€é™æ€§</li>
<li>å®ç°çš„æ–¹å¼æ›´é€‚åˆå¤„ç†å¤šä¸ªçº¿ç¨‹æœ‰å…±äº«æ•°æ®çš„æƒ…å†µ</li>
</ol>
<p>è”ç³»ï¼š</p>
<ol>
<li><p>Threadç±»æœ¬èº«ä¹Ÿå®ç°äº†Runnableæ¥å£</p>
</li>
<li><p>ä¸¤ç§æ–¹å¼éƒ½éœ€è¦é‡å†™run()ï¼Œå°†çº¿ç¨‹è¦æ‰§è¡Œçš„é€»è¾‘å£°æ˜å†run()ä¸­ã€‚</p>
</li>
</ol>
<h4 id="Threadç±»çš„å¸¸ç”¨æ–¹æ³•"><a href="#Threadç±»çš„å¸¸ç”¨æ–¹æ³•" class="headerlink" title="Threadç±»çš„å¸¸ç”¨æ–¹æ³•"></a>Threadç±»çš„å¸¸ç”¨æ–¹æ³•</h4><ol>
<li><p>void start()ï¼šå¯åŠ¨å½“å‰çº¿ç¨‹ JVMè°ƒç”¨å½“å‰çº¿ç¨‹çš„run()æ–¹æ³•</p>
</li>
<li><p>void run()ï¼šé€šå¸¸éœ€è¦é‡å†™Threadç±»ä¸­çš„æ­¤æ–¹æ³•ï¼Œå°†åˆ›å»ºçš„çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„æ“ä½œå£°æ˜åœ¨æ­¤æ–¹æ³•ä¸­</p>
</li>
<li><p>static Thread currentThread()ï¼šé™æ€æ–¹æ³• è¿”å›å½“å‰ä»£ç æ‰§è¡Œçš„çº¿ç¨‹å¯¹è±¡</p>
</li>
<li><p>String getName()ï¼šè·å–å½“å‰çº¿ç¨‹åå­—</p>
</li>
<li><p>void setName()ï¼šè®¾ç½®å½“å‰çº¿ç¨‹åå­—</p>
</li>
<li><p>static void yield()ï¼šé‡Šæ”¾å½“å‰cpuçš„æ‰§è¡Œæƒ</p>
</li>
<li><p>void join()ï¼šåœ¨çº¿ç¨‹aä¸­è°ƒç”¨çº¿ç¨‹b.join()ï¼Œæ­¤æ—¶çº¿ç¨‹aè¿›å…¥é˜»å¡çŠ¶æ€ï¼Œç›´åˆ°çº¿ç¨‹bå®Œå…¨æ‰§è¡Œå®Œæ¯•</p>
</li>
<li><p>static void stop()ï¼šå·²è¿‡æ—¶ã€‚å½“æ‰§è¡Œæ­¤æ–¹æ³•æ—¶ï¼Œå¼ºåˆ¶ç»“æŸå½“å‰çº¿ç¨‹</p>
</li>
<li><p>void sleep(long ms)ï¼šè®©å½“å‰çº¿ç¨‹é˜»å¡msæ¯«ç§’</p>
</li>
<li><p>boolean isAlive()ï¼šåˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯å¦å­˜æ´»</p>
</li>
</ol>
<p>æµ‹è¯•ä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ThreadTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">ThreadMethodTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        MyThread3 m1=<span class="keyword">new</span> MyThread3(<span class="string">"æˆ‘çš„Thread01"</span>);</span><br><span class="line">        <span class="comment">//m1.setName("çº¿ç¨‹ä¸€");</span></span><br><span class="line">        m1.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç»™ä¸»çº¿ç¨‹å‘½å</span></span><br><span class="line">        Thread.currentThread().setName(<span class="string">"ä¸»çº¿ç¨‹"</span>);</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">" : "</span>+i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(i == <span class="number">20</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    m1.join();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(m1.isAlive());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">MyThread3</span> <span class="keyword">extends</span> <span class="title">Thread</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">MyThread3</span><span class="params">(String name)</span> </span>&#123;</span><br><span class="line">        <span class="keyword">super</span>(name);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="keyword">int</span> i = <span class="number">0</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">" : "</span>+i);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span>(i % <span class="number">20</span> == <span class="number">0</span>) yield();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘çš„è¾“å‡ºå¦‚ä¸‹ï¼š</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br></pre></td><td class="code"><pre><span class="line">ä¸»çº¿ç¨‹ : 0</span><br><span class="line">ä¸»çº¿ç¨‹ : 1</span><br><span class="line">ä¸»çº¿ç¨‹ : 2</span><br><span class="line">ä¸»çº¿ç¨‹ : 3</span><br><span class="line">ä¸»çº¿ç¨‹ : 4</span><br><span class="line">ä¸»çº¿ç¨‹ : 5</span><br><span class="line">ä¸»çº¿ç¨‹ : 6</span><br><span class="line">ä¸»çº¿ç¨‹ : 7</span><br><span class="line">ä¸»çº¿ç¨‹ : 8</span><br><span class="line">ä¸»çº¿ç¨‹ : 9</span><br><span class="line">ä¸»çº¿ç¨‹ : 10</span><br><span class="line">ä¸»çº¿ç¨‹ : 11</span><br><span class="line">ä¸»çº¿ç¨‹ : 12</span><br><span class="line">ä¸»çº¿ç¨‹ : 13</span><br><span class="line">ä¸»çº¿ç¨‹ : 14</span><br><span class="line">ä¸»çº¿ç¨‹ : 15</span><br><span class="line">ä¸»çº¿ç¨‹ : 16</span><br><span class="line">ä¸»çº¿ç¨‹ : 17</span><br><span class="line">ä¸»çº¿ç¨‹ : 18</span><br><span class="line">ä¸»çº¿ç¨‹ : 19</span><br><span class="line">ä¸»çº¿ç¨‹ : 20</span><br><span class="line">æˆ‘çš„Thread01 : 0</span><br><span class="line">æˆ‘çš„Thread01 : 1</span><br><span class="line">æˆ‘çš„Thread01 : 2</span><br><span class="line">æˆ‘çš„Thread01 : 3</span><br><span class="line">æˆ‘çš„Thread01 : 4</span><br><span class="line">æˆ‘çš„Thread01 : 5</span><br><span class="line">æˆ‘çš„Thread01 : 6</span><br><span class="line">æˆ‘çš„Thread01 : 7</span><br><span class="line">æˆ‘çš„Thread01 : 8</span><br><span class="line">æˆ‘çš„Thread01 : 9</span><br><span class="line">æˆ‘çš„Thread01 : 10</span><br><span class="line">æˆ‘çš„Thread01 : 11</span><br><span class="line">æˆ‘çš„Thread01 : 12</span><br><span class="line">æˆ‘çš„Thread01 : 13</span><br><span class="line">æˆ‘çš„Thread01 : 14</span><br><span class="line">æˆ‘çš„Thread01 : 15</span><br><span class="line">æˆ‘çš„Thread01 : 16</span><br><span class="line">æˆ‘çš„Thread01 : 17</span><br><span class="line">æˆ‘çš„Thread01 : 18</span><br><span class="line">æˆ‘çš„Thread01 : 19</span><br><span class="line">æˆ‘çš„Thread01 : 20</span><br><span class="line">æˆ‘çš„Thread01 : 21</span><br><span class="line">æˆ‘çš„Thread01 : 22</span><br><span class="line">æˆ‘çš„Thread01 : 23</span><br><span class="line">æˆ‘çš„Thread01 : 24</span><br><span class="line">æˆ‘çš„Thread01 : 25</span><br><span class="line">æˆ‘çš„Thread01 : 26</span><br><span class="line">æˆ‘çš„Thread01 : 27</span><br><span class="line">æˆ‘çš„Thread01 : 28</span><br><span class="line">æˆ‘çš„Thread01 : 29</span><br><span class="line">æˆ‘çš„Thread01 : 30</span><br><span class="line">æˆ‘çš„Thread01 : 31</span><br><span class="line">æˆ‘çš„Thread01 : 32</span><br><span class="line">æˆ‘çš„Thread01 : 33</span><br><span class="line">æˆ‘çš„Thread01 : 34</span><br><span class="line">æˆ‘çš„Thread01 : 35</span><br><span class="line">æˆ‘çš„Thread01 : 36</span><br><span class="line">æˆ‘çš„Thread01 : 37</span><br><span class="line">æˆ‘çš„Thread01 : 38</span><br><span class="line">æˆ‘çš„Thread01 : 39</span><br><span class="line">æˆ‘çš„Thread01 : 40</span><br><span class="line">æˆ‘çš„Thread01 : 41</span><br><span class="line">æˆ‘çš„Thread01 : 42</span><br><span class="line">æˆ‘çš„Thread01 : 43</span><br><span class="line">æˆ‘çš„Thread01 : 44</span><br><span class="line">æˆ‘çš„Thread01 : 45</span><br><span class="line">æˆ‘çš„Thread01 : 46</span><br><span class="line">æˆ‘çš„Thread01 : 47</span><br><span class="line">æˆ‘çš„Thread01 : 48</span><br><span class="line">æˆ‘çš„Thread01 : 49</span><br><span class="line">æˆ‘çš„Thread01 : 50</span><br><span class="line">æˆ‘çš„Thread01 : 51</span><br><span class="line">æˆ‘çš„Thread01 : 52</span><br><span class="line">æˆ‘çš„Thread01 : 53</span><br><span class="line">æˆ‘çš„Thread01 : 54</span><br><span class="line">æˆ‘çš„Thread01 : 55</span><br><span class="line">æˆ‘çš„Thread01 : 56</span><br><span class="line">æˆ‘çš„Thread01 : 57</span><br><span class="line">æˆ‘çš„Thread01 : 58</span><br><span class="line">æˆ‘çš„Thread01 : 59</span><br><span class="line">æˆ‘çš„Thread01 : 60</span><br><span class="line">æˆ‘çš„Thread01 : 61</span><br><span class="line">æˆ‘çš„Thread01 : 62</span><br><span class="line">æˆ‘çš„Thread01 : 63</span><br><span class="line">æˆ‘çš„Thread01 : 64</span><br><span class="line">æˆ‘çš„Thread01 : 65</span><br><span class="line">æˆ‘çš„Thread01 : 66</span><br><span class="line">æˆ‘çš„Thread01 : 67</span><br><span class="line">æˆ‘çš„Thread01 : 68</span><br><span class="line">æˆ‘çš„Thread01 : 69</span><br><span class="line">æˆ‘çš„Thread01 : 70</span><br><span class="line">æˆ‘çš„Thread01 : 71</span><br><span class="line">æˆ‘çš„Thread01 : 72</span><br><span class="line">æˆ‘çš„Thread01 : 73</span><br><span class="line">æˆ‘çš„Thread01 : 74</span><br><span class="line">æˆ‘çš„Thread01 : 75</span><br><span class="line">æˆ‘çš„Thread01 : 76</span><br><span class="line">æˆ‘çš„Thread01 : 77</span><br><span class="line">æˆ‘çš„Thread01 : 78</span><br><span class="line">æˆ‘çš„Thread01 : 79</span><br><span class="line">æˆ‘çš„Thread01 : 80</span><br><span class="line">æˆ‘çš„Thread01 : 81</span><br><span class="line">æˆ‘çš„Thread01 : 82</span><br><span class="line">æˆ‘çš„Thread01 : 83</span><br><span class="line">æˆ‘çš„Thread01 : 84</span><br><span class="line">æˆ‘çš„Thread01 : 85</span><br><span class="line">æˆ‘çš„Thread01 : 86</span><br><span class="line">æˆ‘çš„Thread01 : 87</span><br><span class="line">æˆ‘çš„Thread01 : 88</span><br><span class="line">æˆ‘çš„Thread01 : 89</span><br><span class="line">æˆ‘çš„Thread01 : 90</span><br><span class="line">æˆ‘çš„Thread01 : 91</span><br><span class="line">æˆ‘çš„Thread01 : 92</span><br><span class="line">æˆ‘çš„Thread01 : 93</span><br><span class="line">æˆ‘çš„Thread01 : 94</span><br><span class="line">æˆ‘çš„Thread01 : 95</span><br><span class="line">æˆ‘çš„Thread01 : 96</span><br><span class="line">æˆ‘çš„Thread01 : 97</span><br><span class="line">æˆ‘çš„Thread01 : 98</span><br><span class="line">æˆ‘çš„Thread01 : 99</span><br><span class="line">æˆ‘çš„Thread01 : 100</span><br><span class="line">ä¸»çº¿ç¨‹ : 21</span><br><span class="line">ä¸»çº¿ç¨‹ : 22</span><br><span class="line">ä¸»çº¿ç¨‹ : 23</span><br><span class="line">ä¸»çº¿ç¨‹ : 24</span><br><span class="line">ä¸»çº¿ç¨‹ : 25</span><br><span class="line">ä¸»çº¿ç¨‹ : 26</span><br><span class="line">ä¸»çº¿ç¨‹ : 27</span><br><span class="line">ä¸»çº¿ç¨‹ : 28</span><br><span class="line">ä¸»çº¿ç¨‹ : 29</span><br><span class="line">ä¸»çº¿ç¨‹ : 30</span><br><span class="line">ä¸»çº¿ç¨‹ : 31</span><br><span class="line">ä¸»çº¿ç¨‹ : 32</span><br><span class="line">ä¸»çº¿ç¨‹ : 33</span><br><span class="line">ä¸»çº¿ç¨‹ : 34</span><br><span class="line">ä¸»çº¿ç¨‹ : 35</span><br><span class="line">ä¸»çº¿ç¨‹ : 36</span><br><span class="line">ä¸»çº¿ç¨‹ : 37</span><br><span class="line">ä¸»çº¿ç¨‹ : 38</span><br><span class="line">ä¸»çº¿ç¨‹ : 39</span><br><span class="line">ä¸»çº¿ç¨‹ : 40</span><br><span class="line">ä¸»çº¿ç¨‹ : 41</span><br><span class="line">ä¸»çº¿ç¨‹ : 42</span><br><span class="line">ä¸»çº¿ç¨‹ : 43</span><br><span class="line">ä¸»çº¿ç¨‹ : 44</span><br><span class="line">ä¸»çº¿ç¨‹ : 45</span><br><span class="line">ä¸»çº¿ç¨‹ : 46</span><br><span class="line">ä¸»çº¿ç¨‹ : 47</span><br><span class="line">ä¸»çº¿ç¨‹ : 48</span><br><span class="line">ä¸»çº¿ç¨‹ : 49</span><br><span class="line">ä¸»çº¿ç¨‹ : 50</span><br><span class="line">ä¸»çº¿ç¨‹ : 51</span><br><span class="line">ä¸»çº¿ç¨‹ : 52</span><br><span class="line">ä¸»çº¿ç¨‹ : 53</span><br><span class="line">ä¸»çº¿ç¨‹ : 54</span><br><span class="line">ä¸»çº¿ç¨‹ : 55</span><br><span class="line">ä¸»çº¿ç¨‹ : 56</span><br><span class="line">ä¸»çº¿ç¨‹ : 57</span><br><span class="line">ä¸»çº¿ç¨‹ : 58</span><br><span class="line">ä¸»çº¿ç¨‹ : 59</span><br><span class="line">ä¸»çº¿ç¨‹ : 60</span><br><span class="line">ä¸»çº¿ç¨‹ : 61</span><br><span class="line">ä¸»çº¿ç¨‹ : 62</span><br><span class="line">ä¸»çº¿ç¨‹ : 63</span><br><span class="line">ä¸»çº¿ç¨‹ : 64</span><br><span class="line">ä¸»çº¿ç¨‹ : 65</span><br><span class="line">ä¸»çº¿ç¨‹ : 66</span><br><span class="line">ä¸»çº¿ç¨‹ : 67</span><br><span class="line">ä¸»çº¿ç¨‹ : 68</span><br><span class="line">ä¸»çº¿ç¨‹ : 69</span><br><span class="line">ä¸»çº¿ç¨‹ : 70</span><br><span class="line">ä¸»çº¿ç¨‹ : 71</span><br><span class="line">ä¸»çº¿ç¨‹ : 72</span><br><span class="line">ä¸»çº¿ç¨‹ : 73</span><br><span class="line">ä¸»çº¿ç¨‹ : 74</span><br><span class="line">ä¸»çº¿ç¨‹ : 75</span><br><span class="line">ä¸»çº¿ç¨‹ : 76</span><br><span class="line">ä¸»çº¿ç¨‹ : 77</span><br><span class="line">ä¸»çº¿ç¨‹ : 78</span><br><span class="line">ä¸»çº¿ç¨‹ : 79</span><br><span class="line">ä¸»çº¿ç¨‹ : 80</span><br><span class="line">ä¸»çº¿ç¨‹ : 81</span><br><span class="line">ä¸»çº¿ç¨‹ : 82</span><br><span class="line">ä¸»çº¿ç¨‹ : 83</span><br><span class="line">ä¸»çº¿ç¨‹ : 84</span><br><span class="line">ä¸»çº¿ç¨‹ : 85</span><br><span class="line">ä¸»çº¿ç¨‹ : 86</span><br><span class="line">ä¸»çº¿ç¨‹ : 87</span><br><span class="line">ä¸»çº¿ç¨‹ : 88</span><br><span class="line">ä¸»çº¿ç¨‹ : 89</span><br><span class="line">ä¸»çº¿ç¨‹ : 90</span><br><span class="line">ä¸»çº¿ç¨‹ : 91</span><br><span class="line">ä¸»çº¿ç¨‹ : 92</span><br><span class="line">ä¸»çº¿ç¨‹ : 93</span><br><span class="line">ä¸»çº¿ç¨‹ : 94</span><br><span class="line">ä¸»çº¿ç¨‹ : 95</span><br><span class="line">ä¸»çº¿ç¨‹ : 96</span><br><span class="line">ä¸»çº¿ç¨‹ : 97</span><br><span class="line">ä¸»çº¿ç¨‹ : 98</span><br><span class="line">ä¸»çº¿ç¨‹ : 99</span><br><span class="line">ä¸»çº¿ç¨‹ : 100</span><br><span class="line">false</span><br></pre></td></tr></table></figure>
<h4 id="çº¿ç¨‹çš„è°ƒåº¦"><a href="#çº¿ç¨‹çš„è°ƒåº¦" class="headerlink" title="çº¿ç¨‹çš„è°ƒåº¦"></a>çº¿ç¨‹çš„è°ƒåº¦</h4><h5 id="è°ƒåº¦ç­–ç•¥"><a href="#è°ƒåº¦ç­–ç•¥" class="headerlink" title="è°ƒåº¦ç­–ç•¥"></a>è°ƒåº¦ç­–ç•¥</h5><p><strong>1.æ—¶é—´ç‰‡</strong></p>
<p><img src="/2020/08/04/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%A4%9A%E7%BA%BF%E7%A8%8B/æ—¶é—´ç‰‡.png" alt="æ—¶é—´ç‰‡"></p>
<p><strong>2.æŠ¢å å¼ï¼šé«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹æŠ¢å CPU</strong></p>
<h5 id="Javaçš„è°ƒåº¦æ–¹æ³•"><a href="#Javaçš„è°ƒåº¦æ–¹æ³•" class="headerlink" title="Javaçš„è°ƒåº¦æ–¹æ³•"></a>Javaçš„è°ƒåº¦æ–¹æ³•</h5><p>åŒä¼˜å…ˆçº§çº¿ç¨‹ç»„æˆå…ˆè¿›å…ˆå‡ºé˜Ÿåˆ—ï¼ˆå…ˆåˆ°å…ˆæœåŠ¡ï¼‰ï¼Œä½¿ç”¨æ—¶é—´ç‰‡ç­–ç•¥</p>
<p>å¯¹é«˜ä¼˜å…ˆçº§ï¼Œä½¿ç”¨ä¼˜å…ˆè°ƒåº¦çš„æŠ¢å å¼ç­–ç•¥</p>
<h5 id="çº¿ç¨‹çš„ä¼˜å…ˆçº§ç­‰çº§"><a href="#çº¿ç¨‹çš„ä¼˜å…ˆçº§ç­‰çº§" class="headerlink" title="çº¿ç¨‹çš„ä¼˜å…ˆçº§ç­‰çº§"></a>çº¿ç¨‹çš„ä¼˜å…ˆçº§ç­‰çº§</h5><p>MAX_PRIORITY=10</p>
<p>MIN_PRIORITY=1</p>
<p>NORM_PRIORITY=5ï¼ˆé»˜è®¤ï¼‰</p>
<h5 id="æ¶‰åŠçš„æ–¹æ³•"><a href="#æ¶‰åŠçš„æ–¹æ³•" class="headerlink" title="æ¶‰åŠçš„æ–¹æ³•"></a>æ¶‰åŠçš„æ–¹æ³•</h5><p>int getPriority()ï¼šè¿”å›çº¿ç¨‹ä¼˜å…ˆçº§</p>
<p>void setPriority(int newPriority)ï¼šæ”¹å˜çº¿ç¨‹çš„ä¼˜å…ˆçº§</p>
<h5 id="å°æç¤º"><a href="#å°æç¤º" class="headerlink" title="å°æç¤º"></a>å°æç¤º</h5><p>çº¿ç¨‹åˆ›å»ºæ—¶ç»§æ‰¿çˆ¶çº¿ç¨‹çš„ä¼˜å…ˆçº§ã€‚</p>
<p>ä½ä¼˜å…ˆçº§åªæ˜¯è·å¾—è°ƒåº¦çš„æ¦‚ç‡ä½ï¼Œå¹¶éä¸€å®šæ˜¯åœ¨é«˜ä¼˜å…ˆçº§çº¿ç¨‹ä¹‹åæ‰è¢«è°ƒç”¨ã€‚</p>
<h4 id="è¡¥å……ï¼šçº¿ç¨‹çš„åˆ†ç±»"><a href="#è¡¥å……ï¼šçº¿ç¨‹çš„åˆ†ç±»" class="headerlink" title="è¡¥å……ï¼šçº¿ç¨‹çš„åˆ†ç±»"></a>è¡¥å……ï¼šçº¿ç¨‹çš„åˆ†ç±»</h4><p>Javaçš„çº¿ç¨‹ä¸­åˆ†ä¸ºä¸¤ç±»ï¼šä¸€ç§æ˜¯<strong>ç”¨æˆ·çº¿ç¨‹</strong>ï¼Œä¸€ç§æ˜¯<strong>å®ˆæŠ¤çº¿ç¨‹</strong>ã€‚</p>
<ul>
<li>å®ƒä»¬åœ¨å‡ ä¹æ¯ä¸ªæ–¹é¢éƒ½æ˜¯ç›¸åŒçš„ï¼Œå”¯ä¸€çš„åŒºåˆ«æ˜¯åˆ¤æ–­JVMä½•æ—¶ç¦»å¼€ã€‚</li>
<li>å®ˆæŠ¤çº¿ç¨‹æ˜¯ç”¨æ¥æœåŠ¡ç”¨æˆ·çº¿ç¨‹çš„ï¼Œé€šè¿‡åœ¨start()æ–¹æ³•è°ƒç”¨å‰è°ƒç”¨<strong>(thread).setDaemon(true)</strong>å¯ä»¥æŠŠä¸€ä¸ªç”¨æˆ·çº¿ç¨‹å˜æˆä¸€ä¸ªå®ˆæŠ¤çº¿ç¨‹ã€‚</li>
<li>Javaåƒåœ¾å›æ”¶å°±æ˜¯ä¸€ä¸ªå…¸å‹çš„å®ˆæŠ¤çº¿ç¨‹ã€‚</li>
<li>è‹¥JVMä¸­éƒ½æ˜¯å®ˆæŠ¤çº¿ç¨‹ï¼Œå½“å‰JVMå°†é€€å‡ºã€‚</li>
</ul>
<p><em>ï¼ˆæ¼”ç¤ºä»£ç å¾…è¡¥å……ï¼‰</em></p>
<p><a href="https://blog.csdn.net/qq_41063141/article/details/91939540" target="_blank" rel="noopener">https://blog.csdn.net/qq_41063141/article/details/91939540</a></p>
<h3 id="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"><a href="#çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ" class="headerlink" title="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></a>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</h3><p>JDKä¸­ç”¨äº†Thread.Stateç±»å®šä¹‰äº†çº¿ç¨‹çš„å…­ç§çŠ¶æ€ï¼š</p>
<ul>
<li><strong>NEW</strong>ï¼šA Thread which has not yet started.</li>
<li><strong>RUNNABLE</strong>ï¼šA Thread which is running or suspended.</li>
<li><strong>BLOCKED</strong>ï¼šA Thread which is blocked on a monitor.</li>
<li><strong>WAITING</strong>ï¼šA Thread which is waiting with no timeout.</li>
<li><strong>TIMED_WAITING</strong>ï¼šA Thread which is waiting with a timeout.</li>
<li><strong>TERMINATED</strong>ï¼šA thread which is no longer alive.</li>
</ul>
<p>è¿™ç§åˆ†ç±»æ˜¯æŒ‰ç…§æ–¹æ³•åˆ†çš„ï¼Œä¸æ˜¯å¾ˆæ¸…æ™°ï¼Œå¯ä»¥æŒ‰ç…§çº¿ç¨‹çš„çŠ¶æ€åˆ†æˆ5ç§çŠ¶æ€ï¼š</p>
<ul>
<li><strong>æ–°å»º</strong>ï¼šå½“ä¸€ä¸ªThreadç±»æˆ–å…¶å­ç±»çš„å¯¹è±¡è¢«å£°æ˜å¹¶åˆ›å»ºæ—¶ï¼Œæ–°ç”Ÿçš„çº¿ç¨‹å¯¹è±¡å¤„äºæ–°å»ºçŠ¶æ€ã€‚</li>
<li><strong>å°±ç»ª</strong>ï¼šå¤„äº<strong>æ–°å»º</strong>çŠ¶æ€çš„çº¿ç¨‹è¢«start()åï¼Œå°†è¿›å…¥çº¿ç¨‹é˜Ÿåˆ—ç­‰å¾…CPUæ—¶é—´ç‰‡ï¼Œæ­¤æ—¶å®ƒå·²å…·å¤‡äº†è¿è¡Œçš„æ¡ä»¶ ï¼Œåªæ˜¯æ²¡åˆ†é…åˆ°CPUèµ„æºã€‚</li>
<li><strong>è¿è¡Œ</strong>ï¼šå½“å°±ç»ªçš„çº¿ç¨‹è¢«è°ƒåº¦å¹¶è·å¾—CPUèµ„æºæ—¶ä¾¿è¿›å…¥è¿è¡ŒçŠ¶æ€ï¼Œrun()æ–¹æ³•å®šä¹‰äº†çº¿ç¨‹çš„æ“ä½œå’ŒåŠŸèƒ½ã€‚</li>
<li><strong>é˜»å¡</strong>ï¼šåœ¨æŸç§ç‰¹æ®Šæƒ…å†µä¸‹ï¼Œè¢«äººä¸ºæŒ‚èµ·æˆ–æ‰§è¡Œè¾“å…¥è¾“å‡ºæ“ä½œæ—¶ï¼Œè®©å‡ºCPUå¹¶ä¸´æ—¶ä¸­æ­¢è‡ªå·±çš„æ‰§è¡Œï¼Œè¿›å…¥é˜»å¡çŠ¶æ€ã€‚</li>
<li><strong>æ­»äº¡</strong>ï¼šçº¿ç¨‹å®Œæˆäº†å®ƒçš„å…¨éƒ¨å·¥ä½œæˆ–çº¿ç¨‹è¢«æå‰å¼ºåˆ¶æ€§åœ°ä¸­æ­¢æˆ–å‡ºç°å¼‚å¸¸å¯¼è‡´ç»“æŸã€‚</li>
</ul>
<p><img src="/2020/08/04/Java%E5%AD%A6%E4%B9%A0%E7%AC%94%E8%AE%B0-%E5%A4%9A%E7%BA%BF%E7%A8%8B/çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ.png" alt="çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ"></p>
<h3 id="çº¿ç¨‹çš„åŒæ­¥"><a href="#çº¿ç¨‹çš„åŒæ­¥" class="headerlink" title="çº¿ç¨‹çš„åŒæ­¥"></a>çº¿ç¨‹çš„åŒæ­¥</h3><h4 id="çº¿ç¨‹çš„å®‰å…¨é—®é¢˜"><a href="#çº¿ç¨‹çš„å®‰å…¨é—®é¢˜" class="headerlink" title="çº¿ç¨‹çš„å®‰å…¨é—®é¢˜"></a>çº¿ç¨‹çš„å®‰å…¨é—®é¢˜</h4><p>å¤šä¸ªçº¿ç¨‹æ‰§è¡Œçš„ä¸ç¡®å®šæ€§ä¼šå¼•èµ·æ‰§è¡Œç»“æœçš„ä¸ç¡®å®šæ€§ã€‚</p>
<p>å¤šä¸ªçº¿ç¨‹å¯¹æ•°æ®çš„å…±äº«ï¼Œä¼šé€ æˆæ“ä½œçš„ä¸å®Œæ•´æ€§ï¼Œä¼šç ´åæ•°æ®ã€‚</p>
<h5 id="åŸå› "><a href="#åŸå› " class="headerlink" title="åŸå› "></a>åŸå› </h5><p>å½“å¤šæ¡è¯­å¥åœ¨æ“ä½œåŒä¸€ä¸ªçº¿ç¨‹å…±äº«æ•°æ®æ—¶ï¼Œä¸€ä¸ªçº¿ç¨‹å¯¹å¤šæ¡è¯­å¥æ‰§è¡Œäº†ä¸€éƒ¨åˆ†ï¼Œè¿˜æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå¦ä¸€ä¸ªçº¿ç¨‹å‚ä¸è¿›æ¥æ‰§è¡Œï¼Œå¯¼è‡´å…±äº«æ•°æ®çš„é”™è¯¯ã€‚</p>
<h5 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h5><p>å¯¹å¤šæ¡æ“ä½œå…±äº«æ•°æ®çš„è¯­å¥ï¼Œåªèƒ½è®©ä¸€ä¸ªçº¿ç¨‹éƒ½æ‰§è¡Œå®Œï¼Œåœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¸­ï¼Œå…¶ä»–çº¿ç¨‹ä¸èƒ½å‚ä¸æ‰§è¡Œã€‚</p>
<h4 id="ä½¿ç”¨Synchronizedå…³é”®å­—å®ç°çº¿ç¨‹çš„åŒæ­¥"><a href="#ä½¿ç”¨Synchronizedå…³é”®å­—å®ç°çº¿ç¨‹çš„åŒæ­¥" class="headerlink" title="ä½¿ç”¨Synchronizedå…³é”®å­—å®ç°çº¿ç¨‹çš„åŒæ­¥"></a>ä½¿ç”¨Synchronizedå…³é”®å­—å®ç°çº¿ç¨‹çš„åŒæ­¥</h4><h5 id="åŒæ­¥ä»£ç å—"><a href="#åŒæ­¥ä»£ç å—" class="headerlink" title="åŒæ­¥ä»£ç å—"></a>åŒæ­¥ä»£ç å—</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">synchronized</span>(åŒæ­¥ç›‘è§†å™¨)&#123;</span><br><span class="line"></span><br><span class="line">	<span class="comment">//éœ€è¦åŒæ­¥çš„ä»£ç </span></span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<ol>
<li>æ“ä½œå…±äº«æ•°æ®çš„ä»£ç å°±æ˜¯éœ€è¦è¢«åŒæ­¥çš„ä»£ç ã€‚</li>
<li>å…±äº«æ•°æ®æ˜¯å¤šä¸ªçº¿ç¨‹å…±åŒæ“æ§çš„å˜é‡ã€‚</li>
<li>åŒæ­¥ç›‘è§†å™¨ä¿—ç§°â€œé”â€ã€‚ä»»ä½•ä¸€ä¸ªç±»çš„éƒ½å¯ä»¥å……å½“â€œé”â€ã€‚</li>
<li>å¤šä¸ªçº¿ç¨‹å¿…é¡»å…±ç”¨<strong>åŒä¸€æŠŠé”</strong>ï¼Œå³åŒæ­¥ç›‘è§†å™¨å¿…é¡»æ˜¯<strong>åŒä¸€ä¸ªå¯¹è±¡</strong>ã€‚</li>
<li>å®ç°Runnableæ¥å£åˆ›å»ºçš„çº¿ç¨‹å¯ä»¥è€ƒè™‘ä½¿ç”¨<strong>this</strong>å……å½“åŒæ­¥ç›‘è§†å™¨ï¼Œç»§æ‰¿Threadç±»åˆ›å»ºçš„çº¿ç¨‹æ…ç”¨<strong>this</strong>ã€‚</li>
<li>ç»§æ‰¿Threadç±»åˆ›å»ºçš„çº¿ç¨‹å¯ä»¥è€ƒè™‘ä½¿ç”¨<strong>(ç±»å).class</strong>å……å½“åŒæ­¥ç›‘è§†å™¨ã€‚</li>
</ol>
<h5 id="åŒæ­¥æ–¹æ³•"><a href="#åŒæ­¥æ–¹æ³•" class="headerlink" title="åŒæ­¥æ–¹æ³•"></a>åŒæ­¥æ–¹æ³•</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ ¼å¼ï¼š</span></span><br><span class="line"><span class="comment">//è®¿é—®ä¿®é¥°ç¬¦ synchronized è¿”å›å€¼ç±»å‹ æ–¹æ³•å()&#123;&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ä¾‹å­</span></span><br><span class="line"><span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">musterMethod</span><span class="params">()</span></span>&#123;</span><br><span class="line">    <span class="comment">//æ–¹æ³•ä½“</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼š</p>
<ol>
<li>åŒæ­¥æ–¹æ³•ä»ç„¶æ¶‰åŠåˆ°åŒæ­¥ç›‘è§†å™¨ï¼Œåªä¸è¿‡ä¸éœ€è¦æ˜¾å¼å£°æ˜ã€‚</li>
<li><strong>éé™æ€</strong>çš„åŒæ­¥æ–¹æ³•çš„åŒæ­¥ç›‘è§†å™¨ä¸º<strong>this</strong>ï¼Œé™æ€çš„åŒæ­¥æ–¹æ³•çš„åŒæ­¥ç›‘è§†å™¨æ˜¯<strong>(ç±»å).class</strong>ã€‚</li>
</ol>
<h4 id="åŒæ­¥çš„ä¼˜ç‚¹ä¸å±€é™"><a href="#åŒæ­¥çš„ä¼˜ç‚¹ä¸å±€é™" class="headerlink" title="åŒæ­¥çš„ä¼˜ç‚¹ä¸å±€é™"></a>åŒæ­¥çš„ä¼˜ç‚¹ä¸å±€é™</h4><p>ä¼˜ç‚¹ï¼šè§£å†³äº†çº¿ç¨‹çš„å®‰å…¨é—®é¢˜</p>
<p>å±€é™ï¼šæ“ä½œåŒæ­¥æ—¶åªèƒ½ç”±ä¸€ä¸ªçº¿ç¨‹å‚ä¸ï¼Œå…¶ä»–çº¿ç¨‹ç­‰å¾…ï¼Œç›¸å½“äºä¸€ä¸ªå•çº¿ç¨‹çš„è¿‡ç¨‹ï¼Œæ•ˆç‡è¾ƒä½ã€‚</p>
<h4 id="æ­»é”é—®é¢˜"><a href="#æ­»é”é—®é¢˜" class="headerlink" title="æ­»é”é—®é¢˜"></a>æ­»é”é—®é¢˜</h4><p>ä¸åŒçš„çº¿ç¨‹åˆ†åˆ«å ç”¨å¯¹æ–¹éœ€è¦çš„åŒæ­¥èµ„æºä¸æ”¾å¼ƒï¼Œéƒ½åœ¨ç­‰å¾…å¯¹æ–¹æ”¾å¼ƒè‡ªå·±éœ€è¦çš„åŒæ­¥èµ„æºï¼Œå°±å½¢æˆäº†çº¿ç¨‹çš„æ­»é”ã€‚</p>
<p>å‡ºç°æ­»é”åï¼Œä¸ä¼šå‡ºç°å¼‚å¸¸ï¼Œä¸ä¼šå‡ºç°æç¤ºï¼Œåªæ˜¯æ‰€æœ‰çš„çº¿ç¨‹éƒ½å¤„äºé˜»å¡çŠ¶æ€ï¼Œæ— æ³•ç»§ç»­ã€‚</p>
<h5 id="è§£å†³æ–¹æ³•-1"><a href="#è§£å†³æ–¹æ³•-1" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h5><ul>
<li>ä¸“é—¨çš„ç®—æ³•ã€åŸåˆ™</li>
<li>å°½é‡å‡å°‘åŒæ­¥èµ„æºçš„å®šä¹‰</li>
<li>å°½é‡é¿å…åµŒå¥—åŒæ­¥</li>
</ul>
<h5 id="æ­»é”æ ·ä¾‹"><a href="#æ­»é”æ ·ä¾‹" class="headerlink" title="æ­»é”æ ·ä¾‹"></a>æ­»é”æ ·ä¾‹</h5><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ThreadTest;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">A</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">foo</span><span class="params">(B b)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å½“å‰çº¿ç¨‹å: "</span> + Thread.currentThread().getName()</span><br><span class="line">                + <span class="string">" è¿›å…¥äº†Aå®ä¾‹çš„fooæ–¹æ³•"</span>); <span class="comment">// â‘ </span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">200</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"å½“å‰çº¿ç¨‹å: "</span> + Thread.currentThread().getName()</span><br><span class="line">                + <span class="string">" ä¼å›¾è°ƒç”¨Bå®ä¾‹çš„lastæ–¹æ³•"</span>); <span class="comment">// â‘¢</span></span><br><span class="line">        b.last();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">last</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"è¿›å…¥äº†Aç±»çš„lastæ–¹æ³•å†…éƒ¨"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">B</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">bar</span><span class="params">(A a)</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"å½“å‰çº¿ç¨‹å: "</span> + Thread.currentThread().getName()</span><br><span class="line">                + <span class="string">" è¿›å…¥äº†Bå®ä¾‹çš„baræ–¹æ³•"</span>); <span class="comment">// â‘¡</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">200</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException ex) &#123;</span><br><span class="line">            ex.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">"å½“å‰çº¿ç¨‹å: "</span> + Thread.currentThread().getName()</span><br><span class="line">                + <span class="string">" ä¼å›¾è°ƒç”¨Aå®ä¾‹çš„lastæ–¹æ³•"</span>); <span class="comment">// â‘£</span></span><br><span class="line">        a.last();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">last</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(<span class="string">"è¿›å…¥äº†Bç±»çš„lastæ–¹æ³•å†…éƒ¨"</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">DeadLock</span> <span class="keyword">implements</span> <span class="title">Runnable</span> </span>&#123;</span><br><span class="line">    A a = <span class="keyword">new</span> A();</span><br><span class="line">    B b = <span class="keyword">new</span> B();</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">init</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Thread.currentThread().setName(<span class="string">"ä¸»çº¿ç¨‹"</span>);</span><br><span class="line">        <span class="comment">// è°ƒç”¨aå¯¹è±¡çš„fooæ–¹æ³•</span></span><br><span class="line">        a.foo(b);</span><br><span class="line">        System.out.println(<span class="string">"è¿›å…¥äº†ä¸»çº¿ç¨‹ä¹‹å"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        Thread.currentThread().setName(<span class="string">"å‰¯çº¿ç¨‹"</span>);</span><br><span class="line">        <span class="comment">// è°ƒç”¨bå¯¹è±¡çš„baræ–¹æ³•</span></span><br><span class="line">        b.bar(a);</span><br><span class="line">        System.out.println(<span class="string">"è¿›å…¥äº†å‰¯çº¿ç¨‹ä¹‹å"</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        DeadLock dl = <span class="keyword">new</span> DeadLock();</span><br><span class="line">        <span class="keyword">new</span> Thread(dl).start();</span><br><span class="line">        dl.init();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>æˆ‘çš„è¾“å‡º</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">å½“å‰çº¿ç¨‹å: ä¸»çº¿ç¨‹ è¿›å…¥äº†Aå®ä¾‹çš„fooæ–¹æ³•</span><br><span class="line">å½“å‰çº¿ç¨‹å: å‰¯çº¿ç¨‹ è¿›å…¥äº†Bå®ä¾‹çš„baræ–¹æ³•</span><br><span class="line">å½“å‰çº¿ç¨‹å: ä¸»çº¿ç¨‹ ä¼å›¾è°ƒç”¨Bå®ä¾‹çš„lastæ–¹æ³•</span><br><span class="line">å½“å‰çº¿ç¨‹å: å‰¯çº¿ç¨‹ ä¼å›¾è°ƒç”¨Aå®ä¾‹çš„lastæ–¹æ³•</span><br></pre></td></tr></table></figure>
<p>ç„¶åç¨‹åºå°±æ²¡äº†åŠ¨é™ï¼Œä¹Ÿæ²¡ç»“æŸï¼Œè¿™å°±æ˜¯æ­»é”ã€‚</p>
<p>ä¸»çº¿ç¨‹æƒ³è¦Bå®ä¾‹è¿™æŠŠé”ï¼Œå‰¯çº¿ç¨‹æƒ³è¦Aå®ä¾‹è¿™æŠŠé”ï¼Œäº‰æ‰§ä¸ä¸‹ï¼Œéƒ½è¿›å…¥é˜»å¡çŠ¶æ€ã€‚</p>
<h4 id="ä½¿ç”¨Lockçš„å®ç°ç±»å®ç°çº¿ç¨‹çš„åŒæ­¥"><a href="#ä½¿ç”¨Lockçš„å®ç°ç±»å®ç°çº¿ç¨‹çš„åŒæ­¥" class="headerlink" title="ä½¿ç”¨Lockçš„å®ç°ç±»å®ç°çº¿ç¨‹çš„åŒæ­¥"></a>ä½¿ç”¨Lockçš„å®ç°ç±»å®ç°çº¿ç¨‹çš„åŒæ­¥</h4><p>ä»JDK 5.0å¼€å§‹Javaæä¾›äº†æ›´å¼ºå¤§çš„çº¿ç¨‹åŒæ­¥æœºåˆ¶ï¼šé€šè¿‡æ˜¾å¼å®šä¹‰åŒæ­¥é”å¯¹è±¡æ¥å®ç°åŒæ­¥ã€‚åŒæ­¥é”ä½¿ç”¨Lockå¯¹è±¡å……å½“ã€‚</p>
<p><strong>java.util.concurrent.locks.Lockæ¥å£æ˜¯æ§åˆ¶å¤šä¸ªçº¿ç¨‹å¯¹å…±äº«èµ„æºè¿›è¡Œè®¿é—®çš„å·¥å…·ã€‚</strong>é”æä¾›äº†å¯¹å…±äº«èµ„æºçš„ç‹¬å è®¿é—®ï¼Œæ¯æ¬¡åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹å¯¹Lockå¯¹è±¡åŠ é”ï¼Œçº¿ç¨‹å¼€å§‹è®¿é—®å…±äº«èµ„æºä¹‹å‰åº”å…ˆè·å¾—Lockå¯¹è±¡ã€‚</p>
<p>ReentrantLockç±»å®ç°äº†Lockï¼Œå®ƒæ‹¥æœ‰ä¸synchronizedç›¸åŒçš„å¹¶å‘æ€§å’Œå†…å­˜è¯­ä¹‰ï¼Œåœ¨å®ç°çº¿ç¨‹å®‰å…¨çš„æ§åˆ¶ä¸­ï¼Œæ¯”è¾ƒå¸¸ç”¨çš„æ˜¯ReentrantLockï¼Œå¯ä»¥æ˜¾å¼åŠ é”ã€é‡Šæ”¾é”ã€‚</p>
<p>æ¼”ç¤ºä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> Lock;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.locks.ReentrantLock;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å…±äº«èµ„æº</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> resource=<span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//1.ç”Ÿæˆä¸€æŠŠâ€œé”â€</span></span><br><span class="line">    ReentrantLock lock=<span class="keyword">new</span> ReentrantLock(<span class="keyword">false</span>);</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="keyword">while</span>(<span class="keyword">true</span>)&#123;</span><br><span class="line">                <span class="comment">//2.æ“ä½œå…±äº«æ•°æ®ä¹‹å‰å…ˆä¸Šé”</span></span><br><span class="line">                lock.lock();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span>(resource&gt;<span class="number">0</span>)&#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName()+<span class="string">" æŠ¢åˆ°ç¬¬"</span>+(<span class="number">11</span>-resource)+<span class="string">"ä»½èµ„æº"</span>);</span><br><span class="line">                    resource--;</span><br><span class="line">                &#125;<span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">                <span class="comment">//3.æ“ä½œå®Œæˆï¼Œè§£é”</span></span><br><span class="line">                lock.unlock();</span><br><span class="line"></span><br><span class="line">                <span class="keyword">try</span> &#123;  <span class="comment">//ä¼‘çœ ï¼Œå¢åŠ äº¤äº’æ¦‚ç‡</span></span><br><span class="line">                    Thread.sleep(<span class="number">10</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">finally</span>&#123; <span class="comment">//4.ä¸‡ä¸€å¾ªç¯è¢«breakæˆ–è€…tryå†…è¯­å¥å‡ºç°å¼‚å¸¸ï¼Œæœ€åç»™çº¿ç¨‹è§£é”</span></span><br><span class="line">            lock.unlock();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">LockTest</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        myThread m=<span class="keyword">new</span> myThread();</span><br><span class="line">        Thread t1=<span class="keyword">new</span> Thread(m);</span><br><span class="line">        Thread t2=<span class="keyword">new</span> Thread(m);</span><br><span class="line">        Thread t3=<span class="keyword">new</span> Thread(m);</span><br><span class="line"></span><br><span class="line">        t1.setName(<span class="string">"çº¿ç¨‹1"</span>);</span><br><span class="line">        t2.setName(<span class="string">"çº¿ç¨‹2"</span>);</span><br><span class="line">        t3.setName(<span class="string">"çº¿ç¨‹3"</span>);</span><br><span class="line"></span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>è¯´æ˜ï¼šå’Œsynchronizedä¸€æ ·ï¼Œå¤šä¸ªçº¿ç¨‹å¤„ç†å…±äº«èµ„æºçš„æ—¶å€™åº”å½“<strong>å…±ç”¨åŒä¸€ä¸ªLockå¯¹è±¡</strong>ã€‚</p>
<h5 id="Lockå’Œsynchronizedçš„æ¯”è¾ƒ"><a href="#Lockå’Œsynchronizedçš„æ¯”è¾ƒ" class="headerlink" title="Lockå’Œsynchronizedçš„æ¯”è¾ƒ"></a>Lockå’Œsynchronizedçš„æ¯”è¾ƒ</h5><ol>
<li>Lockæ˜¯æ˜¾å¼é”ï¼ˆæ‰‹åŠ¨å¼€å¯å’Œå…³é—­é”ï¼Œåˆ«å¿˜è®°å…³é—­é”ï¼‰ï¼Œsynchronizedæ˜¯éšå¼é”ï¼Œå‡ºäº†ä½œç”¨åŸŸè‡ªåŠ¨é‡Šæ”¾ã€‚</li>
<li>Lockåªæœ‰ä»£ç å—é”ï¼Œsynchronizedæœ‰ä»£ç å—é”å’Œæ–¹æ³•é”ã€‚</li>
<li>ä½¿ç”¨Locké”ï¼ŒJVMå°†èŠ±è´¹è¾ƒå°‘çš„æ—¶é—´æ¥è°ƒåº¦çº¿ç¨‹ï¼Œæ€§èƒ½æ›´å¥½ã€‚å¹¶ä¸”å…·æœ‰æ›´å¥½çš„æ‰©å±•æ€§ï¼ˆæä¾›æ›´å¤šçš„å­ç±»ï¼‰ã€‚</li>
</ol>
<p><strong>ä¼˜å…ˆä½¿ç”¨é¡ºåº</strong>ï¼š<br>Lockâ€”&gt;åŒæ­¥ä»£ç å—ï¼ˆå·²ç»è¿›å…¥äº†æ–¹æ³•ä½“ï¼Œåˆ†é…äº†ç›¸åº”èµ„æºï¼‰â€”&gt;åŒæ­¥æ–¹æ³•ï¼ˆåœ¨æ–¹æ³•ä½“ä¹‹å¤–ï¼‰</p>
<h3 id="çº¿ç¨‹çš„é€šä¿¡"><a href="#çº¿ç¨‹çš„é€šä¿¡" class="headerlink" title="çº¿ç¨‹çš„é€šä¿¡"></a>çº¿ç¨‹çš„é€šä¿¡</h3><h4 id="synchronizedçš„é€šä¿¡æ–¹å¼"><a href="#synchronizedçš„é€šä¿¡æ–¹å¼" class="headerlink" title="synchronizedçš„é€šä¿¡æ–¹å¼"></a>synchronizedçš„é€šä¿¡æ–¹å¼</h4><p><strong>wait()</strong>ï¼šä»¤å½“å‰çº¿ç¨‹æŒ‚èµ·å¹¶æ”¾å¼ƒCPUã€åŒæ­¥èµ„æºå¹¶ç­‰å¾…ï¼Œä½¿åˆ«çš„çº¿ç¨‹å¯è®¿é—®å¹¶ä¿®æ”¹å…±äº«èµ„æºï¼Œè€Œå½“å‰çº¿ç¨‹æ’é˜Ÿç­‰å€™å…¶ä»–çº¿ç¨‹è°ƒç”¨notify()æˆ–notifyAll()æ–¹æ³•å”¤é†’ï¼Œå”¤é†’åç­‰å¾…é‡æ–°è·å¾—å¯¹ç›‘è§†å™¨çš„æ‰€æœ‰æƒåæ‰èƒ½ç»§ç»­æ‰§è¡Œã€‚</p>
<p>è¯´æ˜ï¼š</p>
<ol>
<li>åœ¨å½“å‰çº¿ç¨‹ä¸­è°ƒç”¨æ–¹æ³•ï¼šå¯¹è±¡å.wait()ã€‚</li>
<li>ä½¿å½“å‰çº¿ç¨‹è¿›å…¥ç­‰å¾…ï¼ˆæŸå¯¹è±¡ï¼‰çŠ¶æ€ï¼Œç›´åˆ°å¦ä¸€çº¿ç¨‹å¯¹è¯¥å¯¹è±¡å‘å‡ºnotify()æˆ–notifyAll()ä¸ºæ­¢ã€‚</li>
<li>è°ƒç”¨æ–¹æ³•çš„å¿…è¦æ¡ä»¶ï¼šå½“å‰çº¿ç¨‹å¿…é¡»å…·æœ‰å¯¹è¯¥å¯¹è±¡çš„ç›‘æ§æƒï¼ˆåŠ é”ï¼‰ã€‚</li>
<li>è°ƒç”¨æ­¤æ–¹æ³•åï¼Œå½“å‰çº¿ç¨‹å°†<strong>é‡Šæ”¾å¯¹è±¡ç›‘æ§æƒ</strong>ï¼Œç„¶åè¿›å…¥ç­‰å¾…ã€‚</li>
<li>åœ¨å½“å‰çº¿ç¨‹è¢«notify()åï¼Œè¦é‡æ–°è·å¾—ç›‘æ§æƒï¼Œç„¶åä»æ–­ç‚¹å¤„ç»§ç»­ä»£ç çš„æ‰§è¡Œã€‚</li>
</ol>
<p><strong>notify()</strong>ï¼šå”¤é†’æ­£åœ¨æ’é˜Ÿç­‰å¾…åŒæ­¥èµ„æºçš„çº¿ç¨‹ä¸­ä¼˜å…ˆçº§æœ€é«˜è€…ï¼Œè®©å…¶ç»“æŸç­‰å¾…ã€‚</p>
<p><strong>notifyAll()</strong>ï¼šå”¤é†’æ­£åœ¨æ’é˜Ÿç­‰å¾…èµ„æºçš„æ‰€æœ‰çº¿ç¨‹ï¼Œè®©å®ƒä»¬ç»“æŸç­‰å¾…ã€‚</p>
<p>è¯´æ˜ï¼š</p>
<ol>
<li>åœ¨å½“å‰çº¿ç¨‹ä¸­è°ƒç”¨æ–¹æ³•ï¼šå¯¹è±¡å.notify()/notifyAll()ã€‚</li>
<li>åŠŸèƒ½ï¼šå”¤é†’ç­‰å¾…è¯¥å¯¹è±¡ç›‘æ§æƒçš„ä¸€ä¸ª/æ‰€æœ‰çº¿ç¨‹ã€‚</li>
<li>è°ƒç”¨æ–¹æ³•çš„å¿…è¦æ¡ä»¶ï¼šå½“å‰çº¿ç¨‹å¿…é¡»å…·æœ‰å¯¹è¯¥å¯¹è±¡çš„ç›‘æ§æƒï¼ˆåŠ é”ï¼‰ã€‚</li>
</ol>
<h5 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h5><p>è¿™ä¸‰ä¸ªæ–¹æ³•åªæœ‰åœ¨synchronizedæ–¹æ³•æˆ–synchronizedä»£ç å—ä¸­æ‰èƒ½ä½¿ç”¨ï¼Œå¦åˆ™ä¼šæŠ¥java.lang.IllegalMonitorStateExceptionå¼‚å¸¸ã€‚</p>
<p>å› ä¸ºè¿™ä¸‰ä¸ªæ–¹æ³•å¿…é¡»æœ‰é”å¯¹è±¡è°ƒç”¨ï¼Œè€Œä»»æ„å¯¹è±¡éƒ½å¯ä»¥ä½œä¸ºsynchronizedçš„åŒæ­¥é”ï¼Œå› æ­¤è¿™ä¸‰ä¸ªæ–¹æ³•åªèƒ½åœ¨Objectç±»ä¸­å£°æ˜ã€‚</p>
<h5 id="æ¼”ç¤ºä»£ç "><a href="#æ¼”ç¤ºä»£ç " class="headerlink" title="æ¼”ç¤ºä»£ç "></a>æ¼”ç¤ºä»£ç </h5><p>è®©ä¸¤ä¸ªçº¿ç¨‹äº¤æ›¿è¾“å‡º1-10çš„æ•°</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ç°Runnableæ¥å£åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line"><span class="keyword">package</span> CommunicateTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test1</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        myThread m = <span class="keyword">new</span> myThread();</span><br><span class="line">        Thread myThread1 = <span class="keyword">new</span> Thread(m);</span><br><span class="line">        Thread myThread2 = <span class="keyword">new</span> Thread(m);</span><br><span class="line"></span><br><span class="line">        myThread1.setName(<span class="string">"æˆ‘çš„çº¿ç¨‹1"</span>);</span><br><span class="line">        myThread2.setName(<span class="string">"æˆ‘çš„çº¿ç¨‹2"</span>);</span><br><span class="line"></span><br><span class="line">        myThread1.start();</span><br><span class="line">        myThread2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> num=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (<span class="keyword">this</span>) &#123;</span><br><span class="line">                notify();</span><br><span class="line">                <span class="keyword">if</span> (num &lt;= <span class="number">10</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">"ï¼šè¾“å‡º"</span> + num);</span><br><span class="line">                    num++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç»§æ‰¿Threadç±»æ–¹æ³•åˆ›å»ºçº¿ç¨‹</span></span><br><span class="line"><span class="keyword">package</span> CommunicateTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test2</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        myThread2 m1 = <span class="keyword">new</span> myThread2();</span><br><span class="line">        myThread2 m2 = <span class="keyword">new</span> myThread2();</span><br><span class="line"></span><br><span class="line">        m1.setName(<span class="string">"æˆ‘çš„çº¿ç¨‹1"</span>);</span><br><span class="line">        m2.setName(<span class="string">"æˆ‘çš„çº¿ç¨‹2"</span>);</span><br><span class="line"></span><br><span class="line">        m1.start();</span><br><span class="line">        m2.start();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">myThread2</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">int</span> num=<span class="number">1</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (myThread2<span class="class">.<span class="keyword">class</span>) </span>&#123;</span><br><span class="line">                myThread2<span class="class">.<span class="keyword">class</span>.<span class="title">notify</span>()</span>;</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (num &lt;= <span class="number">10</span>) &#123;</span><br><span class="line">                    System.out.println(Thread.currentThread().getName() + <span class="string">"ï¼šè¾“å‡º"</span> + num);</span><br><span class="line">                    num++;</span><br><span class="line"></span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        myThread2<span class="class">.<span class="keyword">class</span>.<span class="title">wait</span>()</span>;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125; <span class="keyword">else</span> <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="ç»å…¸ä¾‹é¢˜ï¼šç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜"><a href="#ç»å…¸ä¾‹é¢˜ï¼šç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜" class="headerlink" title="ç»å…¸ä¾‹é¢˜ï¼šç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜"></a>ç»å…¸ä¾‹é¢˜ï¼šç”Ÿäº§è€…æ¶ˆè´¹è€…é—®é¢˜</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ProductorCustomerTest;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        Clerk clerk = <span class="keyword">new</span> Clerk();</span><br><span class="line">        Productor p1 = <span class="keyword">new</span> Productor(clerk);</span><br><span class="line">        p1.setName(<span class="string">"ç”Ÿäº§è€…1"</span>);</span><br><span class="line"></span><br><span class="line">        Customer c1 = <span class="keyword">new</span> Customer(clerk);</span><br><span class="line">        c1.setName(<span class="string">"æ¶ˆè´¹è€…1"</span>);</span><br><span class="line"></span><br><span class="line">        p1.start();</span><br><span class="line">        c1.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Clerk</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">int</span> productionNum;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Clerk</span><span class="params">()</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.productionNum=<span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">addProduction</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(productionNum&lt;<span class="number">20</span>)&#123;</span><br><span class="line">            productionNum++;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">"ï¼šç”Ÿäº§ç¬¬"</span>+productionNum+<span class="string">"ä¸ªäº§å“"</span>);</span><br><span class="line"></span><br><span class="line">            notify();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title">getProduct</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">if</span>(productionNum&gt;<span class="number">0</span>)&#123;</span><br><span class="line">            System.out.println(Thread.currentThread().getName()+<span class="string">"ï¼šæ¶ˆè´¹ç¬¬"</span>+productionNum+<span class="string">"ä¸ªäº§å“"</span>);</span><br><span class="line">            productionNum--;</span><br><span class="line"></span><br><span class="line">            notify();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                wait();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Productor</span> <span class="keyword">extends</span> <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Productor</span><span class="params">(Clerk c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.clerk=c;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(getName()+<span class="string">"å¼€å§‹ç”Ÿäº§ï¼"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            clerk.addProduction();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Customer</span> <span class="keyword">extends</span>  <span class="title">Thread</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    Clerk clerk;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="title">Customer</span><span class="params">(Clerk c)</span></span>&#123;</span><br><span class="line">        <span class="keyword">this</span>.clerk=c;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        System.out.println(getName()+<span class="string">"å¼€å§‹æ¶ˆè´¹ï¼"</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">while</span> (<span class="keyword">true</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">100</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            clerk.getProduct();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="JDK-5-0æ–°å¢çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼"><a href="#JDK-5-0æ–°å¢çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼" class="headerlink" title="JDK 5.0æ–°å¢çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼"></a>JDK 5.0æ–°å¢çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼</h3><h4 id="å®ç°Callableæ¥å£"><a href="#å®ç°Callableæ¥å£" class="headerlink" title="å®ç°Callableæ¥å£"></a>å®ç°Callableæ¥å£</h4><p>ä¸ä½¿ç”¨Runnableç›¸æ¯”ï¼ŒCallableåŠŸèƒ½æ›´åŠ å¼ºå¤§</p>
<ul>
<li>ç›¸æ¯”run()æ–¹æ³•ï¼Œå¯ä»¥æœ‰è¿”å›å€¼</li>
<li>æ–¹æ³•å¯ä»¥æŠ›å‡ºå¼‚å¸¸</li>
<li>è¿”å›å€¼æ”¯æŒæ³›å‹</li>
<li>éœ€è¦å€ŸåŠ©FutureTaskç±»ï¼Œæ¯”å¦‚è·å–è¿”å›ç»“æœ</li>
</ul>
<h5 id="Futureæ¥å£"><a href="#Futureæ¥å£" class="headerlink" title="Futureæ¥å£"></a>Futureæ¥å£</h5><p>å¯ä»¥å¯¹å…·ä½“Runnableã€Callableä»»åŠ¡çš„æ‰§è¡Œç»“æœè¿›è¡Œå–æ¶ˆã€æŸ¥è¯¢æ˜¯å¦å®Œæˆã€è·å–ç»“æœç­‰ã€‚</p>
<p><strong>FutrueTaskæ˜¯Futureæ¥å£çš„å”¯ä¸€å®ç°ç±»</strong>ã€‚</p>
<p>FutureTaskåŒæ—¶å®ç°äº†Runnableã€Futureæ¥å£ã€‚å®ƒæ—¢å¯ä»¥ä½œä¸ºRunnableè¢«çº¿ç¨‹æ‰§è¡Œï¼Œåˆå¯ä»¥ä½œä¸ºFutureå¾—åˆ°Callableçš„è¿”å›å€¼ã€‚</p>
<p>æ¼”ç¤ºä»£ç </p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ThreadCallable;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.Callable;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.ExecutionException;</span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.FutureTask;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> 11346</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//3.åˆ›å»ºCallableæ¥å£å®ç°ç±»çš„å¯¹è±¡</span></span><br><span class="line">        NumThread numThread = <span class="keyword">new</span> NumThread();</span><br><span class="line">        <span class="comment">//4.å°†æ­¤Callableå®ç°ç±»å¯¹è±¡ä¼ å…¥FutureTaskçš„æ„é€ å™¨ä¸­ï¼Œåˆ›å»ºFutureTaskçš„å¯¹è±¡</span></span><br><span class="line">        FutureTask&lt;Integer&gt; futureTask = <span class="keyword">new</span> FutureTask&lt;Integer&gt;(numThread);</span><br><span class="line">        <span class="comment">//5.å°†FutureTaskçš„å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ å…¥Threadç±»çš„æ„é€ å™¨ä¸­ï¼Œåˆ›å»ºThreadç±»çš„å¯¹è±¡ï¼Œå¹¶start()</span></span><br><span class="line">        <span class="keyword">new</span> Thread(futureTask).start();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//6.éœ€è¦çš„è¯è·å–è¿”å›å€¼</span></span><br><span class="line">            <span class="comment">//get()è¿”å›å€¼å³ä¸ºFutureTaskæ„é€ å™¨å‚æ•°Callableå®ç°ç±»é‡å†™çš„call()çš„è¿”å›å€¼</span></span><br><span class="line">            Integer integer = futureTask.get();</span><br><span class="line">            System.out.println(<span class="string">"è¿”å›å€¼ä¸ºï¼š"</span> + integer);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.åˆ›å»ºä¸€ä¸ªå®ç°Callableæ¥å£çš„å®ç°ç±»</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">NumThread</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Integer</span>&gt;</span>&#123;</span><br><span class="line">    <span class="comment">//2.å®ç°call()ï¼Œå°†æ­¤çº¿ç¨‹éœ€è¦æ‰§è¡Œçš„æ–¹æ³•å£°æ˜åœ¨call()ä¸­</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>((i &amp; <span class="number">1</span>) == <span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">"ï¼š"</span>+i);</span><br><span class="line"></span><br><span class="line">                sum+=i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h4><p><strong>èƒŒæ™¯</strong>ï¼šç»å¸¸åˆ›å»ºå’Œé”€æ¯ã€ä½¿ç”¨é‡ç‰¹åˆ«å¤§çš„èµ„æºï¼Œæ¯”å¦‚å¹¶å‘æƒ…å†µä¸‹çš„çº¿ç¨‹ï¼Œå¯¹æ€§èƒ½å½±å“å¾ˆå¤§ã€‚</p>
<p><strong>æ€è·¯</strong>ï¼šæå‰åˆ›å»ºå¥½å¤šä¸ªçº¿ç¨‹ï¼Œæ”¾å…¥çº¿ç¨‹æ± ä¸­ï¼Œä½¿ç”¨æ—¶ç›´æ¥è·å–ï¼Œä½¿ç”¨å®Œæ”¾å›æ± ä¸­ã€‚å¯ä»¥é¿å…é¢‘ç¹åˆ›å»ºé”€æ¯ã€å®ç°é‡å¤åˆ©ç”¨ã€‚ç±»ä¼¼ç”Ÿæ´»ä¸­çš„å…¬å…±äº¤é€šå·¥å…·ã€‚</p>
<p><strong>å¥½å¤„</strong>ï¼š</p>
<ul>
<li>æé«˜å“åº”é€Ÿåº¦ï¼ˆå‡å°‘äº†åˆ›å»ºæ–°çº¿ç¨‹çš„æ—¶é—´ï¼‰</li>
<li>é™ä½èµ„æºæ¶ˆè€—ï¼ˆé‡å¤åˆ©ç”¨çº¿ç¨‹æ± ä¸­çº¿ç¨‹ï¼Œä¸éœ€è¦æ¯æ¬¡éƒ½åˆ›å»ºï¼‰</li>
<li>ä¾¿äºçº¿ç¨‹ç®¡ç†ï¼š<ol>
<li>corePoolSizeï¼šæ ¸å¿ƒæ± çš„å¤§å°</li>
<li>maximumPoolSizeï¼šæœ€å¤§çº¿ç¨‹æ•°</li>
<li>keepAliveTimeï¼šçº¿ç¨‹æ²¡æœ‰ä»»åŠ¡æ—¶æœ€å¤šä¿æŒå¤šé•¿æ—¶é—´åä¼šç»ˆæ­¢</li>
<li>â€¦</li>
</ol>
</li>
</ul>
<h4 id="çº¿ç¨‹æ± ç›¸å…³API"><a href="#çº¿ç¨‹æ± ç›¸å…³API" class="headerlink" title="çº¿ç¨‹æ± ç›¸å…³API"></a>çº¿ç¨‹æ± ç›¸å…³API</h4><p>JDK5.0èµ·æä¾›äº†çº¿ç¨‹æ± ç›¸å…³APIï¼š<strong>ExecutorService</strong>å’Œ<strong>Executors</strong></p>
<p>ExecutorServiceï¼šçœŸæ­£çš„çº¿ç¨‹æ± æ¥å£ã€‚å¸¸è§å­ç±»<strong>ThreadPoolExecutor</strong></p>
<ul>
<li><strong>void execute(Runnable command)</strong>ï¼šæ‰§è¡Œä»»åŠ¡å‘½ä»¤ï¼Œæ²¡æœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡ŒRunnableã€‚</li>
<li><strong><T>Future<T> submit(Callable<T> task)</T></T></T></strong>ï¼šæ‰§è¡Œä»»åŠ¡ï¼Œæœ‰è¿”å›å€¼ï¼Œä¸€èˆ¬ç”¨æ¥æ‰§è¡ŒCallableã€‚</li>
<li><strong>void shutdown()</strong>ï¼šå…³é—­è¿æ¥æ± ã€‚</li>
</ul>
<p>Executorsï¼šå·¥å…·ç±»ã€çº¿ç¨‹æ± çš„å·¥å‚ç±»ï¼Œç”¨äºåˆ›å»ºå¹¶è¿”å›ä¸åŒç±»å‹çš„çº¿ç¨‹æ± ã€‚</p>
<ul>
<li><strong>Executors.newCachedThreadPool()</strong>ï¼šåˆ›å»ºä¸€ä¸ªå¯æ ¹æ®éœ€è¦åˆ›å»ºæ–°çº¿ç¨‹çš„çº¿ç¨‹æ± ã€‚</li>
<li><strong>Executors.newFixedThreadPool(int n)</strong>ï¼šåˆ›å»ºä¸€ä¸ªå¯é‡ç”¨å›ºå®šçº¿ç¨‹æ•°çš„çº¿ç¨‹æ± ã€‚</li>
<li><strong>Executors.newSingleThreadExecutor()</strong>ï¼šåˆ›å»ºä¸€ä¸ªåªæœ‰ä¸€ä¸ªçº¿ç¨‹çš„çº¿ç¨‹æ± ã€‚</li>
<li><strong>Executors.newScheduledThreadPool(int n)</strong>ï¼šåˆ›å»ºä¸€ä¸ªçº¿ç¨‹æ± ï¼Œå®ƒå¯å®‰æ’åœ¨ç»™å®šå»¶è¿Ÿåè¿è¡Œå‘½ä»¤æˆ–è€…å®šæœŸåœ°æ‰§è¡Œã€‚</li>
</ul>
<p>æ¼”ç¤ºä»£ç ï¼š</p>
<figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> ThreadPool;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.concurrent.*;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="class"><span class="keyword">class</span> <span class="title">Test</span> </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title">main</span><span class="params">(String[] args)</span> </span>&#123;</span><br><span class="line">        <span class="comment">//1.æä¾›æŒ‡å®šæ•°é‡çš„çº¿ç¨‹æ± </span></span><br><span class="line">        ExecutorService executorService = Executors.newFixedThreadPool(<span class="number">10</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®å±æ€§å¾—ç”¨å®ç°ç±»ï¼Œæ¥å£é‡Œé¢æ²¡æœ‰è®¾ç½®å±æ€§çš„æ–¹æ³•</span></span><br><span class="line">        ThreadPoolExecutor executor = (ThreadPoolExecutor) executorService;</span><br><span class="line">        <span class="comment">//è®¾ç½®å±æ€§</span></span><br><span class="line">        executor.setMaximumPoolSize(<span class="number">15</span>);</span><br><span class="line">        </span><br><span class="line">        <span class="comment">//2.æ‰§è¡ŒæŒ‡å®šçš„çº¿ç¨‹çš„æ“ä½œã€‚éœ€è¦æä¾›å®ç°Runnableæˆ–è€…Callableæ¥å£çš„å®ç°ç±»çš„å¯¹è±¡</span></span><br><span class="line">        executor.execute(<span class="keyword">new</span> EvenNumThread()); <span class="comment">//é€‚åˆä½¿ç”¨äºRunnable</span></span><br><span class="line">        FutureTask&lt;Integer&gt; futureTask = (FutureTask&lt;Integer&gt;) executor.submit(<span class="keyword">new</span> OddNumThread());<span class="comment">//é€‚åˆä½¿ç”¨äºCallable</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Integer integer = futureTask.get();</span><br><span class="line">            System.out.println(<span class="string">"è¿”å›å€¼ä¸ºï¼š"</span>+integer);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//3.å…³é—­è¿æ¥æ± </span></span><br><span class="line">        executorService.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">EvenNumThread</span> <span class="keyword">implements</span> <span class="title">Runnable</span></span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title">run</span><span class="params">()</span> </span>&#123;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>((i &amp; <span class="number">1</span>) == <span class="number">0</span>) System.out.println(Thread.currentThread().getName()+<span class="string">"ï¼š"</span>+i);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">OddNumThread</span> <span class="keyword">implements</span> <span class="title">Callable</span>&lt;<span class="title">Integer</span>&gt; </span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="function"><span class="keyword">public</span> Integer <span class="title">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception </span>&#123;</span><br><span class="line">        <span class="keyword">int</span> sum=<span class="number">0</span>;</span><br><span class="line">        <span class="keyword">for</span>(<span class="keyword">int</span> i=<span class="number">0</span>;i&lt;=<span class="number">100</span>;i++)&#123;</span><br><span class="line">            <span class="keyword">if</span>((i &amp; <span class="number">1</span>) != <span class="number">0</span>)&#123;</span><br><span class="line">                System.out.println(Thread.currentThread().getName()+<span class="string">"ï¼š"</span>+i);</span><br><span class="line">                sum+=i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="æ›´æ–°æ—¥å¿—"><a href="#æ›´æ–°æ—¥å¿—" class="headerlink" title="æ›´æ–°æ—¥å¿—"></a>æ›´æ–°æ—¥å¿—</h3><ul>
<li>2020.08.17 æ›´æ–°<strong>åŸºæœ¬æ¦‚å¿µï¼šç¨‹åº è¿›ç¨‹ çº¿ç¨‹</strong>ä¸­çš„å®šä¹‰å’Œçº¿ç¨‹ä¸è¿›ç¨‹çš„å…³ç³»ã€‚</li>
<li>2020.08.20 æ›´æ–°<strong>åŸºæœ¬æ¦‚å¿µï¼šç¨‹åº è¿›ç¨‹ çº¿ç¨‹</strong>ä¸­çš„å•æ ¸CPUå’Œå¤šæ ¸CPUçš„ç†è§£ã€å¹¶è¡Œä¸å¹¶å‘çš„è¾¨æå’Œä½•æ—¶éœ€è¦å¤šçº¿ç¨‹ã€‚ç¬¬ä¸€èŠ‚æ›´æ–°å®Œæ¯•ã€‚</li>
<li>2020.09.05 å¼€å§‹æ›´æ–°<strong>çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨ï¼ˆé‡ç‚¹ï¼‰</strong></li>
<li>2020.09.06 ç»§ç»­æ›´æ–°<strong>çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨ï¼ˆé‡ç‚¹ï¼‰</strong>ï¼Œå®Œæˆäº†æ–¹å¼ä¸€çš„ä»£ç å’Œè¾“å‡ºã€‚å®Œæˆ<strong>Threadç±»çš„å¸¸ç”¨æ–¹æ³•</strong>ã€‚</li>
<li>2020.09.07 ç»§ç»­æ›´æ–°<strong>çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨ï¼ˆé‡ç‚¹ï¼‰</strong>ï¼Œå®Œæˆäº†<strong>çº¿ç¨‹çš„è°ƒåº¦</strong>ï¼Œçº¿ç¨‹çš„åˆ›å»º<strong>æ–¹å¼äºŒï¼šå®ç°Runnableæ¥å£</strong>ã€‚</li>
<li>2020.09.09 æ›´æ–°<strong>çº¿ç¨‹çš„åˆ›å»ºå’Œä½¿ç”¨ï¼ˆé‡ç‚¹ï¼‰</strong>ä¸­çš„<strong>çº¿ç¨‹çš„åˆ†ç±»</strong>å’Œ<strong>çº¿ç¨‹çš„ç”Ÿå‘½å‘¨æœŸ</strong>ã€‚</li>
<li>2020.09.10 å¼€å§‹æ›´æ–°<strong>çº¿ç¨‹çš„åŒæ­¥</strong>ã€‚</li>
<li>2020.09.11 æ›´æ–°<strong>çº¿ç¨‹çš„åŒæ­¥</strong>ä¸­çš„<strong>æ­»é”é—®é¢˜</strong>å’Œ<strong>æ˜¾å¼é”Lock</strong>ã€‚</li>
<li>2020.09.12 æ›´æ–°<strong>çº¿ç¨‹çš„é€šä¿¡</strong>ã€‚</li>
<li>2020.09.19 æ›´æ–°<strong>JDK 5.0æ–°å¢çš„çº¿ç¨‹åˆ›å»ºæ–¹å¼</strong>ã€‚</li>
</ul>

      
    </div>

    
    
    
      <footer class="post-footer">
        <div class="post-eof"></div>
      </footer>
  </article>
  
  
  


  
  <nav class="pagination">
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/"><i class="fa fa-angle-right" aria-label="ä¸‹ä¸€é¡µ"></i></a>
  </nav>



          </div>
          

<script>
  window.addEventListener('tabs:register', () => {
    let { activeClass } = CONFIG.comments;
    if (CONFIG.comments.storage) {
      activeClass = localStorage.getItem('comments_active') || activeClass;
    }
    if (activeClass) {
      let activeTab = document.querySelector(`a[href="#comment-${activeClass}"]`);
      if (activeTab) {
        activeTab.click();
      }
    }
  });
  if (CONFIG.comments.storage) {
    window.addEventListener('tabs:click', event => {
      if (!event.target.matches('.tabs-comment .tab-content .tab-pane')) return;
      let commentClass = event.target.classList[1];
      localStorage.setItem('comments_active', commentClass);
    });
  }
</script>

        </div>
          
  
  <div class="toggle sidebar-toggle">
    <span class="toggle-line toggle-line-first"></span>
    <span class="toggle-line toggle-line-middle"></span>
    <span class="toggle-line toggle-line-last"></span>
  </div>

  <aside class="sidebar">
    <div class="sidebar-inner">

      <ul class="sidebar-nav motion-element">
        <li class="sidebar-nav-toc">
          æ–‡ç« ç›®å½•
        </li>
        <li class="sidebar-nav-overview">
          ç«™ç‚¹æ¦‚è§ˆ
        </li>
      </ul>

      <!--noindex-->
      <div class="post-toc-wrap sidebar-panel">
      </div>
      <!--/noindex-->

      <div class="site-overview-wrap sidebar-panel">
        <div class="site-author motion-element" itemprop="author" itemscope itemtype="http://schema.org/Person">
  <p class="site-author-name" itemprop="name">Jiong Liu</p>
  <div class="site-description" itemprop="description"></div>
</div>
<div class="site-state-wrap motion-element">
  <nav class="site-state">
      <div class="site-state-item site-state-posts">
          <a href="/archives/">
        
          <span class="site-state-item-count">22</span>
          <span class="site-state-item-name">æ—¥å¿—</span>
        </a>
      </div>
      <div class="site-state-item site-state-categories">
            <a href="/categories/">
          
        <span class="site-state-item-count">4</span>
        <span class="site-state-item-name">åˆ†ç±»</span></a>
      </div>
      <div class="site-state-item site-state-tags">
            <a href="/tags/">
          
        <span class="site-state-item-count">9</span>
        <span class="site-state-item-name">æ ‡ç­¾</span></a>
      </div>
  </nav>
</div>



      </div>

    </div>
  </aside>
  <div id="sidebar-dimmer"></div>


      </div>
    </main>

    <footer class="footer">
      <div class="footer-inner">
        

        

<div class="copyright">
  
  &copy; 
  <span itemprop="copyrightYear">2020</span>
  <span class="with-love">
    <i class="fa fa-heart"></i>
  </span>
  <span class="author" itemprop="copyrightHolder">Jiong Liu</span>
</div>
  <div class="powered-by">ç”± <a href="https://hexo.io/" class="theme-link" rel="noopener" target="_blank">Hexo</a> & <a href="https://theme-next.org/" class="theme-link" rel="noopener" target="_blank">NexT.Gemini</a> å¼ºåŠ›é©±åŠ¨
  </div>

        








      </div>
    </footer>
  </div>

  
  <script src="/lib/anime.min.js"></script>
  <script src="/lib/velocity/velocity.min.js"></script>
  <script src="/lib/velocity/velocity.ui.min.js"></script>

<script src="/js/utils.js"></script>

<script src="/js/motion.js"></script>


<script src="/js/schemes/pisces.js"></script>


<script src="/js/next-boot.js"></script>




  















  

  
      

<script>
  if (typeof MathJax === 'undefined') {
    window.MathJax = {
      loader: {
        source: {
          '[tex]/amsCd': '[tex]/amscd',
          '[tex]/AMScd': '[tex]/amscd'
        }
      },
      tex: {
        inlineMath: {'[+]': [['$', '$']]},
        tags: 'ams'
      },
      options: {
        renderActions: {
          findScript: [10, doc => {
            document.querySelectorAll('script[type^="math/tex"]').forEach(node => {
              const display = !!node.type.match(/; *mode=display/);
              const math = new doc.options.MathItem(node.textContent, doc.inputJax[0], display);
              const text = document.createTextNode('');
              node.parentNode.replaceChild(text, node);
              math.start = {node: text, delim: '', n: 0};
              math.end = {node: text, delim: '', n: 0};
              doc.math.push(math);
            });
          }, '', false],
          insertedScript: [200, () => {
            document.querySelectorAll('mjx-container').forEach(node => {
              let target = node.parentNode;
              if (target.nodeName.toLowerCase() === 'li') {
                target.parentNode.classList.add('has-jax');
              }
            });
          }, '', false]
        }
      }
    };
    (function () {
      var script = document.createElement('script');
      script.src = '//cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js';
      script.defer = true;
      document.head.appendChild(script);
    })();
  } else {
    MathJax.startup.document.state(0);
    MathJax.texReset();
    MathJax.typeset();
  }
</script><!-- hexo-inject:begin --><!-- hexo-inject:end -->

    

  

</body>
</html>
